import{b as C,D,c as N,U as h,V as v}from"./index-dc3d6bad.js";import{o as H,r as s,u as J,R as t}from"./react-4266950f.js";import{I as b}from"./index-caf067c6.js";import"./react-router-dom-9634600e.js";import"./vendor-e5057d33.js";import"./lodash-9c2f29ae.js";import"./react-redux-46793d55.js";const P=()=>{const a=N("zone"),i=H(),n=s.exports.useMemo(()=>Number(i.type),[i.type]),[d,f]=s.exports.useState([]),[y,E]=s.exports.useReducer(g,[]),R=s.exports.useMemo(()=>{var e;return(e=d.find(o=>o.id===n))==null?void 0:e.name},[d,n]),l=s.exports.useRef(0),r=s.exports.useRef(null),u=20,{push:j}=J();async function m(){var c;const e=await h(n,l.current,u),o=l.current===0?"reset":"add";E({type:o,payload:e.djRadios}),l.current+=u,(c=r.current)==null||c.call(r,e.hasMore)}async function x(){const e=await v();f(e.categories)}function g(e,o){const{type:c,payload:p}=o;return c==="reset"?p:[...e,...p]}return s.exports.useEffect(()=>{x(),m()},[]),t.createElement("div",{className:a()},t.createElement("h2",{className:a("title")},R),t.createElement("section",{className:a("cards")},y.map(e=>t.createElement("div",{key:e.id,className:a("card")},t.createElement(C,{className:a("img"),src:e.picUrl,onClick:()=>j(D.radioList(e.id))}),t.createElement("div",{className:a("right")},t.createElement("h3",null,e.name),t.createElement("div",null,e.desc),t.createElement("small",null,"\u8282\u76EE:",e.programCount,"\uFF0C\u8BA2\u9605:",e.subCount))))),t.createElement(b,{ref:r,cb:m}))};export{P as default};
