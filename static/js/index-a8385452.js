var Ct=Object.defineProperty,bt=Object.defineProperties;var xt=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var Me=(e,n,s)=>n in e?Ct(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,C=(e,n)=>{for(var s in n||(n={}))Pe.call(n,s)&&Me(e,s,n[s]);if(se)for(var s of se(n))Re.call(n,s)&&Me(e,s,n[s]);return e},V=(e,n)=>bt(e,xt(n));var z=(e,n)=>{var s={};for(var a in e)Pe.call(e,a)&&n.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&se)for(var a of se(e))n.indexOf(a)<0&&Re.call(e,a)&&(s[a]=e[a]);return s};import{R as t,r as i,e as X,u as H,j as fe,k as $e,S as je,l as Ve,n as Ft}from"./react-69194784.js";import{L as kt,H as Dt}from"./react-router-dom-fbac4128.js";import{h as ze,j as R,k as w,m as Ee,n as Y,q as J,r as ee,t as Nt,C as he,u as ae,T as Ue,v as St,D as wt,F as At,w as Bt,N as Lt,S as qe,H as ye,x as Ot,y as It,z as He,A as Tt,B as Pt,E as Rt,R as Mt,G as $t,I as jt,L as Vt,J as ve,Q as zt,K as Je,M as Ut,O as qt,U as Ht,V as Jt,W as Gt,X as Ce,Y as Yt,Z as Kt,$ as Zt,a0 as Qt,a1 as Wt,a2 as Xt,a3 as en,a4 as Ge,a5 as Ye,a6 as tn,a7 as nn,a8 as Ke,a9 as sn,aa as be,ab as an,ac as rn,ad as on,ae as ln,af as cn,ag as un,ah as mn}from"./vendor-441fcb21.js";import{u as T,a as N,P as _n}from"./react-redux-9f5c3214.js";import{g as dn,d as pn}from"./lodash-16b1923a.js";const gn=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}};gn();const fn="modulepreload",Ze={},En="",b=function(n,s){return!s||s.length===0?n():Promise.all(s.map(a=>{if(a=`${En}${a}`,a in Ze)return;Ze[a]=!0;const o=a.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${r}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":fn,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,g)=>{l.addEventListener("load",u),l.addEventListener("error",g)})})).then(()=>n())};const hn="_sidebar_yo7cu_1",yn="_sidebar__header_yo7cu_6",vn="_sidebar__main_yo7cu_23",Cn="_sidebar__item_yo7cu_34",bn="_sidebar__title_yo7cu_56";var Qe={sidebar:hn,sidebar__header:yn,sidebar__main:vn,"sidebar__main-content":"_sidebar__main-content_yo7cu_31",sidebar__item:Cn,"--active":"_--active_yo7cu_43",sidebar__title:bn,"sidebar__title-left":"_sidebar__title-left_yo7cu_65","sidebar__title-right":"_sidebar__title-right_yo7cu_70"};const xn="_scrollbar_11l6t_1",Fn="_scrollbar__content_11l6t_8";var kn={scrollbar:xn,scrollbar__content:Fn};const xe={set(e,n,s=864e5){const a=typeof n=="string"?n:R.stringify(n);return localStorage.setItem(e,a),localStorage.setItem(`${e}__expires__`,Date.now()+s+""),n},get(e){const n=Date.now(),s=localStorage.getItem(`${e}__expires__`)||n+1;if(n>=s){this.remove(e);return}return localStorage.getItem(e)},remove(e){localStorage.removeItem(e),localStorage.removeItem(`${e}__expires__`)}};function U(e,n){return e.then(s=>[null,s]).catch(s=>(n&&Object.assign(s,n),[s,void 0]))}const Dn=e=>e?e<1e4?""+e:Math.floor(e/1e4)+"\u4E07":0,Nn=()=>{},Fe=e=>ze(e).format("mm:ss"),Sn=e=>{const n=e.split(":"),s=Number(n[0]),a=Number(n[1]),o=s*60+a;return Number.isNaN(o)?0:o*1e3},K=(e,n=200,s)=>`${e}?param=${n}y${s||n}`,wn=e=>{const{id:n,name:s,duration:a,album:o,artists:r}=e;return{id:n,name:s,dt:a,al:o,ar:r}},rr=e=>{const{id:n,name:s,duration:a,album:o,artists:r}=e;return{id:n,name:s,dt:a,al:o,ar:r}};function F(e,n){return function(s){const a=e+(s?"__"+s:"");return n?n[a]:a}}const ke=t.forwardRef(({children:e,className:n},s)=>{const a=F("scrollbar",kn);return t.createElement("div",{ref:s,className:w(a(),n)},t.createElement("div",{className:a("content")},e))}),An="_login_guh86_1",Bn="_login__mask_guh86_16",Ln="_login__img_guh86_24",On="_login__form_guh86_28",In="_login__btn_guh86_51",Tn="_login__register_guh86_65";var Pn={login:An,login__mask:Bn,login__img:Ln,login__form:On,"login__form-item":"_login__form-item_guh86_37",login__btn:In,login__register:Tn},Rn="static/svg/login-5a53f576.svg";const re=(e="\u63A5\u53E3\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E")=>(Y.error(e),Promise.reject()),Mn="http://47.100.62.108:4000/",De=[],$n=()=>{De.forEach(e=>{e()}),De.length=0},jn=e=>{const n={400:"\u8BF7\u6C42\u9519\u8BEF(400)",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)",403:"\u62D2\u7EDD\u8BBF\u95EE(403)",404:"\u8BF7\u6C42\u51FA\u9519(404)",408:"\u8BF7\u6C42\u8D85\u65F6(408)",500:"\u670D\u52A1\u5668\u9519\u8BEF(500)",501:"\u670D\u52A1\u672A\u5B9E\u73B0(501)",502:"\u7F51\u7EDC\u9519\u8BEF(502)",503:"\u670D\u52A1\u4E0D\u53EF\u7528(503)",504:"\u7F51\u7EDC\u8D85\u65F6(504)",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)",0:`\u8FDE\u63A5\u51FA\u9519(${e})!`};return`${n[e]||n[0]}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},oe=Ee.create({baseURL:Mn,timeout:1e4,headers:{"Content-Type":"application/json"},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=R.parse(e)),e)]});oe.interceptors.request.use(e=>{e.cancelToken=new Ee.CancelToken(s=>{De.push(s)});const n=xe.get("userInfo");if(n){const s=R.parse(n);e.url=e.url+"?cookie="+s.cookie}return e},re);oe.interceptors.response.use(async e=>{const n=e.status;return n<200||n>=300?re(jn(n)):e.data.code===200?e.data:re(e.data.message)},e=>Ee.isCancel(e)?new Promise(Nn):re());const m=(e,n,s)=>oe.get(e,V(C({},s),{params:n})),Vn=(e,n,s)=>oe.post(e,n,s),zn=e=>Vn("/login/cellphone",e),Un=e=>m("/user/playlist",{uid:e}),or=()=>m("/banner"),lr=()=>m("/dj/banner"),cr=e=>m("/personalized",e),ir=e=>m("/personalized/privatecontent/list",e),ur=()=>m("/personalized/mv"),mr=()=>m("/album/newest"),_r=(e=6)=>m("/dj/toplist",{limit:e}),qn=e=>m("/song/url",{id:e}),Hn=e=>m("/lyric",{id:e}),Jn=()=>m("/personal_fm"),Gn=(e,n=0)=>m("/comment/music",{id:e,offset:n}),dr=(e,n=0)=>m("/comment/playlist",{id:e,offset:n}),pr=()=>m("/playlist/hot"),gr=()=>m("/playlist/catlist"),fr=({offset:e,limit:n,cat:s})=>m("/top/playlist",{cat:s,offset:e,limit:n}),Er=()=>m("/dj/catelist"),hr=(e=5)=>m("/dj/personalize/recommend",{limit:e}),yr=(e=0,n=4)=>m("/dj/paygift",{offset:e,limit:n}),vr=e=>m("/user/audio",{uid:e}),Cr=e=>m("/dj/recommend/type",{type:e}),br=()=>m("/toplist"),Yn=e=>m("/playlist/detail",{id:e}),xr=e=>m("/artist/list",e),Fr=e=>m("/top/song",{type:e}),kr=e=>m("/top/album",e),Dr=()=>m("/video/category/list"),Nr=(e,n=0)=>m("/video/group",{id:e,offset:n}),Sr=(e,n=6)=>m("/mv/first",{area:e,limit:n}),wr=(e=6)=>m("/mv/all",{limit:e}),Ar=(e=6)=>m("/mv/exclusive/rcmd",{limit:e}),Br=(e,n=10)=>m("/top/mv",{area:e,limit:n}),Lr=()=>m("/dj/sublist"),Or=()=>m("/album/sublist"),Ir=()=>m("/artist/sublist"),Tr=()=>m("/mv/sublist"),Kn=e=>m("/simi/playlist",{id:e}),Zn=e=>m("/simi/song",{id:e}),Qn=e=>m("/song/detail",{ids:e}),Wn=()=>m("/search/hot/detail"),Pr=({id:e,offset:n,limit:s=20})=>m("/playlist/subscribers",{id:e,offset:n,limit:s}),Xn=e=>m("/search/suggest",{keywords:e}),Rr=e=>m("/search",e),Mr=e=>m("/search/multimatch",{keywords:e}),$r=e=>m("/artist/detail",{id:e}),jr=e=>m("/artist/top/song",{id:e}),Vr=e=>m("/artist/album",{id:e}),zr=e=>m("/artist/desc",{id:e}),es=e=>m("/album",{id:e}),Ur=e=>m("/artist/mv",{id:e}),qr=e=>m("/simi/artist",{id:e}),Hr=e=>m("/album/detail/dynamic",{id:e}),Jr=(e,n=0)=>m("/comment/album",{id:e,offset:n}),Gr=e=>m("/user/detail",{uid:e}),Yr=()=>m("/recommend/songs"),Kr=(e,n=0)=>m("/comment/video",{id:e,offset:n}),Zr=e=>m("/video/detail",{id:e}),Qr=e=>m("/video/url",{id:e}),Wr=e=>m("/related/allvideo",{id:e}),Xr=()=>m("/video/group/list"),eo=(e=0)=>m("/video/timeline/all",{offset:e}),to=e=>m("/dj/detail",{rid:e}),no=e=>m("/dj/program",{rid:e}),so=(e,n)=>m("/dj/subscriber",{id:e,time:n}),ts=e=>m("/comment/dj",{id:e}),ao=e=>m("/mv/url",{id:e}),ro=e=>m("/mv/detail",{mvid:e}),oo=e=>m("/mv/detail/info",{mvid:e}),lo=(e,n=0)=>m("/comment/mv",{id:e,offset:n}),co=(e,n)=>m("/user/cloud",{offset:e,limit:n}),io=()=>m("/playlist/highquality/tags"),uo=(e,n=1,s)=>m("/top/playlist/highquality",{cat:e,limit:n,before:s}),mo=(e,n,s)=>m("/dj/radio/hot",{cateId:e,offset:n,limit:s});var We="static/svg/avatar-86c9b0fc.svg";const Xe=e=>"userInfo"+e?`/${e}`:"",le=J(Xe("set"),async({phone:e,password:n},{rejectWithValue:s})=>{const[a,o]=await U(zn({phone:e,password:n}));if(a||!o)return s(null);const u=o,{code:r}=u,l=z(u,["code"]);return r===200?l:s(null)}),{reducer:ns,actions:ss}=ee({name:Xe(),initialState:{cookie:"",profile:{avatarUrl:We,nickname:"\u672A\u767B\u5F55",userId:0,description:""}},reducers:{setUserInfoFromCache(e,n){return C(C({},e),n.payload)}},extraReducers(e){e.addCase(le.fulfilled,(n,s)=>C(C({},n),s.payload)),e.addCase(le.rejected,n=>(Y.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),n))}}),{setUserInfoFromCache:as}=ss,et=e=>"userPlaylist"+e?`/${e}`:"",rs={playlist:[]},ce=J(et("set"),async(e,{rejectWithValue:n})=>{const[s,a]=await U(Un(e));if(s||!a)return n(null);const l=a,{code:o}=l,r=z(l,["code"]);return o===200?r:n(null)}),{reducer:os}=ee({name:et(),initialState:rs,reducers:{},extraReducers(e){e.addCase(ce.fulfilled,(n,s)=>C(C({},n),s.payload)),e.addCase(ce.rejected,n=>(Y.error("\u83B7\u53D6\u6B4C\u5355\u5217\u8868\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),n))}});var G;(function(e){e[e.IN_TURN=0]="IN_TURN",e[e.LOOP=1]="LOOP",e[e.SOLO=2]="SOLO",e[e.RANDOM=3]="RANDOM"})(G||(G={}));var tt;(function(e){e[e.SONG=1]="SONG",e[e.SINGER=100]="SINGER",e[e.ALBUM=10]="ALBUM",e[e.VIDEO=1014]="VIDEO",e[e.PLAYLIST=1e3]="PLAYLIST",e[e.LYRIC=1006]="LYRIC",e[e.RADIO=1009]="RADIO",e[e.USER=1002]="USER"})(tt||(tt={}));const te=e=>`currentTrack/${e}`,nt=localStorage.getItem("currentTrack"),ls=nt?R.parse(nt):{current:-1,tracks:[],fm:[],autoPlay:!0},ie=J(te("setSong"),async(e,{rejectWithValue:n})=>{const[s,a]=await U(qn(e));if(s||!a)return n(null);const{code:o,data:r}=a;return o===200?r.length===0||!r[0].url?(Y.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<"),n(null)):r[0]:n(null)}),Ne=J(te("setFM"),async(e,{rejectWithValue:n})=>{const[s,a]=await U(Jn());if(s||!a)return n(null);const{code:o,data:r}=a;return o===200&&r.length?{init:e,data:r}:n(null)}),ue=J(te("nextFM"),async(e,{getState:n,dispatch:s,rejectWithValue:a})=>{const o=n(),{currentTrack:r}=o,{fm:l,current:u}=r,g=C({},r),p=l.length;if(p===u+1){const[d]=await U(s(Ne(!1)));if(d)return a(null)}return g.current++,g.current%=p,g}),Se=J(te("insertSong"),async(e,{rejectWithValue:n,dispatch:s})=>{const[a,o]=await U(Promise.all([Qn(e),s(ie(e))]));return a||!(o==null?void 0:o[0])?n(null):o[0]}),st=J(te("fetchAndSetCurrentTrack"),async(e,{rejectWithValue:n,dispatch:s})=>{let a,o;typeof e=="number"?a=e:(a=e.id,o=e.isAlbum);let r;if(o){const[l,u]=await U(es(a));if(l||!u)return n(null);r=u.songs}else{const[l,u]=await U(Yn(a));if(l||!u)return n(null);r=u.playlist.tracks}s(us({current:0,tracks:r,fm:[]}))}),{reducer:cs,actions:is}=ee({name:"currentTrack",initialState:ls,reducers:{setAutoPlay(e,n){const s=C({},e);return s.autoPlay=n.payload,s},setCurrentTrack(e,n){const u=e,{cacheCurrent:s}=u,a=z(u,["cacheCurrent"]),{current:o,tracks:r,fm:l}=n.payload;return l.length=0,V(C({},a),{current:o,tracks:r,fm:l,autoPlay:!0})},changeSong(e,n){const{tracks:s,current:a}=e,o=p=>Math.floor((p-1)*Math.random()),r=[],l=p=>{const{mode:d,next:_}=n.payload,f=s.length;let c;return d===G.RANDOM?c=o(f):(c=_?p+1:p-1,c<0&&(c+=f),c%=f),r.includes(c)||r.push(c),s[c].disable&&r.length<s.length&&(c=l(c)),c},u=l(a),g=C({},e);return g.current=u,g.autoPlay=!0,g},changeCurrent(e,n){const s=C({},e);return s.current=n.payload,s.autoPlay=!0,s}},extraReducers(e){const n=s=>s;e.addCase(ie.fulfilled,(s,a)=>V(C({},s),{song:a.payload})),e.addCase(ie.rejected,s=>C({},s)),e.addCase(Ne.fulfilled,(s,a)=>{const o=C({},s),{init:r,data:l}=a.payload;return o.fm=l,r&&(o.cacheCurrent=o.current),o.current=0,o.autoPlay=!0,o}),e.addCase(Ne.rejected,n),e.addCase(ue.fulfilled,s=>{const a=C({},s);return a.current++,a}),e.addCase(ue.rejected,n),e.addCase(Se.fulfilled,(s,a)=>{const o=C({},s);o.fm=[],o.tracks=[...o.tracks];let r=!1;return a.payload.songs.forEach(l=>{o.tracks.find(u=>l.id===u.id)||(o.tracks.push(l),r=!0)}),r&&(o.current=o.tracks.length-1),o.autoPlay=!0,o}),e.addCase(Se.rejected,n),e.addCase(st.fulfilled,s=>{const a=C({},s);return a.autoPlay=!0,a}),e.addCase(st.rejected,n)}}),{setCurrentTrack:us,changeSong:at,changeCurrent:ms}=is,rt=localStorage.getItem("controller"),_s=rt?R.parse(rt):{playMode:G.IN_TURN,pause:!0,currentTime:0,showDetail:!1,keywords:""},{reducer:ds,actions:ps}=ee({name:"controller",initialState:_s,reducers:{setPlayMode(e,n){const s=C({},e);return s.playMode=n.payload,s},setPause(e,n){const s=C({},e);return s.pause=n.payload,s},setCurrentTime(e,n){const s=C({},e);return s.currentTime=n.payload,s},setShowDetail(e,n){const s=C({},e);return s.showDetail=n.payload,s},setKeywords(e,n){const s=C({},e);return s.keywords=n.payload,s},setController(e,n){return C(C({},e),n.payload)}}}),{setPlayMode:gs,setPause:ot,setCurrentTime:we,setShowDetail:Ae,setKeywords:lt,setController:_o}=ps,ct=localStorage.getItem("currentTrack"),fs=ct?R.parse(ct):{},{reducer:Es,actions:hs}=ee({name:"djDetail",initialState:fs,reducers:{setDJDetail(e,n){return n.payload}}}),{setDJDetail:po}=hs,Be=Nt({reducer:{user:ns,userPlaylist:os,currentTrack:cs,controller:ds,djDetail:Es}}),ys=({setShowLogin:e})=>{const n=F("login",Pn),s=document.getElementById("portal"),[a,o]=i.exports.useState(""),[r,l]=i.exports.useState(""),u=T(),g=d=>{d.stopPropagation(),e(!1)},p=async d=>{if(d.preventDefault(),!a||!r)return;const _=await u(le({phone:a,password:r}));if(le.fulfilled.match(_)){xe.set("userInfo",_.payload);const{userId:f}=_.payload.profile;u(ce(f)),e(!1),Y.success("\u767B\u5F55\u6210\u529F\uFF5E")}};return X.exports.createPortal(t.createElement("div",{className:n("mask")},t.createElement("form",{className:n()},t.createElement(he,{onClick:g}),t.createElement("img",{className:n("img"),src:Rn,alt:"login"}),t.createElement("div",{className:n("form")},t.createElement("div",{className:n("form-item")},t.createElement("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",value:a,onChange:d=>o(d.target.value)})),t.createElement("div",{className:n("form-item")},t.createElement("input",{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",value:r,onChange:d=>l(d.target.value)}))),t.createElement("button",{type:"submit",className:n("btn"),onClick:p},"\u767B\u5F55"))),s)},vs=()=>{const e=F("sidebar",Qe),[n,s]=i.exports.useState(),{push:a}=H(),{pathname:o}=fe(),[r,l]=i.exports.useState(!1),{profile:u,cookie:g}=N(y=>y.user),p=N(y=>y.userPlaylist.playlist),d=T(),_=[{menus:[{name:"\u53D1\u73B0\u97F3\u4E50",icon:ae,path:E.findMusic},{name:"\u79C1\u4EBAFM",icon:Ue,path:E.fm},{name:"\u89C6\u9891",icon:St,path:E.video,loginShow:!0},{name:"\u670B\u53CB",icon:Ue,path:E.friend}]},{title:"\u6211\u7684\u97F3\u4E50",menus:[{name:"iTunes\u97F3\u4E50",icon:ae,path:E.iTunes},{name:"\u4E0B\u8F7D\u7BA1\u7406",icon:wt,path:E.download},{name:"\u6700\u8FD1\u64AD\u653E",icon:At,path:E.recent},{name:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",icon:Bt,path:E.cloudMusic,loginShow:!0},{name:"\u6211\u7684\u7535\u53F0",icon:Lt,path:E.radio,loginShow:!0},{name:"\u6211\u7684\u6536\u85CF",icon:qe,path:E.collection,loginShow:!0}]},{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[{name:"\u6211\u559C\u6B22\u7684\u97F3\u4E50",icon:ye,path:A.list("")}]}],[f,c]=i.exports.useReducer(D,_),x=({menu:y,index:k})=>{const S=P(n,k);return t.createElement("div",{key:y.path,className:w(e("item"),{[Qe["--active"]]:S}),onClick:()=>v({menu:y,index:k})},t.createElement(y.icon,null),t.createElement("a",null,y.name))};function D(y,k){return[...y.slice(0,2),...k]}function v({menu:y,index:k}){s(k),a(y.path)}function h(){l(!0)}function B(){const y=xe.get("userInfo");if(!y)return;const k=R.parse(y);d(as(k));const{userId:S}=k.profile;d(ce(S))}function $(){for(let y=0,k=f.length;y<k;y++){const{menus:S}=f[y];for(let O=0,Q=S.length;O<Q;O++){const W=S[O];if(o.includes(W.path))return[y,O]}}}function P(y,k){if(!y||!k||y.length!==y.length)return!1;for(let S=0,O=y.length;S<O;S++)if(y[S]!==k[S])return!1;return!0}function q(y,k){if(!!y.title)return t.createElement("div",{className:e("title")},k<2?y.title:t.createElement(t.Fragment,null,t.createElement("div",{className:e("title-left")},t.createElement(It,null),t.createElement("strong",null,y.title)),y.title==="\u521B\u5EFA\u7684\u6B4C\u5355"&&t.createElement(He,{className:e("title-right")})))}function I(){g?a({pathname:A.user(u.userId),state:!0}):l(!0)}return i.exports.useEffect(()=>{(async()=>{const y=$();s(y)})()},[o]),i.exports.useEffect(()=>{B()},[]),i.exports.useEffect(()=>{const y=[{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[]},{title:"\u6536\u85CF\u7684\u6B4C\u5355",menus:[]}];!p||p.length===0||(p.forEach(k=>{const{name:S,id:O,userId:Q}=k,W=A.list(O),ne={name:S,path:W,icon:ae},pe=Q===u.userId?0:1;y[pe].menus.push(ne)}),c(y))},[p]),t.createElement("aside",{className:e()},t.createElement("header",{className:e("header")},t.createElement("img",{src:K(u.avatarUrl,100),alt:"icon",onClick:I}),t.createElement("strong",{onClick:h},u.nickname),t.createElement(Ot,{onClick:h})),t.createElement(ke,{className:e("main")},f.map((y,k)=>t.createElement("div",{key:k},q(y,k),y.menus.map((S,O)=>g||!S.loginShow?t.createElement(x,{key:O,menu:S,index:[k,O]}):null)))),r&&t.createElement(ys,{setShowLogin:l}))},Cs="_footer_oumu4_1",bs="_footer__left_oumu4_30",xs="_footer__right_oumu4_58",Fs="_footer__lyric_oumu4_62",ks="_footer__mid_oumu4_72",Ds="_footer__volume_oumu4_103";var M={footer:Cs,"footer__progress-bar":"_footer__progress-bar_oumu4_14",footer__left:bs,"footer__left-name":"_footer__left-name_oumu4_42",footer__right:xs,footer__lyric:Fs,"--active":"_--active_oumu4_69",footer__mid:ks,"--big":"_--big_oumu4_87","--medium":"_--medium_oumu4_90","--red":"_--red_oumu4_93","--disable":"_--disable_oumu4_96",footer__volume:Ds};const Ns=(e,n)=>{const s=N(l=>l.controller.pause),a=T(),o=i.exports.useMemo(()=>s?Tt:Pt,[s]);function r(l){!n||a(ot(l))}return i.exports.useEffect(()=>{!(e==null?void 0:e.current)||(s?e.current.pause():e.current.play())},[s]),{PlayIcon:o,pause:s,handlePause:r}},Ss=(e,n,s)=>{const a=N(u=>u.controller.currentTime),o=T();return{currentTime:a,handleTimeUpdate:()=>{!(e==null?void 0:e.current)||o(we(e.current.currentTime*1e3))},handleProgressClick:u=>{if(!(n==null?void 0:n.current)||!(e==null?void 0:e.current)||!s)return;const{pageX:g}=u,{left:p,width:d}=n.current.getBoundingClientRect(),_=(g-p)/d*s/1e3;e.current.currentTime=_,o(we(_))}}},ws=()=>{const e=N(r=>r.controller.playMode),n=T(),s=[{key:"inTurn",tip:"\u987A\u5E8F\u64AD\u653E",icon:Rt},{key:"loop",tip:"\u5FAA\u73AF\u64AD\u653E",icon:Mt},{key:"solo",tip:"\u5355\u66F2\u5FAA\u73AF",icon:$t},{key:"random",tip:"\u968F\u673A\u64AD\u653E",icon:jt}],a=i.exports.useMemo(()=>s[e],[e]);return{playMode:e,handleIconClick:()=>{const r=e===3?0:e+1;n(gs(r))},currentPlayMode:a}},As=()=>{const e=i.exports.useRef(null),[n,s]=i.exports.useState(!1);return{listButtonRef:e,showList:n,setShowList:s}},Bs=()=>{const[e,n]=i.exports.useState(!1);return{lyricActive:e,setLyricActive:n}},Ls=e=>{const[n,s]=i.exports.useState(100);return{volume:n,setVolume:s,handleVolumeChange:r=>{s(r.currentTarget.volume*100)},handleSliderChange:r=>{!(e==null?void 0:e.current)||(e.current.volume=r/100)}}},Os="_fold_7eol0_1";var it={"music-detail":"_music-detail_7eol0_1",fold:Os,"music-detail__shim":"_music-detail__shim_7eol0_14","--show":"_--show_7eol0_31","music-detail__player":"_music-detail__player_7eol0_34","music-detail__info":"_music-detail__info_7eol0_41","music-detail__comment":"_music-detail__comment_7eol0_46"};const Is="_cover_j60n2_1",Ts="_cover__inner_j60n2_11",Ps="_rotate_j60n2_1";var ut={cover:Is,cover__inner:Ts,"--animate":"_--animate_j60n2_17",rotate:Ps};const Rs="_img_pj7a2_1",Ms="_img__play_pj7a2_11",$s="_img__loading_pj7a2_31",js="_img__count_pj7a2_39";var me={img:Rs,img__play:Ms,"--center":"_--center_pj7a2_18","--bottom":"_--bottom_pj7a2_23","--show":"_--show_pj7a2_28",img__loading:$s,img__count:js};const Vs="_icon_fxwxv_1",zs="_icon__play_fxwxv_11",Us="_icon__pause_fxwxv_19";var mt={icon:Vs,icon__play:zs,icon__pause:Us,"--small":"_--small_fxwxv_23","--medium":"_--medium_fxwxv_28","--big":"_--big_fxwxv_33","--large":"_--large_fxwxv_38","--giant":"_--giant_fxwxv_43"};const qs=e=>{const n=F("icon",mt),l=e,{type:s="play",size:a,className:o}=l,r=z(l,["type","size","className"]);return t.createElement("span",C({className:w(mt[`--${a}`],o,n()),tabIndex:-1},r),s==="play"?t.createElement("span",{className:n("play")}):t.createElement("span",{className:n("pause")},"| |"))},_e=({alt:e="",banLoading:n=!1,style:s,className:a,src:o,icon:r=!1,count:l,onClick:u,onIconClick:g})=>{const p=F("img",me),d=i.exports.useRef(null),[_,f]=i.exports.useState(!1),[c,x]=i.exports.useState(!0),[D,v]=i.exports.useState(!1),h=i.exports.useMemo(()=>{const P={size:"small",placement:"center",hoverDisplay:!1};return r===!1?!1:r===!0?P:C(C({},P),r)},[r]),B=new IntersectionObserver(P=>{P.forEach(q=>{var I;q.isIntersecting&&d&&((I=d.current)==null?void 0:I.style)&&f(!0)})});function $(){x(!1)}return i.exports.useEffect(()=>{if(!!d.current)return B.observe(d.current),()=>{!d.current||(B.unobserve(d.current),B.disconnect())}},[]),t.createElement("div",{ref:d,className:w(p(),a),style:s},_&&t.createElement("img",{src:o,alt:e,onLoad:$,onMouseMove:()=>v(!0),onMouseLeave:()=>v(!1),onClick:u}),!n&&c&&t.createElement(Vt,{className:p("loading")}),!c&&h&&t.createElement(qs,{size:h.size,className:w(p("play"),me[`--${h.size}`],me[`--${h.placement}`],{[me["--show"]]:!h.hoverDisplay||D}),onMouseMove:()=>v(!0),onClick:g}),l&&t.createElement("div",{className:p("count")},t.createElement(ve,null),l))},Hs=({img:e,pause:n})=>{const s=F("cover",ut);return t.createElement(t.Fragment,null,t.createElement("div",{className:s()},t.createElement(_e,{className:w(s("inner"),{[ut["--animate"]]:!n}),src:K(e,300)})))};var Js={"button-group":"_button-group_ervze_1","button-group__item":"_button-group__item_ervze_6"};const Gs=({data:e})=>{const n=F("button-group",Js);return t.createElement("ul",{className:n()},e.map((s,a)=>t.createElement("li",{key:a,className:n("item"),onClick:s.event},t.createElement(s.icon,null))))},Ys="_lyric_19q8r_1",Ks="_lyric__quality_19q8r_19",Zs="_lyric__info_19q8r_30",Qs="_lyric__wrapper_19q8r_46",Ws="_lyric__question_19q8r_69",Xs="_lyric__anchor_19q8r_81",ea="_lyric__container_19q8r_84";var _t={lyric:Ys,"lyric__music-name":"_lyric__music-name_19q8r_12",lyric__quality:Ks,lyric__info:Zs,lyric__wrapper:Qs,"--selected":"_--selected_19q8r_65",lyric__question:Ws,lyric__anchor:Xs,lyric__container:ea};const ta=({music:e})=>{const n=F("lyric",_t),[s,a]=i.exports.useState([]),o=N(_=>_.controller.currentTime),r=i.exports.useRef(null),[l,u]=i.exports.useState(0),{push:g}=H();function p(_){const f=[];return _.replace(/((?:\[\d{2}:\d{2}\.\d{2,3}\])+)([\s\S]*?)(?=\[)/g,(c,x,D)=>{const h=x.match(/(?<=\[)\d{2}:\d{2}\.\d{2,3}(?=\])/g).map(B=>Sn(B));return!D||!D.trim()||f.push({timestamp:h,value:D}),""}),f}function d(){var D,v;if(!(r==null?void 0:r.current))return;const _=s.length;if(l===_-1)return;const f=r.current;let c=0;for(let h=l;h<_;h++)if(!!((v=(D=s[h])==null?void 0:D.timestamp)==null?void 0:v[0])&&o<=s[h].timestamp[0]){u(h-1),c=h-1;break}const x=44*c*window.innerWidth/1e3;c!==l&&f.scrollTo({top:x,behavior:"smooth"})}return i.exports.useEffect(()=>{var _;!(e==null?void 0:e.id)||((_=r.current)==null||_.scrollTo({top:0}),u(0),Hn(e.id).then(f=>{const{lrc:c,nolyric:x}=f;a(x?[]:p(c.lyric))}))},[e==null?void 0:e.id]),i.exports.useEffect(()=>{s.length&&d()},[o,s]),t.createElement("div",{className:n()},t.createElement("h2",null,t.createElement("span",{className:n("music-name")},e==null?void 0:e.name),t.createElement("span",{className:n("quality")},"\u6807\u51C6\u97F3\u8D28")),t.createElement("div",{className:n("info")},t.createElement("p",null,t.createElement("span",null,"\u4E13\u8F91\uFF1A"),t.createElement("a",{onClick:()=>g(A.list(e.album.id,"album"))},e==null?void 0:e.album.name)),t.createElement("p",null,t.createElement("span",null,"\u6B4C\u624B\uFF1A"),e==null?void 0:e.artists.map(_=>t.createElement("a",{className:n("anchor"),key:_.name,onClick:()=>g(A.singer(_.id))},_.name)))),t.createElement("div",{className:n("container")},s.length>0?t.createElement(ke,{ref:r,className:n("wrapper")},s.map((_,f)=>t.createElement("p",{key:f,className:w({[_t["--selected"]]:f===l})},_.value))):t.createElement("span",null,"\u7EAF\u97F3\u4E50\uFF0C\u8BF7\u60A8\u6B23\u8D4F")),t.createElement(zt,{className:n("question")}))},na="_comments_1stot_1",sa="_comments__left_1stot_9",aa="_comments__img_1stot_12",ra="_comments__right_1stot_18",oa="_comments__info_1stot_34",la="_comments__icons_1stot_39",ca="_comments__icon_1stot_39";var dt={comments:na,comments__left:sa,comments__img:aa,comments__right:ra,"--mentioned":"_--mentioned_1stot_21",comments__info:oa,comments__icons:la,comments__icon:ca};const pt=({comment:e})=>{var r;const n=F("comments",dt),{push:s}=H(),a=[{icon:Je,value:e.likedCount},{icon:Ut},{icon:qt}];function o(){s(A.user(e.user.userId))}return t.createElement("div",{className:n()},t.createElement("div",{className:n("left")},t.createElement(_e,{className:n("img"),src:K((e==null?void 0:e.user.avatarUrl)||We,30),onClick:o})),t.createElement("div",{className:n("right")},t.createElement("p",null,t.createElement("a",{onClick:o},e.user.nickname,"\uFF1A"),e.content),((r=e.beReplied)==null?void 0:r.length)>0&&t.createElement("p",{className:dt["--mentioned"]},e.beReplied.map(l=>t.createElement("span",{key:l.beRepliedCommentId},t.createElement("a",{onClick:()=>s(A.user(l.user.userId))},"@",l.user.nickname,"\uFF1A"),l.content))),t.createElement("div",{className:n("info")},t.createElement("span",null,ze(e.time).format("YYYY\u5E74M\u6708D\u65E5 HH:mm")),t.createElement("div",{className:n("icons")},a.map((l,u)=>t.createElement("div",{key:u,className:n("icon")},t.createElement(l.icon,null),l.value&&l.value>0?t.createElement("strong",null,l.value):null))))))};var ia={"comment-group__title":"_comment-group__title_1v435_1","comment-group__footer":"_comment-group__footer_1v435_5","comment-group__empty":"_comment-group__empty_1v435_11"};const ua=({id:e,children:n,api:s})=>{const a=F("comment-group",ia),[o,r]=i.exports.useState([]),[l,u]=i.exports.useState([]),[g,p]=i.exports.useState(0),[d,_]=i.exports.useState(1);async function f(c,x=1,D=20){if(!c)return;const v=(x-1)*D,h=await s(c,v);r(h.comments),h.hotComments&&u(h.hotComments),p(h.total)}return i.exports.useEffect(()=>{e&&f(e)},[e]),t.createElement("div",{className:a()},g>0?t.createElement(t.Fragment,null,n,l.length>0&&t.createElement(t.Fragment,null,t.createElement("h2",{className:a("title")},"\u7CBE\u5F69\u8BC4\u8BBA"),l.map(c=>t.createElement(pt,{key:c.commentId,comment:c}))),o.length>0&&t.createElement(t.Fragment,null,t.createElement("h2",{className:a("title")},"\u6700\u65B0\u8BC4\u8BBA\uFF08",g,"\uFF09"),o.map(c=>t.createElement(pt,{key:c.commentId,comment:c}))),g>20&&t.createElement("footer",{className:a("footer")},t.createElement(Ht,{total:g,showSizeChanger:!1,current:d,onChange:(c,x)=>{_(c),f(e,c,x)}}))):t.createElement("div",{className:a("empty")},"\u8FD8\u6CA1\u6709\u8BC4\u8BBA\uFF0C\u5FEB\u6765\u62A2\u6C99\u53D1\uFF5E"))},ma="_recommend_1byjg_1",_a="_recommend__title_1byjg_5",da="_recommend__item_1byjg_12",pa="_recommend__img_1byjg_29";var ga={recommend:ma,recommend__title:_a,recommend__item:da,"recommend__item-info":"_recommend__item-info_1byjg_20",recommend__img:pa};const fa=({id:e})=>{const n=F("recommend",ga),[s,a]=i.exports.useState([]),[o,r]=i.exports.useState([]);return i.exports.useEffect(()=>{(async()=>{const l=await Kn(e);a(l.playlists)})(),(async()=>{const l=await Zn(e);r(l.songs)})()},[e]),t.createElement("div",{className:n()},t.createElement("h2",{className:n("title")},"\u5305\u542B\u8FD9\u9996\u6B4C\u7684\u6B4C\u5355"),s.map(l=>t.createElement("div",{key:l.id,className:n("item")},t.createElement(_e,{className:n("img"),src:K(l.coverImgUrl,100)}),t.createElement("div",{className:n("item-info")},t.createElement("div",null,l.name),t.createElement("div",null,Dn(l.playCount))))),t.createElement("h2",{className:n("title")},"\u76F8\u4F3C\u6B4C\u66F2"),o.map(l=>t.createElement("div",{key:l.id,className:n("item")},t.createElement(_e,{className:n("img"),src:K(l.album.picUrl,100),icon:!0}),t.createElement("div",{className:n("item-info")},t.createElement("div",null,l.name),t.createElement("div",null,l.artists.reduce((u,g)=>`${u} ${g.name}`,"").slice(1))))))};var Ea={"write-comment__title":"_write-comment__title_16b6h_1","write-comment__input":"_write-comment__input_16b6h_5"};const ha=()=>{const e=F("write-comment",Ea);return t.createElement(t.Fragment,null,t.createElement("div",{className:e("title")},t.createElement("strong",null,"\u542C\u53CB\u8BC4\u8BBA"),t.createElement("span",null,"\uFF08\u5DF2\u6709187\u6761\u8BC4\u8BBA\uFF09")),t.createElement("div",{className:e("input")},t.createElement("span",null,t.createElement(Jt,null),t.createElement("span",{style:{marginLeft:"5px"}},"\u53D1\u8868\u8BC4\u8BBA")),t.createElement("p",null,"@")))},ya="_button_1iyu2_1",va="_button__left_1iyu2_10",Ca="_button__right_1iyu2_24";var de={button:ya,button__left:va,button__right:Ca,"--compose":"_--compose_1iyu2_34","--normal":"_--normal_1iyu2_41"};const ba=e=>{const n=F("button",de),u=e,{compose:s,children:a,className:o}=u,r=z(u,["compose","children","className"]),l=t.createElement(t.Fragment,null,t.createElement("div",{className:n("left")},t.createElement(ve,null),"\u64AD\u653E\u5168\u90E8"),t.createElement("div",{className:n("right")},t.createElement(He,null)));return t.createElement("button",C({className:w(de.button,s?de["--compose"]:de["--normal"],o)},r),s?l:a)};var xa={"radio-detail":"_radio-detail_11477_1","radio-detail__name":"_radio-detail__name_11477_8","radio-detail__detail":"_radio-detail__detail_11477_20","radio-detail__item":"_radio-detail__item_11477_25","radio-detail__tag":"_radio-detail__tag_11477_38","radio-detail__tag-wrapper":"_radio-detail__tag-wrapper_11477_49"};const Fa=({music:e})=>{var a;const n=F("radio-detail",xa),s=N(o=>o.djDetail);return t.createElement("div",{className:n()},t.createElement("h2",null,e.name),t.createElement("div",{className:n("name")},t.createElement("strong",null,s==null?void 0:s.name),t.createElement(ba,null,t.createElement(qe,null)," \u8BA2\u9605(",s.subCount,")")),t.createElement("div",{className:n("detail")},t.createElement("div",{className:n("item")},t.createElement("label",null,"\u4E3B\u64AD:"),t.createElement("a",null,(a=s.dj)==null?void 0:a.nickname)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u6765\u6E90:"),t.createElement("a",null,s.original)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u521B\u5EFA\u65F6\u95F4:"),t.createElement("span",null,s.createTime)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u5DF2\u64AD\u653E:"),t.createElement("span",null,s.playCount,"\u6B21"))),t.createElement("div",{className:n("tag-wrapper")},t.createElement("span",{className:n("tag")},s.category),s.desc))},ka=({visible:e})=>{const n=F("music-detail",it),s=N(g=>g.controller.pause),a=T(),o=N(g=>{var p;return!((p=g.currentTrack.song)==null?void 0:p.flag)}),r=N(g=>{const{current:p,tracks:d,fm:_}=g.currentTrack;if(!(p<0||_.length>0)&&d[p])return u(d[p])}),l=[{icon:ye},{icon:Ce},{icon:Yt},{icon:Kt}];function u(g){const{name:p,id:d,dt:_,al:f,ar:c}=g;return{id:d,name:p,duration:_,album:f,artists:c}}return X.exports.createPortal(t.createElement(t.Fragment,null,e&&r&&t.createElement("div",{className:n("shim")},t.createElement(Gt,{onClick:()=>a(Ae(!1))})),r&&t.createElement("div",{className:w(n(),{[it["--show"]]:e})},t.createElement("section",{className:n("player")},t.createElement("div",null,t.createElement(Hs,{img:r.album.picUrl,pause:s}),t.createElement(Gs,{data:l})),o?t.createElement(Fa,{music:r}):t.createElement(ta,{music:r})),t.createElement("div",{className:n("info")},t.createElement(ua,{id:r==null?void 0:r.id,api:o?ts:Gn},t.createElement(ha,null)),!o&&t.createElement(fa,{id:r==null?void 0:r.id})))),document.getElementById("music-detail"))};var gt={"music-list":"_music-list_1vua8_1","--show":"_--show_1vua8_15","music-list__header":"_music-list__header_1vua8_18","music-list__subtitle":"_music-list__subtitle_1vua8_28","music-list__subtitle-right":"_music-list__subtitle-right_1vua8_33","music-list__subtitle-all":"_music-list__subtitle-all_1vua8_38","music-list__subtitle-clear":"_music-list__subtitle-clear_1vua8_44","music-list__total":"_music-list__total_1vua8_52"};const Da="_table_1ltg6_1",Na="_table__cell_1ltg6_29";var Le={table:Da,"--active":"_--active_1ltg6_20","--disable":"_--disable_1ltg6_23",table__cell:Na},Sa="static/svg/no-music-ed6bb8c2.svg",wa={"no-data":"_no-data_2e6x3_1","no-data__wrapper":"_no-data__wrapper_2e6x3_7"};const Aa=({title:e,subTitle:n})=>{const s=F("no-data",wa);return t.createElement("div",{className:s("wrapper")},t.createElement("div",{className:s()},t.createElement("img",{src:Sa,alt:"no-music"}),e&&t.createElement("h3",null,e),n&&t.createElement("div",null,n)))},Ba=({columns:e,data:n,disableColumn:s="disable",noHead:a=!1,selectedRow:o,onDoubleClick:r})=>{const l=F("table",Le),[u,g]=i.exports.useState(-1);function p(d){if(!!r){if(n[d][s]){Y.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<");return}r(d)}}return i.exports.useEffect(()=>{o!==void 0&&g(o)},[o]),t.createElement(t.Fragment,null,t.createElement("table",{className:l()},t.createElement("colgroup",null),!a&&t.createElement("thead",null,t.createElement("tr",null,e.map((d,_)=>t.createElement("th",{key:_},t.createElement("div",{className:l("cell")},d.title))))),t.createElement("tbody",null,n.length>0?n.map((d,_)=>t.createElement("tr",{key:_,className:w({[Le["--active"]]:u===_,[Le["--disable"]]:d[s]}),onDoubleClick:()=>p(_)},e.map((f,c)=>{let x;return f.render?x=f.render(d):f.key&&(x=dn(d,f.key),f.format&&(x=f.format(x))),t.createElement("td",{key:c},t.createElement("div",{className:l("cell")},x))}))):null)),n.length>0?null:t.createElement(Aa,{subTitle:"\u6682\u65E0\u6570\u636E"}))},La=({visible:e,setVisible:n,target:s})=>{const a=F("music-list",gt),o=T(),r=N(p=>p.currentTrack),l=i.exports.useRef(null),u=[{title:"\u97F3\u4E50\u6807\u9898",key:"name"},{title:"\u6B4C\u624B",render(p){return p.ar.map(d=>t.createElement("span",{key:d.id},d.name))}},{title:"\u94FE\u63A5\u5230",key:""},{title:"\u65F6\u957F",key:"dt",format:Fe}];function g(p){o(ms(p))}return $e(l,p=>{p.target!==(s==null?void 0:s.querySelector("svg"))&&n(!1)}),X.exports.createPortal(t.createElement("div",{ref:l,className:w(a(),{[gt["--show"]]:e})},t.createElement("header",{className:a("header")},t.createElement("h2",null,"\u5F53\u524D\u64AD\u653E"),t.createElement("div",{className:a("subtitle")},t.createElement("div",{className:a("total")},"\u603B",r.tracks.length,"\u9996"),t.createElement("div",{className:a("subtitle-right")},t.createElement("span",{className:a("subtitle-all")},t.createElement(Zt,null),"\u6536\u85CF\u5168\u90E8"),t.createElement("span",{className:a("subtitle-clear")},"\u6E05\u7A7A\u5217\u8868")))),t.createElement("section",{className:a("subtitle-table")},t.createElement(Ba,{noHead:!0,selectedRow:r.current,data:r.tracks,columns:u,onDoubleClick:g}))),document.getElementById("drawer"))},Oa=()=>{const e=F("footer",M),n=i.exports.useRef(null),s=i.exports.useRef(null),a=T(),{push:o}=H(),r=N(L=>L.controller.showDetail),l=N(L=>L.currentTrack.autoPlay||!1),{listButtonRef:u,showList:g,setShowList:p}=As(),d=N(L=>L.currentTrack.fm.length),{lyricActive:_,setLyricActive:f}=Bs(),c=N(L=>{const{current:j,tracks:ge,fm:Te}=L.currentTrack;if(!(j<0)){if(!d)return ge[j];if(Te[j])return wn(Te[j])}}),x=N(L=>{const{current:j,tracks:ge}=L.currentTrack;return j+1===ge.length}),D=N(L=>L.currentTrack.song),{PlayIcon:v,pause:h,handlePause:B}=Ns(n,c),{currentTime:$,handleTimeUpdate:P,handleProgressClick:q}=Ss(n,s,c==null?void 0:c.dt),{playMode:I,handleIconClick:y,currentPlayMode:k}=ws(),{volume:S,handleSliderChange:O,handleVolumeChange:Q}=Ls(n);function W(){if(d){a(ue());return}!c||I!==G.SOLO&&(I===G.IN_TURN&&x?a(we(0)):a(at({mode:I,next:!0})))}function ne(L){if(!d&&c){a(at({mode:I,next:L}));return}L&&a(ue())}function pe(){d&&o(E.fm),a(Ae(!r))}return i.exports.useEffect(()=>{(c==null?void 0:c.id)&&a(ie(c.id))},[c==null?void 0:c.id]),t.createElement("footer",{className:e()},(c==null?void 0:c.dt)&&t.createElement("progress",{ref:s,className:e("progress-bar"),value:$,max:c.dt,onClick:q}),t.createElement("div",{className:e("left")},c&&D&&t.createElement(t.Fragment,null,t.createElement("audio",{ref:n,src:D.url,controls:!0,autoPlay:l,loop:I===G.SOLO,onTimeUpdate:P,onPlay:()=>B(!1),onPause:()=>B(!0),onEnded:W,onVolumeChange:Q}),t.createElement("img",{src:K(c.al.picUrl,100),alt:"music",onClick:pe}),t.createElement("div",{className:e("left-name")},t.createElement("div",null,c.name," -"," ",c.ar.reduce((L,j)=>`${L}/${j.name}`,"").slice(1)),t.createElement("div",null,Fe($)," / ",Fe(c.dt))))),t.createElement("div",{className:e("mid")},d?t.createElement(ye,null):t.createElement(Je,null),t.createElement(Qt,{className:w(M["--medium"],M["--red"],{[M["--disable"]]:d}),onClick:()=>ne(!1)}),t.createElement(v,{className:w(M["--big"],M["--red"]),onClick:()=>B(!h)}),t.createElement(Wt,{className:w(M["--medium"],M["--red"]),onClick:()=>ne(!0)}),d?t.createElement(Ce,null):t.createElement(Xt,null)),t.createElement("div",{className:e("right")},!d&&t.createElement(en,null),t.createElement(Ge,{title:k.tip},t.createElement(k.icon,{onClick:y})),!d&&c&&t.createElement(Ye,{ref:u,onClick:()=>p(!g)}),t.createElement("span",{className:w(e("lyric"),{[M["--active"]]:_}),onClick:()=>f(!_)},"\u8BCD"),c&&t.createElement(Ge,{title:()=>t.createElement("div",{className:e("volume")},t.createElement(tn,{vertical:!0,value:S,onChange:O}))},t.createElement(nn,null))),t.createElement(ka,{visible:r}),t.createElement(La,{visible:g,setVisible:p,target:u.current}))};var Ia="static/svg/not-found-4a7109ca.svg",Ta={"not-found":"_not-found_r5k7l_1"};const Pa=()=>{const e=F("not-found",Ta);return t.createElement("div",{className:e()},t.createElement("img",{src:Ia,alt:"404"}))},Oe=F("main"),Ra=({routes:e})=>{const{pathname:n}=fe(),s=T();function a(){const l=Be.getState(),{cacheCurrent:u,current:g}=l.currentTrack;let p=g;u!==void 0&&(p=u),localStorage.setItem("djDetail",R.stringify(C({},l.djDetail))),localStorage.setItem("currentTrack",R.stringify(V(C({},l.currentTrack),{current:p,autoPlay:!1,fm:[]}))),localStorage.setItem("controller",R.stringify(V(C({},l.controller),{pause:!0})))}function o(l,u){if(l.code==="Space"){const g=document.activeElement;(!g||g===document.body)&&(l.stopPropagation(),l.preventDefault(),u==null||u())}}function r(l){o(l,()=>{const u=Be.getState();s(ot(!u.controller.pause))})}return i.exports.useEffect(()=>{s(Ae(!1)),$n()},[n]),i.exports.useEffect(()=>(window.addEventListener("beforeunload",a),document.addEventListener("keyup",r),document.addEventListener("keydown",o),()=>{window.removeEventListener("beforeunload",a),document.removeEventListener("keyup",r),document.removeEventListener("keydown",o)}),[]),t.createElement(t.Fragment,null,t.createElement("section",{className:"container"},t.createElement(vs,null),t.createElement(ke,{className:Oe()},t.createElement(i.exports.Suspense,{fallback:t.createElement(Ke,{className:Oe("loading"),style:{position:"absolute"}})},t.createElement(je,null,e&&e.map(l=>{const p=l,{component:u}=p,g=z(p,["component"]);return t.createElement(Ve,V(C({key:l.path},g),{render:d=>t.createElement(u,{key:d.match.url})}))}),t.createElement(Pa,null))))),t.createElement(Oa,null))};var E;(function(e){e.root="/",e.home="/home",e.fm="/home/fm",e.searchResult="/home/search-result",e.dailyRecommend="/home/daily-recommend",e.findMusic="/home/find-music",e.findMusicMusicList="/home/find-music/music-list",e.findMusicRadioHost="/home/find-music/radio-host",e.findMusicRadioHostPay="/home/find-music/radio-host/pay",e.findMusicRank="/home/find-music/rank",e.findMusicSinger="/home/find-music/singer",e.findMusicNewest="/home/find-music/newest",e.video="/home/video",e.videoMV="/home/video/mv",e.friend="/home/friend",e.iTunes="/home/i-tunes",e.download="/home/download",e.downloadProgram="/home/download/program",e.downloadPendding="/home/download/pendding",e.recent="/home/recent",e.cloudMusic="/home/cloud-music",e.radio="/home/radio",e.collection="/home/collection",e.collectionSinger="/home/collection/singer",e.collectionVideo="/home/collection/video",e.collectionColumn="/home/collection/column",e.setting="/home/setting"})(E||(E={}));const Ie=e=>e?`/${e}`:"",Z=(e,n,s="id")=>{const a=`/${e}`;return n===void 0?`${a}/:${s}?`:a+Ie(n)},ft=(e,n,s)=>n===void 0?`/${e}/:id?/:type?`:`/${e}${Ie(n)}${Ie(s)}`,A={list:(e,n)=>ft("home/list",e,n),singer:e=>Z("home/singer",e),user:e=>Z("home/user",e),findMusicNewest:e=>Z("home/find-music/newest",e,"type"),playVideo:e=>Z("play-video",e),radioList:(e,n)=>ft("home/radio-list",e,n),excellentList:e=>Z("home/find-music/music-list/excellent",e),radioZone:e=>Z("home/find-music/radio-host/zone",e,"type")},Et={"find-music":[{label:"\u4E2A\u6027\u63A8\u8350",component:i.exports.lazy(()=>b(()=>import("./index-3a00925b.js"),["static/js/index-3a00925b.js","static/css/index-e82747ee.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-95a2a056.js","static/css/index-2692bf2f.css","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"])),path:E.findMusic,exact:!0},{label:"\u6B4C\u5355",component:i.exports.lazy(()=>b(()=>import("./index-43b9646d.js"),["static/js/index-43b9646d.js","static/css/index-ed8dc3ba.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-ef6e8539.js","static/css/index-e010c0aa.css","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"])),path:E.findMusicMusicList,exact:!0},{label:"\u4E3B\u64AD\u7535\u53F0",component:i.exports.lazy(()=>b(()=>import("./index-6edfd678.js"),["static/js/index-6edfd678.js","static/css/index-d2541e3d.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-95a2a056.js","static/css/index-2692bf2f.css","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"])),path:E.findMusicRadioHost,exact:!0},{label:"\u6392\u884C\u699C",component:i.exports.lazy(()=>b(()=>import("./index-0995c548.js"),["static/js/index-0995c548.js","static/css/index-89bc3d52.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"])),path:E.findMusicRank},{label:"\u6B4C\u624B",component:i.exports.lazy(()=>b(()=>import("./index-b29934f2.js"),["static/js/index-b29934f2.js","static/css/index-11f2a020.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-87c26849.js","static/js/index-826a65f3.js","static/css/index-65a24dfc.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.findMusicSinger},{label:"\u6700\u65B0\u97F3\u4E50",component:i.exports.lazy(()=>b(()=>import("./index-0e53213f.js"),["static/js/index-0e53213f.js","static/css/index-4765b247.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-87c26849.js","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"])),path:E.findMusicNewest}],video:[{label:"\u89C6\u9891",component:i.exports.lazy(()=>b(()=>import("./index-c0aada74.js"),["static/js/index-c0aada74.js","static/css/index-48ca44ee.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-9adb381a.js","static/css/index-1fde7e75.css","static/js/index-473f0355.js","static/css/index-76ebda23.css","static/js/index-ef6e8539.js","static/css/index-e010c0aa.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.video,exact:!0},{label:"MV",component:i.exports.lazy(()=>b(()=>import("./index-c5e4e953.js"),["static/js/index-c5e4e953.js","static/css/index-db88c1c7.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-9adb381a.js","static/css/index-1fde7e75.css","static/js/index-87c26849.js","static/js/index-473f0355.js","static/css/index-76ebda23.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.videoMV}],friend:[{label:"\u52A8\u6001",component:i.exports.lazy(()=>b(()=>import("./index-862e8887.js"),["static/js/index-862e8887.js","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.friend}],"i-tunes":[{label:"iTunes\u97F3\u4E50",component:i.exports.lazy(()=>b(()=>import("./index-8e55e5ce.js"),["static/js/index-8e55e5ce.js","static/css/index-63268595.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.iTunes}],download:[{label:"\u5DF2\u4E0B\u8F7D\u5355\u66F2",component:i.exports.lazy(()=>b(()=>import("./index-6da1653f.js"),["static/js/index-6da1653f.js","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-ec0066e6.js","static/css/index-01c1781a.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.download,exact:!0},{label:"\u5DF2\u4E0B\u8F7D\u8282\u76EE",component:i.exports.lazy(()=>b(()=>import("./index-6bea6c5a.js"),["static/js/index-6bea6c5a.js","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-ec0066e6.js","static/css/index-01c1781a.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.downloadProgram},{label:"\u6B63\u5728\u4E0B\u8F7D",component:i.exports.lazy(()=>b(()=>import("./index-c08627a8.js"),["static/js/index-c08627a8.js","static/css/index-1b65357d.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.downloadPendding}],recent:[{label:"\u6700\u8FD1\u64AD\u653E",component:i.exports.lazy(()=>b(()=>import("./index-9ecf75a0.js"),["static/js/index-9ecf75a0.js","static/css/index-985a0294.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.recent}],"cloud-music":[{label:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",component:i.exports.lazy(()=>b(()=>import("./index-761f5e0b.js"),["static/js/index-761f5e0b.js","static/css/index-09e80a50.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-87c26849.js","static/js/index-826a65f3.js","static/css/index-65a24dfc.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.cloudMusic}],radio:[{label:"\u6211\u7684\u7535\u53F0",component:i.exports.lazy(()=>b(()=>import("./index-5458c42c.js"),["static/js/index-5458c42c.js","static/css/index-1be8b182.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-db267477.js","static/css/index-6409d9b6.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.radio}],collection:[{label:"\u4E13\u8F91",component:i.exports.lazy(()=>b(()=>import("./index-60fdddcb.js"),["static/js/index-60fdddcb.js","static/css/index-19b552b8.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-db267477.js","static/css/index-6409d9b6.css","static/js/index-17cdcb9f.js","static/css/index-e45ef900.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.collection,exact:!0},{label:"\u6B4C\u624B",component:i.exports.lazy(()=>b(()=>import("./index-73ca60d9.js"),["static/js/index-73ca60d9.js","static/css/index-77191418.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-db267477.js","static/css/index-6409d9b6.css","static/js/index-17cdcb9f.js","static/css/index-e45ef900.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.collectionSinger},{label:"\u89C6\u9891",component:i.exports.lazy(()=>b(()=>import("./index-5144bb0f.js"),["static/js/index-5144bb0f.js","static/css/index-8ad9c84e.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-17cdcb9f.js","static/css/index-e45ef900.css","static/js/index-473f0355.js","static/css/index-76ebda23.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.collectionVideo},{label:"\u4E13\u680F",component:i.exports.lazy(()=>b(()=>import("./index-a7b15259.js"),["static/js/index-a7b15259.js","static/css/index-0ddc6bf5.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-17cdcb9f.js","static/css/index-e45ef900.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.collectionColumn}],setting:[{label:"\u8BBE\u7F6E",component:i.exports.lazy(()=>b(()=>import("./index-97a58d2a.js"),["static/js/index-97a58d2a.js","static/css/index-bf4b0459.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"])),path:E.setting}]},Ma=[{path:E.home,exact:!0,component:Ra,routes:[{path:E.fm,component:i.exports.lazy(()=>b(()=>import("./index-4d2d5ebb.js"),["static/js/index-4d2d5ebb.js","static/css/index-f1cc5e9d.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"]))},{path:A.list(),component:i.exports.lazy(()=>b(()=>import("./index-d005237f.js"),["static/js/index-d005237f.js","static/css/index-7ac0ab9b.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/react-redux-9f5c3214.js","static/js/write-comment-35c403f3.js","static/css/write-comment-245ec406.css","static/js/index-87c26849.js","static/js/react-router-dom-fbac4128.js"]))},{path:A.singer(),component:i.exports.lazy(()=>b(()=>import("./index-f331425a.js"),["static/js/index-f331425a.js","static/css/index-f67a68db.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-fcc8aab3.js","static/css/index-11494661.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"]))},{path:E.searchResult,component:i.exports.lazy(()=>b(()=>import("./index-3df1f2b3.js"),["static/js/index-3df1f2b3.js","static/css/index-0c6b5e41.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-f84ba34d.js","static/css/index-91bec25c.css","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"]))},{path:A.user(),component:i.exports.lazy(()=>b(()=>import("./index-5d9d8e3f.js"),["static/js/index-5d9d8e3f.js","static/css/index-c753a929.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-f84ba34d.js","static/css/index-91bec25c.css","static/js/index-fcc8aab3.js","static/css/index-11494661.css","static/js/index-26c80716.js","static/css/index-69065f68.css","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"]))},{path:E.dailyRecommend,component:i.exports.lazy(()=>b(()=>import("./index-13de7d90.js"),["static/js/index-13de7d90.js","static/css/index-1e938c76.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-87c26849.js","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"]))},{path:A.findMusicNewest(),component:i.exports.lazy(()=>b(()=>import("./index-0e53213f.js"),["static/js/index-0e53213f.js","static/css/index-4765b247.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-87c26849.js","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"]))},{path:A.radioList(),component:i.exports.lazy(()=>b(()=>import("./index-223a4e44.js"),["static/js/index-223a4e44.js","static/css/index-b0d5c60f.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/index-826a65f3.js","static/css/index-65a24dfc.css","static/js/react-redux-9f5c3214.js","static/js/react-router-dom-fbac4128.js"]))},{path:A.excellentList(),component:i.exports.lazy(()=>b(()=>import("./index-1a77d997.js"),["static/js/index-1a77d997.js","static/css/index-50c1e96e.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-ef6e8539.js","static/css/index-e010c0aa.css","static/js/react-redux-9f5c3214.js","static/js/index-826a65f3.js","static/css/index-65a24dfc.css","static/js/react-router-dom-fbac4128.js"]))},{path:A.radioZone(),component:i.exports.lazy(()=>b(()=>import("./index-f11c1ec0.js"),["static/js/index-f11c1ec0.js","static/css/index-dcf2003d.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-826a65f3.js","static/css/index-65a24dfc.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"]))},{path:E.findMusicRadioHostPay,component:i.exports.lazy(()=>b(()=>import("./index-a144b188.js"),["static/js/index-a144b188.js","static/css/index-b7759ce6.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/index-826a65f3.js","static/css/index-65a24dfc.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"]))},...Object.values(Et).flat()]},{path:A.playVideo(),component:i.exports.lazy(()=>b(()=>import("./index-4ed3de83.js"),["static/js/index-4ed3de83.js","static/css/index-7240d91a.css","static/js/react-69194784.js","static/js/vendor-441fcb21.js","static/css/vendor-0dfb1c16.css","static/js/lodash-16b1923a.js","static/js/write-comment-35c403f3.js","static/css/write-comment-245ec406.css","static/js/react-router-dom-fbac4128.js","static/js/react-redux-9f5c3214.js"]))}],$a="_header_1mmlg_1",ja="_header__left_1mmlg_6",Va="_header__right_1mmlg_21";var ht={header:$a,header__left:ja,"header__left-icon":"_header__left-icon_1mmlg_17",header__right:Va,"header__right-menu":"_header__right-menu_1mmlg_29","--active":"_--active_1mmlg_35","header__right-wrapper":"_header__right-wrapper_1mmlg_53","header__right-icons":"_header__right-icons_1mmlg_57"};const za="_input_bex9z_1",Ua="_input__icon_bex9z_35",qa="_input__close_bex9z_46";var yt={input:za,"--normal":"_--normal_bex9z_19","--transparent":"_--transparent_bex9z_25",input__icon:Ua,input__close:qa};const Ha=i.exports.forwardRef((r,o)=>{var l=r,{type:e="transparent",defaultValue:n="",onInput:s}=l,a=z(l,["type","defaultValue","onInput"]);const u=F("input",yt),[g,p]=i.exports.useState(n),d=i.exports.useMemo(()=>!!g,[g]),_=c=>{p(c.currentTarget.value),s==null||s(c)};function f(){p("")}return t.createElement("div",{className:w(yt[`--${e}`],u())},t.createElement("input",V(C({},a),{value:g,ref:o,type:"text",onInput:_})),t.createElement("div",{className:u("icon")},t.createElement(sn,null)),d&&t.createElement(he,{className:u("close"),onClick:f}))});var vt={"search-list":"_search-list_4orp2_1","--show":"_--show_4orp2_15"},Ja={"empty-suggestion__header":"_empty-suggestion__header_1a47l_1","empty-suggestion__header-delete":"_empty-suggestion__header-delete_1a47l_4","empty-suggestion__item":"_empty-suggestion__item_1a47l_17","empty-suggestion__item-top":"_empty-suggestion__item-top_1a47l_33","empty-suggestion__item-right":"_empty-suggestion__item-right_1a47l_54","empty-suggestion__item-bottom":"_empty-suggestion__item-bottom_1a47l_64","empty-suggestion__history":"_empty-suggestion__history_1a47l_78","empty-suggestion__history-item":"_empty-suggestion__history-item_1a47l_82","empty-suggestion__title":"_empty-suggestion__title_1a47l_110"};const Ga=({visible:e,setVisible:n})=>{const s=F("empty-suggestion",Ja),[a,o]=i.exports.useState([]),[r,l]=i.exports.useState([]),{push:u}=H(),g=T(),p=_=>{_.stopPropagation()};function d(_){g(lt(_)),n(!1);const f=be.stringify({keywords:_});u(`${E.searchResult}?${f}`)}return i.exports.useEffect(()=>{if(!e)return;const _=localStorage.getItem("search-history");_&&l(R.parse(_)),(async()=>{const f=await Wn();o(f.data)})()},[e]),t.createElement(t.Fragment,null,r.length>0&&t.createElement("header",{className:s("header")},t.createElement("h2",null,"\u641C\u7D22\u5386\u53F2 ",t.createElement(Ce,{className:s("header-delete")})),t.createElement("div",{className:s("history")},r.map((_,f)=>t.createElement("div",{key:f,className:s("history-item"),onClick:()=>d(_)},_,t.createElement(he,{onClick:p}))))),t.createElement("h3",{className:s("title")},"\u70ED\u641C\u699C"),a.map((_,f)=>t.createElement("div",{key:_.searchWord,className:s("item"),onClick:()=>d(_.searchWord)},t.createElement("p",null,f+1),t.createElement("div",{className:s("item-right")},t.createElement("div",{className:s("item-top")},t.createElement("strong",null,_.searchWord),_.iconUrl?t.createElement("mark",null,"HOT"):null,t.createElement("span",null,_.score)),_.content&&t.createElement("div",{className:s("item-bottom")},_.content)))))};var Ya={"keyword-suggestion":"_keyword-suggestion_1d2pk_1","keyword-suggestion__header":"_keyword-suggestion__header_1d2pk_4","keyword-suggestion__title":"_keyword-suggestion__title_1d2pk_15","keyword-suggestion__item":"_keyword-suggestion__item_1d2pk_23"};const Ka=({setVisible:e})=>{var f;const n=F("keyword-suggestion",Ya),s=N(c=>c.controller.keywords),[a,o]=i.exports.useState({}),{push:r}=H(),l=T(),u={albums:{label:"\u4E13\u8F91",icon:ve},artists:{label:"\u6B4C\u624B",icon:an},playlists:{label:"\u6B4C\u5355",icon:Ye},songs:{label:"\u5355\u66F2",icon:ae}};function g(c,x){({artists:()=>r(A.singer(c)),songs:()=>l(Se(c)),albums:()=>r(A.list(c,"album")),playlists:()=>r(A.list(c))})[x](),e(!1)}function p(){e(!1);const c=be.stringify({keywords:s});r(`${E.searchResult}?${c}`)}function d(c){const x=u[c],D=a[c];return t.createElement(t.Fragment,null,t.createElement("div",{key:x.label,className:n("title")},t.createElement(x.icon,null),x.label),D==null?void 0:D.map(v=>_(v,c)))}function _(c,x){const v={albums:()=>{const h=c;return`${h.name} - ${h.artist.name}`},artists:()=>c.name,playlists:()=>c.name,songs:()=>{var P;const h=c;let B=h.transNames||((P=h.alias)==null?void 0:P.join(" "))||"";B=B?`\uFF08${B}\uFF09`:"";const $=h.artists.reduce((q,I)=>`${q} ${I.name}`,"").slice(1);return`${h.name} ${B}- ${$}`}}[x];return t.createElement("div",{key:c.id,className:n("item"),onClick:()=>g(c.id,x)},v())}return i.exports.useEffect(pn(()=>{(async()=>{const c=await Xn(s);o(c.result)})()},500),[s]),((f=a.order)==null?void 0:f.length)?t.createElement("div",{className:n()},t.createElement("header",{className:n("header")},t.createElement("span",{onClick:p},"\u641C\u201C",t.createElement("strong",null,s),"\u201D\u76F8\u5173\u7684\u7ED3\u679C >")),a.order.map(d)):null},Za=({visible:e,setVisible:n,inputRef:s})=>{const a=F("search-list",vt),o=i.exports.useRef(null),r=N(l=>l.controller.keywords);return $e(o,l=>{l.target!==s&&n(!1)}),X.exports.createPortal(t.createElement("div",{ref:o,className:w(a(),{[vt["--show"]]:e})},r&&r.trim()?t.createElement(Ka,{setVisible:n}):t.createElement(Ga,{visible:e,setVisible:n})),document.getElementById("drawer"))},Qa=()=>{const e=F("header",ht),[n,s]=i.exports.useState(""),[a,o]=i.exports.useState([]),{pathname:r}=fe(),{go:l,push:u}=H(),[g,p]=i.exports.useState(!1),d=N(v=>v.controller.keywords),_=i.exports.useRef(null),f=T(),c=[{icon:ln,event:()=>{u(E.setting)}},{icon:cn},{icon:un},{icon:mn}],x=v=>{if(v.key==="Enter"&&d){p(!1);const h=be.stringify({keywords:d});u(`${E.searchResult}?${h}`)}};i.exports.useEffect(()=>{if(!r)return;const v=r.match(/(?<=home\/)[\w-\d]+\b/);(v==null?void 0:v[0])&&o(Et[v[0]]||[]);let h=r.split("/");h.length>4&&(h=h.slice(0,4)),s(h.join("/"))},[r]);function D(v=!1){l(v?1:-1)}return t.createElement("header",{className:e()},t.createElement("div",{className:e("left")},t.createElement(rn,{className:e("left-icon"),onClick:()=>D()}),t.createElement(on,{className:e("left-icon"),onClick:()=>D(!0)})),t.createElement("div",{className:e("right")},t.createElement("ul",{className:e("right-menu")},r.includes("/home")&&a.map(v=>t.createElement("li",{key:v.path,className:w({[ht["--active"]]:v.path===n})},t.createElement(kt,{to:v.path,onClick:()=>s(v.path)},v.label)))),t.createElement("div",{className:e("right-wrapper")},t.createElement(Ha,{ref:_,type:"normal",placeholder:"\u641C\u7D22",defaultValue:d,onInput:v=>f(lt(v.currentTarget.value)),onFocus:()=>p(!0),onKeyUp:x}),t.createElement("div",{className:e("right-icons")},c.map((v,h)=>t.createElement(v.icon,{key:h,onClick:v.event}))))),t.createElement(Za,{visible:g,setVisible:p,inputRef:_.current}))},Wa=()=>t.createElement(_n,{store:Be},t.createElement(Dt,null,t.createElement(Qa,null),t.createElement(i.exports.Suspense,{fallback:t.createElement(Ke,{className:Oe("loading"),style:{position:"absolute"}})},t.createElement(je,null,t.createElement(Ft,{from:E.root,to:E.findMusic,exact:!0}),Ma.map(e=>t.createElement(Ve,{key:e.path,path:e.path},t.createElement(e.component,C({},e))))))));X.exports.render(t.createElement(t.StrictMode,null,t.createElement(Wa,null)),document.getElementById("root"));export{Zr as $,vr as A,Gs as B,ua as C,A as D,Un as E,Yr as F,Fr as G,kr as H,qs as I,st as J,rr as K,ta as L,so as M,to as N,po as O,no as P,io as Q,uo as R,tt as S,Ba as T,mo as U,Er as V,ha as W,yr as X,lo as Y,Kr as Z,b as _,Ne as a,ro as a0,oo as a1,Qr as a2,ao as a3,Wr as a4,E as a5,or as a6,cr as a7,ir as a8,ur as a9,zr as aA,qr as aB,jr as aC,mr as aa,_r as ab,fr as ac,gr as ad,pr as ae,Cr as af,lr as ag,hr as ah,br as ai,xr as aj,Xr as ak,Nr as al,eo as am,Dr as an,Sr as ao,wr as ap,Ar as aq,Br as ar,Aa as as,Ha as at,co as au,Lr as av,Or as aw,Ir as ax,Tr as ay,Ur as az,_e as b,F as c,Pr as d,Jr as e,dr as f,Gn as g,We as h,ba as i,us as j,es as k,Hr as l,Yn as m,ue as n,Fe as o,$r as p,Vr as q,K as r,ot as s,Rr as t,Se as u,Nn as v,Dn as w,ke as x,Mr as y,Gr as z};
