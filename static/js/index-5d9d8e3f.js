import{o as O,u as R,r as s,j as k,R as e}from"./react-69194784.js";import{b as S,r as z,i as m,D as L,c as T,z as $,A as q,E as G}from"./index-a8385452.js";import{L as H}from"./index-f84ba34d.js";import{A as W}from"./index-fcc8aab3.js";import{M as J}from"./index-26c80716.js";import{a as K}from"./react-redux-9f5c3214.js";import{an as Q,ao as V,ap as X,af as Y,z as Z,aq as _}from"./vendor-441fcb21.js";import"./lodash-16b1923a.js";import"./react-router-dom-fbac4128.js";const ie=()=>{const a=T("user"),g=O(),{push:A}=R(),y=K(l=>l.user.profile.userId),c=s.exports.useMemo(()=>Number(g.id),[g.id]),{state:F}=k(),[t,x]=s.exports.useState(),[o,B]=s.exports.useState([]),[u,U]=s.exports.useState([]),b=s.exports.useMemo(()=>N(u.filter(l=>l.userId===y)),[u]),j=s.exports.useMemo(()=>N(u.filter(l=>l.userId!==y)),[u]);function N(l){return l.map(n=>{const{id:r,name:i,coverImgUrl:d,trackCount:E,copywriter:p,createTime:f,tracks:v}=n;return{id:r,name:i,picUrl:d,size:E,description:p,publishTime:f,songs:v||[]}})}async function P(){const l=await $(c);x(l)}async function I(){const n=(await q(c)).djRadios.map(r=>{const{id:i,name:d,programCount:E,subCount:p,picUrl:f}=r,v=`\u8282\u76EE${E}`,h=`\u8BA2\u9605${p}`;return{id:i,imgUrl:f,name:d,col2:v,col3:h}});B(n)}async function w(){const l=await G(c);U(l.playlist)}function M(){if(o.length>0)return e.createElement(e.Fragment,null,e.createElement("h2",{className:a("tag")},e.createElement("div",null,"Ta\u521B\u5EFA\u7684\u7535\u53F0",e.createElement("strong",null,"\uFF08",o.length,"\uFF09"))),e.createElement("div",{className:a("radio")},e.createElement(H,{data:o})))}const C=({title:l,playlist:n})=>{const[r,i]=s.exports.useState("overview");return n.length>0?e.createElement(e.Fragment,null,e.createElement("h2",{className:a("tag")},e.createElement("div",null,l,e.createElement("strong",null,"\uFF08",n.length,"\uFF09")),e.createElement(W,{activeButton:r,setActiveButton:i})),e.createElement("div",{className:a("playlist")},e.createElement(J,{type:r,id:c,data:n,myself:F}))):null};return s.exports.useEffect(()=>{Number.isNaN(c)||(P(),I(),w())},[]),e.createElement("div",null,e.createElement("header",{className:a("header")},e.createElement(S,{src:t&&z(t.profile.avatarUrl,200),className:a("cover")}),e.createElement("div",{className:a("introduction")},e.createElement("h2",null,t==null?void 0:t.profile.nickname),e.createElement("div",{className:a("title")},e.createElement("div",{className:a("title-left")},(t==null?void 0:t.identify)&&e.createElement("div",{className:a("title-auth")},e.createElement("img",{src:t.identify.imageUrl}),e.createElement("strong",null,t.identify.imageDesc)),e.createElement("mark",null,"Lv",t==null?void 0:t.level),(t==null?void 0:t.profile.gender)?e.createElement(Q,null):e.createElement(V,null)),(t==null?void 0:t.identify)&&e.createElement("div",{className:a("title-right")},e.createElement(m,{onClick:()=>A(L.singer(t.profile.artistId))},e.createElement(X,null),"\u6B4C\u624B\u9875"),e.createElement(m,null,e.createElement(Y,null),"\u53D1\u79C1\u4FE1"),e.createElement(m,null,e.createElement(Z,null),"\u5173\u6CE8"),e.createElement(m,{className:"--circle"},e.createElement(_,null)))),e.createElement("div",{className:a("statistic")},e.createElement("div",{className:a("statistic-item")},e.createElement("h3",null,t==null?void 0:t.profile.eventCount),e.createElement("div",null,"\u52A8\u6001")),e.createElement("div",{className:a("statistic-item")},e.createElement("h3",null,t==null?void 0:t.profile.follows),e.createElement("div",null,"\u5173\u6CE8")),e.createElement("div",{className:a("statistic-item")},e.createElement("h3",null,t==null?void 0:t.profile.followeds),e.createElement("div",null,"\u7C89\u4E1D"))),e.createElement("div",{className:a("social")},e.createElement("div",null,"\u793E\u4EA4\u7F51\u7EDC: ",e.createElement("span",null,"\u672A\u7ED1\u5B9A")),e.createElement("div",null,"\u4E2A\u4EBA\u4ECB\u7ECD: ",e.createElement("span",null,(t==null?void 0:t.profile.signature)||"\u6682\u65E0\u4ECB\u7ECD"))))),M(),e.createElement(C,{title:"\u6B4C\u5355",playlist:b}),e.createElement(C,{title:"\u6536\u85CF\u7684\u6B4C\u5355",playlist:j}))};export{ie as default};
