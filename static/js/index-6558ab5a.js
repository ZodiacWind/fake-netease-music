import{r,u as Q,g as c,j as a,F as W}from"./react-7f918845.js";import{B as X,T as o,C as y,L as N}from"./index-8c1c5bc4.js";import{a6 as l,b as k,r as Y,D as p,K as Z,c as _,v as $,a7 as ee,a8 as ae,G as se,a9 as te,aa as ne,ab as ie,ac as re,j as ce}from"./index-b2307066.js";import{a as oe,u as le}from"./react-redux-8df6583b.js";import{h as de}from"./vendor-2e679db4.js";import"./lodash-44bc1aaf.js";import"./react-router-dom-102d9908.js";var ue="static/jpg/recommend-53b882c2.jpg";const Ne=()=>{const t=_("find-music"),d=oe(e=>!!e.user.cookie),[v,w]=r.exports.useState([]),[x,B]=r.exports.useState([]),[S,P]=r.exports.useState([]),[D,b]=r.exports.useState([]),[A,F]=r.exports.useState([]),[M,z]=r.exports.useState([]),[E,T]=r.exports.useState([]),g=le(),{push:i}=Q(),C={size:"medium",hoverDisplay:!0,placement:"bottom"},I=de(Date.now()).format("DD");function f(e){return e.map(n=>{const{id:s,name:u,picUrl:m}=n;return{id:s,name:u,imgUrl:m}})}function h(e){g($(e))}function L({i:e,j:n,len:s,item:u}){var m;return c(W,{children:[a("strong",{className:t("ordinal"),children:e*s/2+n+1}),c("div",{children:[a("div",{children:u.name}),a("div",{className:t("artist"),children:(m=u.extra)==null?void 0:m.artistName})]})]})}function j({item:e}){var n;return c("div",{className:t("list"),children:[a("div",{className:t("list-name"),children:e.name}),a("div",{className:t("list-detail"),children:(n=e.extra)==null?void 0:n.description})]})}async function V(){const e=await ee();w(e.banners)}async function U(){const n=await ae({limit:d?9:10});B(f(n.result))}async function R(){if(!d)return;const e=await se();P(e.data.dailySongs)}async function J(){const e=await te({limit:4});b(f(e.result))}async function G(){const e=await ne();F(f(e.result))}async function H(){const n=(await ie()).albums.map(s=>({id:s.id,name:s.name,imgUrl:s.picUrl,extra:{artistName:s.artist.name}}));z(n)}async function K(){const n=(await re()).toplist.map(s=>({id:s.id,name:s.name,imgUrl:s.picUrl,extra:{description:s.rcmdtext}}));T(n)}function q(){d&&i(l.video)}const O=e=>{e.stopPropagation(),g(ce({tracks:S,current:0,fm:[]}))};return r.exports.useEffect(()=>{V(),U(),R(),J(),G(),H(),K()},[]),c("div",{className:t(),children:[a(X,{data:v,onBannerClick:h}),a(o,{name:"\u63A8\u8350\u6B4C\u5355",onClick:()=>i(l.findMusicMusicList)}),c("div",{className:t("card"),children:[d&&c("div",{className:t("card-item"),children:[c("div",{className:t("card-wrapper"),onClick:()=>i(l.dailyRecommend),children:[a("header",{children:"\u6839\u636E\u60A8\u7684\u97F3\u4E50\u53E3\u5473\u751F\u6210\u6BCF\u65E5\u66F4\u65B0"}),a("strong",{children:I}),a(k,{className:t("card-img"),icon:C,src:ue,alt:"\u6BCF\u65E5\u63A8\u8350",onIconClick:O})]}),a("p",{children:"\u6BCF\u65E5\u6B4C\u66F2\u63A8\u8350"})]}),x.map(e=>c("div",{className:t("card-item"),children:[a(k,{className:t("card-img"),src:Y(e.imgUrl,135),icon:C,onClick:()=>i(p.list(e.id)),onIconClick:()=>g(Z(e.id))}),a("p",{children:e.name})]},e.id))]}),a(o,{name:"\u72EC\u5BB6\u653E\u9001",welt:!0,onClick:()=>{}}),a(y,{type:"rectangle",data:D,onItemClick:e=>i(p.playVideo(e))}),a(o,{name:"\u6700\u65B0\u97F3\u4E50",onClick:()=>i(l.findMusicNewest)}),a(N,{icon:!0,data:M,functionChildren:L,onItemClick:h}),a(o,{name:"\u63A8\u8350MV",onClick:q}),a(y,{type:"rectangle",data:A,onItemClick:e=>i(p.playVideo(e))}),a(o,{name:"\u4E3B\u64AD\u7535\u53F0",welt:!0,onClick:()=>i(l.findMusicRadioHost)}),a(N,{size:"medium",data:E,functionChildren:j,onItemClick:e=>i(p.radioList(e))})]})};export{Ne as default};
