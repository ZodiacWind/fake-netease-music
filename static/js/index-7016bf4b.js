var S=Object.defineProperty,T=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var g=(i,s,a)=>s in i?S(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,N=(i,s)=>{for(var a in s||(s={}))v.call(s,a)&&g(i,a,s[a]);if(_)for(var a of _(s))k.call(s,a)&&g(i,a,s[a]);return i},y=(i,s)=>T(i,z(s));var C=(i,s)=>{var a={};for(var l in i)v.call(i,l)&&s.indexOf(l)<0&&(a[l]=i[l]);if(i!=null&&_)for(var l of _(i))s.indexOf(l)<0&&k.call(i,l)&&(a[l]=i[l]);return a};import{g as t,j as c,r as d,u as B}from"./react-ac4fd5c4.js";import{b as D,r as x,c as I,aj as E,m as P,D as h,K as A,j as U}from"./index-f4592ea4.js";import{u as $}from"./react-redux-5a199f59.js";import"./vendor-a0dadf07.js";import"./lodash-44bc1aaf.js";import"./react-router-dom-0434928e.js";const G="_official_s160o_1",H="_official__left_s160o_5",K="_official__img_s160o_11",O="_official__right_s160o_16",R="_official__item_s160o_20",V="_official__all_s160o_65";var q={official:G,official__left:H,official__img:K,official__right:O,official__item:R,"official__item-left":"_official__item-left_s160o_43","official__item-right":"_official__item-right_s160o_55",official__all:V};const F=({data:i,onItemClick:s,onViewAll:a})=>{const l=I("official",q);return t("div",{className:l(),children:[c("div",{className:l("left"),children:c(D,{className:l("img"),src:x(i.coverImgUrl),icon:{size:"big",hoverDisplay:!0},onClick:()=>s(i.tracks,0),onIconClick:()=>s(i.tracks,0)})}),t("div",{className:l("right"),children:[c("ul",{children:i.tracks.map((o,r)=>t("li",{className:l("item"),onClick:()=>s(i.tracks,r),children:[t("div",{className:l("item-left"),children:[c("strong",{children:r+1}),c("div",{children:c("span",{children:"-"})}),c("span",{children:o.name})]}),c("div",{className:l("item-right"),children:o.ar.reduce((n,m)=>`${n}/${m.name}`,"").slice(1)})]},o.id))}),c("div",{className:l("all"),onClick:()=>a(i.id),children:"\u67E5\u770B\u5168\u90E8 >"})]})]})},ii=()=>{const i=I("rank"),[s,a]=d.exports.useState([]),[l,o]=d.exports.useState([]),r=$(),{push:n}=B();function m(e,f){r(U({current:f,tracks:e,fm:[]}))}return d.exports.useEffect(()=>{(async()=>{const e=await E();a(e.list);const f=e.list.slice(0,5),p=[];for(const j of f){const u=(await P(j.id)).playlist,{tracks:b}=u,w=C(u,["tracks"]);p.push(y(N({},w),{tracks:b.slice(0,5)}))}o(p)})()},[]),t("div",{className:i(),children:[c("header",{className:i("header"),children:"\u5B98\u65B9\u699C"}),c("div",{className:i("official"),children:l.map(e=>c(F,{data:e,onItemClick:m,onViewAll:f=>n(h.list(f))},e.id))}),c("header",{className:i("header"),children:"\u5168\u7403\u699C"}),c("div",{className:i("global"),children:s.map(e=>t("div",{className:i("item"),children:[c("div",{className:i("img-wrapper"),children:c(D,{className:i("img"),src:x(e.coverImgUrl),icon:{size:"big",hoverDisplay:!0},onClick:()=>n(h.list(e.id)),onIconClick:()=>r(A(e.id))})}),c("div",{className:i("detail"),onClick:()=>n(h.list(e.id)),children:e.name})]},e.id))})]})};export{ii as default};
