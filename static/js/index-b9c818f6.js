import{r as i,u as B,R as s}from"./react-bbb89bd4.js";import{k as S}from"./vendor-8363c58c.js";import{b as v,r as D,c as x,aj as R,D as A}from"./index-fe3ac249.js";import{c as I}from"./index-a700b2b1.js";import{I as L}from"./index-68ca5a9a.js";import"./lodash-70433db2.js";import"./react-router-dom-ef6aab28.js";import"./react-redux-253ec180.js";const T=()=>{const r=x("music-singer"),[y,f]=i.exports.useReducer(k,[]),[c,E]=i.exports.useState([-1,-1,void 0]),n=i.exports.useRef(null),{push:g}=B(),u=20;let o=0;const C=[{label:"\u8BED\u79CD",list:I,key:"area"},{label:"\u5206\u7C7B",key:"type",list:[{name:"\u5168\u90E8",type:-1},{name:"\u7537\u6B4C\u624B",type:1},{name:"\u5973\u6B4C\u624B",type:2},{name:"\u4E50\u961F\u7EC4\u5408",type:3}]},{label:"\u7B5B\u9009",key:"initial",list:h()}];function h(){const e=[{name:"\u70ED\u95E8"}],t=65;for(let a=0;a<26;a++){const l=String.fromCharCode(t+a),m=String.fromCharCode(t+a+32);e.push({name:l,initial:m})}return e}function k(e,t){return t.type==="add"?[...e,...t.payload]:t.payload}function N(e,t){const a=[...c];a[e]=t,E(a)}async function p(){var d;const[e,t,a]=c,l=await R({area:e,type:t,initial:a,limit:u,offset:o}),m=o===0?"reset":"add";(d=n.current)==null||d.call(n,l.more),f({type:m,payload:l.artists}),o+=u}function b(e){g({pathname:A.singer(e.id),state:e.alias})}return i.exports.useEffect(()=>{p()},[c]),s.createElement("div",{className:r()},C.map((e,t)=>s.createElement("header",{key:e.label,className:r("header")},s.createElement("div",{className:r("label")},e.label,"\uFF1A"),s.createElement("div",{className:r("category")},e.list.map(a=>s.createElement("div",{key:a.name,className:r("category-item"),onClick:()=>N(t,a[e.key])},s.createElement("span",{className:S({["--active"]:a[e.key]===c[t]})},a.name)))))),s.createElement("div",{className:r("list")},y.map(e=>s.createElement("div",{key:e.id,className:r("item"),onClick:()=>b(e)},s.createElement(v,{className:r("img"),src:D(e.picUrl)}),s.createElement("div",{className:r("description")},e.name)))),s.createElement(L,{ref:n,cb:p}))};export{T as default};
