var P=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var B=(a,E)=>{var d={};for(var r in a)W.call(a,r)&&E.indexOf(r)<0&&(d[r]=a[r]);if(a!=null&&P)for(var r of P(a))E.indexOf(r)<0&&Y.call(a,r)&&(d[r]=a[r]);return d};import{r as o,u as _,R as t}from"./react-4266950f.js";import{B as ee,T as l,L as te,C as u}from"./index-c2069f9f.js";import{D as C,b as ae,a5 as ne,c as se,af as re,u as oe,ag as ce,V as ie,ah as le,X as me}from"./index-dc3d6bad.js";import{u as ue}from"./react-redux-46793d55.js";import{ac as de,ad as ge}from"./vendor-e5057d33.js";import"./lodash-9c2f29ae.js";import"./react-router-dom-9634600e.js";const De=()=>{const a=se("radio-host"),[E,d]=o.exports.useState([]),[r,J]=o.exports.useState([]),[i,k]=o.exports.useState(0),[D,S]=o.exports.useState(0),[F,N]=o.exports.useState([]),[j,w]=o.exports.useState([]),[I,T]=o.exports.useState([]),[v,U]=o.exports.useState([]),[L,z]=o.exports.useState([]),[A,b]=o.exports.useState([]),[H,M]=o.exports.useState([]),Z=ue(),{push:g}=_();function O(e,n){re(e).then(s=>{const c=s.djRadios.map(y=>{const{id:h,name:x,picUrl:f}=y;return{id:h,name:x,imgUrl:f}});n(c.slice(0,5))})}function R(e=!1){e&&D-i>1&&k(i+1),!e&&i>0&&k(i-1)}function X({item:e}){var n,s,c;return t.createElement("div",{className:a("list")},t.createElement("h2",null,e.name),t.createElement("h4",null,(n=e.extra)==null?void 0:n.rcmdText),t.createElement("h4",null,(s=e.extra)==null?void 0:s.lastProgramName),t.createElement("h3",null,"\xA5",Number((c=e.extra)==null?void 0:c.originalPrice)/100))}function G(e){Z(oe(e))}function m(e){g(C.radioList(e))}function V(e){g(C.radioList(e,"pay"))}function p(e){var s;const n=(s=r.find(c=>c.name===e))==null?void 0:s.id;g(C.radioZone(n))}async function $(){const e=await ce();d(e.data.map(n=>({targetId:n.targetId,imageUrl:n.pic})))}async function q(){const e=await ie();J(e.categories),S(Math.ceil(e.categories.length/8))}async function K(){const n=(await le()).data.map(s=>({id:s.id,name:s.rcmdText,imgUrl:s.picUrl}));N(n)}async function Q(){const n=(await me()).data.list.map(s=>{const f=s,{id:c,name:y,picUrl:h}=f,x=B(f,["id","name","picUrl"]);return{id:c,name:y,imgUrl:h,extra:x}});w(n)}return o.exports.useEffect(()=>{$(),q(),K(),Q(),[[10001,T],[2001,U],[2,z],[3,b],[8,M]].forEach(n=>O(...n))},[]),t.createElement("div",{className:a()},t.createElement(ee,{data:E,onBannerClick:G}),t.createElement("div",{className:a("category")},i>0?t.createElement(de,{className:a("category-arrow --left"),onClick:()=>R()}):null,D-i>1?t.createElement(ge,{className:a("category-arrow --right"),onClick:()=>R(!0)}):null,t.createElement("div",{className:a("category-wrapper"),style:{transform:`translateX(${2-i*72}vw)`}},r.map(e=>t.createElement("div",{key:e.id,className:a("category-item"),onClick:()=>g(C.radioZone(e.id))},t.createElement("div",{className:a("category-img-wrapper")},t.createElement(ae,{className:a("category-img"),src:e.pic56x56Url})),t.createElement("div",{className:a("category-text")},e.name))))),t.createElement(l,{name:"\u4ED8\u8D39\u7CBE\u54C1",onClick:()=>g(ne.findMusicRadioHostPay)}),t.createElement(te,{size:"large",data:j,functionChildren:X,onItemClick:V}),t.createElement(l,{name:"\u7535\u53F0\u4E2A\u6027\u63A8\u8350"}),t.createElement(u,{data:F,onItemClick:m}),t.createElement(l,{name:"\u6709\u58F0\u4E66",onClick:()=>p("\u6709\u58F0\u4E66")}),t.createElement(u,{data:I,onItemClick:m}),t.createElement(l,{name:"\u521B\u4F5C\u7FFB\u5531",onClick:()=>p("\u521B\u4F5C\u7FFB\u5531")}),t.createElement(u,{data:v,onItemClick:m}),t.createElement(l,{name:"\u97F3\u4E50\u63A8\u8350",onClick:()=>p("\u97F3\u4E50\u63A8\u8350")}),t.createElement(u,{data:L,onItemClick:m}),t.createElement(l,{name:"\u60C5\u611F",onClick:()=>p("\u60C5\u611F")}),t.createElement(u,{data:A,onItemClick:m}),t.createElement(l,{name:"\u8131\u53E3\u79C0",onClick:()=>p("\u8131\u53E3\u79C0")}),t.createElement(u,{data:H,onItemClick:m}))};export{De as default};
