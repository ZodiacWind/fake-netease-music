var bt=Object.defineProperty,Ft=Object.defineProperties;var kt=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var Re=(e,n,s)=>n in e?bt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,C=(e,n)=>{for(var s in n||(n={}))Me.call(n,s)&&Re(e,s,n[s]);if(se)for(var s of se(n))$e.call(n,s)&&Re(e,s,n[s]);return e},j=(e,n)=>Ft(e,kt(n));var q=(e,n)=>{var s={};for(var a in e)Me.call(e,a)&&n.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&se)for(var a of se(e))n.indexOf(a)<0&&$e.call(e,a)&&(s[a]=e[a]);return s};import{R as t,r as c,a as X,u as H,g as Se,h as ot,S as lt,j as ct,k as Dt,l as St}from"./react-6ccb7aeb.js";import{L as Nt,H as wt}from"./react-router-dom-9de2c748.js";import{h as it,j as R,k as B,m as Ne,n as Z,q as J,r as ee,t as xt,C as we,u as oe,T as ze,v as At,D as Bt,F as Lt,w as It,N as Ot,S as ut,H as xe,x as Tt,y as Pt,z as mt,A as Rt,B as Mt,E as $t,R as zt,G as Vt,I as jt,L as qt,J as Ae,Q as Ut,K as _t,M as Ht,O as Jt,U as Gt,V as Yt,W as Kt,X as Be,Y as Zt,Z as Qt,$ as Wt,a0 as Xt,a1 as en,a2 as tn,a3 as nn,a4 as Ve,a5 as dt,a6 as sn,a7 as an,a8 as pt,a9 as rn,aa as Le,ab as on,ac as ln,ad as cn,ae as un,af as mn,ag as _n,ah as dn}from"./vendor-d86b2c9c.js";import{u as T,a as w,P as pn}from"./react-redux-b7a88ea1.js";import{a as gn}from"./lodash-44bc1aaf.js";const En=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}};En();const fn="modulepreload",je={},hn="",b=function(n,s){return!s||s.length===0?n():Promise.all(s.map(a=>{if(a=`${hn}${a}`,a in je)return;je[a]=!0;const o=a.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${r}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":fn,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((i,p)=>{l.addEventListener("load",i),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>n())};const yn="_sidebar_yo7cu_1",vn="_sidebar__header_yo7cu_6",Cn="_sidebar__main_yo7cu_23",bn="_sidebar__item_yo7cu_34",Fn="_sidebar__title_yo7cu_56";var qe={sidebar:yn,sidebar__header:vn,sidebar__main:Cn,"sidebar__main-content":"_sidebar__main-content_yo7cu_31",sidebar__item:bn,"--active":"_--active_yo7cu_43",sidebar__title:Fn,"sidebar__title-left":"_sidebar__title-left_yo7cu_65","sidebar__title-right":"_sidebar__title-right_yo7cu_70"};const kn="_scrollbar_11l6t_1",Dn="_scrollbar__content_11l6t_8";var Sn={scrollbar:kn,scrollbar__content:Dn};const Ie={set(e,n,s=864e5){const a=typeof n=="string"?n:R.stringify(n);return localStorage.setItem(e,a),localStorage.setItem(`${e}__expires__`,Date.now()+s+""),n},get(e){const n=Date.now(),s=localStorage.getItem(`${e}__expires__`)||n+1;if(n>=s){this.remove(e);return}return localStorage.getItem(e)},remove(e){localStorage.removeItem(e),localStorage.removeItem(`${e}__expires__`)}};function U(e,n){return e.then(s=>[null,s]).catch(s=>(n&&Object.assign(s,n),[s,void 0]))}const Nn=e=>e?e<1e4?""+e:Math.floor(e/1e4)+"\u4E07":0,wn=()=>{},he=e=>it(e).format("mm:ss"),xn=e=>{const n=e.split(":"),s=Number(n[0]),a=Number(n[1]),o=s*60+a;return Number.isNaN(o)?0:o*1e3},K=(e,n=200,s)=>`${e}?param=${n}y${s||n}`,An=e=>{const{id:n,name:s,duration:a,album:o,artists:r}=e;return{id:n,name:s,dt:a,al:o,ar:r}},or=e=>{const{id:n,name:s,duration:a,album:o,artists:r}=e;return{id:n,name:s,dt:a,al:o,ar:r}};function k(e,n){return function(s){const a=e+(s?"__"+s:"");return n?n[a]:a}}function ce(e){return e==null?void 0:e.replace(/^http(?!s)/,n=>`${n}s`)}const Oe=t.forwardRef(({children:e,className:n},s)=>{const a=k("scrollbar",Sn);return t.createElement("div",{ref:s,className:B(a(),n)},t.createElement("div",{className:a("content")},e))}),Bn="_login_guh86_1",Ln="_login__mask_guh86_16",In="_login__img_guh86_24",On="_login__form_guh86_28",Tn="_login__btn_guh86_51",Pn="_login__register_guh86_65";var Rn={login:Bn,login__mask:Ln,login__img:In,login__form:On,"login__form-item":"_login__form-item_guh86_37",login__btn:Tn,login__register:Pn},Mn="static/svg/login-5a53f576.svg";const le=(e="\u63A5\u53E3\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E")=>(Z.error(e),Promise.reject()),$n="http://47.100.62.108:4000/",ye=[],zn=()=>{ye.forEach(e=>{e()}),ye.length=0},Vn=e=>{const n={400:"\u8BF7\u6C42\u9519\u8BEF(400)",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)",403:"\u62D2\u7EDD\u8BBF\u95EE(403)",404:"\u8BF7\u6C42\u51FA\u9519(404)",408:"\u8BF7\u6C42\u8D85\u65F6(408)",500:"\u670D\u52A1\u5668\u9519\u8BEF(500)",501:"\u670D\u52A1\u672A\u5B9E\u73B0(501)",502:"\u7F51\u7EDC\u9519\u8BEF(502)",503:"\u670D\u52A1\u4E0D\u53EF\u7528(503)",504:"\u7F51\u7EDC\u8D85\u65F6(504)",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)",0:`\u8FDE\u63A5\u51FA\u9519(${e})!`};return`${n[e]||n[0]}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},pe=Ne.create({baseURL:$n,timeout:1e4,headers:{"Content-Type":"application/json"},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=R.parse(e)),e)]});pe.interceptors.request.use(e=>{e.cancelToken=new Ne.CancelToken(s=>{ye.push(s)});const n=Ie.get("userInfo");if(n){const s=R.parse(n);e.url=e.url+"?cookie="+s.cookie}return e},le);pe.interceptors.response.use(async e=>{const n=e.status;return n<200||n>=300?le(Vn(n)):e.data.code===200?e.data:le(e.data.message)},e=>Ne.isCancel(e)?new Promise(wn):le());const u=(e,n,s)=>pe.get(e,j(C({},s),{params:n})),jn=(e,n,s)=>pe.post(e,n,s),qn=e=>jn("/login/cellphone",e),Un=e=>u("/user/playlist",{uid:e}),lr=()=>u("/banner"),cr=()=>u("/dj/banner"),ir=e=>u("/personalized",e),ur=e=>u("/personalized/privatecontent/list",e),mr=()=>u("/personalized/mv"),_r=()=>u("/album/newest"),dr=(e=6)=>u("/dj/toplist",{limit:e}),Hn=e=>u("/song/url",{id:e}),Jn=e=>u("/lyric",{id:e}),Gn=()=>u("/personal_fm"),Yn=(e,n=0)=>u("/comment/music",{id:e,offset:n}),pr=(e,n=0)=>u("/comment/playlist",{id:e,offset:n}),gr=()=>u("/playlist/hot"),Er=()=>u("/playlist/catlist"),fr=({offset:e,limit:n,cat:s})=>u("/top/playlist",{cat:s,offset:e,limit:n}),hr=()=>u("/dj/catelist"),yr=(e=5)=>u("/dj/personalize/recommend",{limit:e}),vr=(e=0,n=4)=>u("/dj/paygift",{offset:e,limit:n}),Cr=e=>u("/user/audio",{uid:e}),br=e=>u("/dj/recommend/type",{type:e}),Fr=()=>u("/toplist"),Kn=e=>u("/playlist/detail",{id:e}),kr=e=>u("/artist/list",e),Dr=e=>u("/top/song",{type:e}),Sr=e=>u("/top/album",e),Nr=()=>u("/video/category/list"),wr=(e,n=0)=>u("/video/group",{id:e,offset:n}),xr=(e,n=6)=>u("/mv/first",{area:e,limit:n}),Ar=(e=6)=>u("/mv/all",{limit:e}),Br=(e=6)=>u("/mv/exclusive/rcmd",{limit:e}),Lr=(e,n=10)=>u("/top/mv",{area:e,limit:n}),Ir=()=>u("/dj/sublist"),Or=()=>u("/album/sublist"),Tr=()=>u("/artist/sublist"),Pr=()=>u("/mv/sublist"),Zn=e=>u("/simi/playlist",{id:e}),Qn=e=>u("/simi/song",{id:e}),Wn=e=>u("/song/detail",{ids:e}),Xn=()=>u("/search/hot/detail"),Rr=({id:e,offset:n,limit:s=20})=>u("/playlist/subscribers",{id:e,offset:n,limit:s}),es=e=>u("/search/suggest",{keywords:e}),Mr=e=>u("/search",e),$r=e=>u("/search/multimatch",{keywords:e}),zr=e=>u("/artist/detail",{id:e}),Vr=e=>u("/artist/top/song",{id:e}),jr=e=>u("/artist/album",{id:e}),qr=e=>u("/artist/desc",{id:e}),ts=e=>u("/album",{id:e}),Ur=e=>u("/artist/mv",{id:e}),Hr=e=>u("/simi/artist",{id:e}),Jr=e=>u("/album/detail/dynamic",{id:e}),Gr=(e,n=0)=>u("/comment/album",{id:e,offset:n}),Yr=e=>u("/user/detail",{uid:e}),Kr=()=>u("/recommend/songs"),Zr=(e,n=0)=>u("/comment/video",{id:e,offset:n}),Qr=e=>u("/video/detail",{id:e}),Wr=e=>u("/video/url",{id:e}),Xr=e=>u("/related/allvideo",{id:e}),eo=()=>u("/video/group/list"),to=(e=0)=>u("/video/timeline/all",{offset:e}),no=e=>u("/dj/detail",{rid:e}),so=e=>u("/dj/program",{rid:e}),ao=(e,n)=>u("/dj/subscriber",{id:e,time:n}),ns=e=>u("/comment/dj",{id:e}),ro=e=>u("/mv/url",{id:e}),oo=e=>u("/mv/detail",{mvid:e}),lo=e=>u("/mv/detail/info",{mvid:e}),co=(e,n=0)=>u("/comment/mv",{id:e,offset:n}),io=(e,n)=>u("/user/cloud",{offset:e,limit:n}),uo=()=>u("/playlist/highquality/tags"),mo=(e,n=1,s)=>u("/top/playlist/highquality",{cat:e,limit:n,before:s}),_o=(e,n,s)=>u("/dj/radio/hot",{cateId:e,offset:n,limit:s});var gt="static/svg/avatar-86c9b0fc.svg";const Et=e=>"userInfo"+e?`/${e}`:"",ie=J(Et("set"),async({phone:e,password:n},{rejectWithValue:s})=>{const[a,o]=await U(qn({phone:e,password:n}));if(a||!o)return s(null);const i=o,{code:r}=i,l=q(i,["code"]);return r===200?l:s(null)}),{reducer:ss,actions:as}=ee({name:Et(),initialState:{cookie:"",profile:{avatarUrl:gt,nickname:"\u672A\u767B\u5F55",userId:0,description:""}},reducers:{setUserInfoFromCache(e,n){return C(C({},e),n.payload)}},extraReducers(e){e.addCase(ie.fulfilled,(n,s)=>C(C({},n),s.payload)),e.addCase(ie.rejected,n=>(Z.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),n))}}),{setUserInfoFromCache:rs}=as,ft=e=>"userPlaylist"+e?`/${e}`:"",os={playlist:[]},ue=J(ft("set"),async(e,{rejectWithValue:n})=>{const[s,a]=await U(Un(e));if(s||!a)return n(null);const l=a,{code:o}=l,r=q(l,["code"]);return o===200?r:n(null)}),{reducer:ls}=ee({name:ft(),initialState:os,reducers:{},extraReducers(e){e.addCase(ue.fulfilled,(n,s)=>C(C({},n),s.payload)),e.addCase(ue.rejected,n=>(Z.error("\u83B7\u53D6\u6B4C\u5355\u5217\u8868\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),n))}});var Y=(e=>(e[e.IN_TURN=0]="IN_TURN",e[e.LOOP=1]="LOOP",e[e.SOLO=2]="SOLO",e[e.RANDOM=3]="RANDOM",e))(Y||{}),cs=(e=>(e[e.SONG=1]="SONG",e[e.SINGER=100]="SINGER",e[e.ALBUM=10]="ALBUM",e[e.VIDEO=1014]="VIDEO",e[e.PLAYLIST=1e3]="PLAYLIST",e[e.LYRIC=1006]="LYRIC",e[e.RADIO=1009]="RADIO",e[e.USER=1002]="USER",e))(cs||{});const te=e=>`currentTrack/${e}`,Ue=localStorage.getItem("currentTrack"),is=Ue?R.parse(Ue):{current:-1,tracks:[],fm:[],autoPlay:!0},me=J(te("setSong"),async(e,{rejectWithValue:n})=>{const[s,a]=await U(Hn(e));if(s||!a)return n(null);const{code:o,data:r}=a;return o===200?r.length===0||!r[0].url?(Z.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<"),n(null)):r[0]:n(null)}),ve=J(te("setFM"),async(e,{rejectWithValue:n})=>{const[s,a]=await U(Gn());if(s||!a)return n(null);const{code:o,data:r}=a;return o===200&&r.length?{init:e,data:r}:n(null)}),_e=J(te("nextFM"),async(e,{getState:n,dispatch:s,rejectWithValue:a})=>{const o=n(),{currentTrack:r}=o,{fm:l,current:i}=r,p=C({},r),g=l.length;if(g===i+1){const[d]=await U(s(ve(!1)));if(d)return a(null)}return p.current++,p.current%=g,p}),Ce=J(te("insertSong"),async(e,{rejectWithValue:n,dispatch:s})=>{const[a,o]=await U(Promise.all([Wn(e),s(me(e))]));return a||!(o!=null&&o[0])?n(null):o[0]}),He=J(te("fetchAndSetCurrentTrack"),async(e,{rejectWithValue:n,dispatch:s})=>{let a,o;typeof e=="number"?a=e:(a=e.id,o=e.isAlbum);let r;if(o){const[l,i]=await U(ts(a));if(l||!i)return n(null);r=i.songs}else{const[l,i]=await U(Kn(a));if(l||!i)return n(null);r=i.playlist.tracks}s(_s({current:0,tracks:r,fm:[]}))}),{reducer:us,actions:ms}=ee({name:"currentTrack",initialState:is,reducers:{setAutoPlay(e,n){const s=C({},e);return s.autoPlay=n.payload,s},setCurrentTrack(e,n){const i=e,{cacheCurrent:s}=i,a=q(i,["cacheCurrent"]),{current:o,tracks:r,fm:l}=n.payload;return l.length=0,j(C({},a),{current:o,tracks:r,fm:l,autoPlay:!0})},changeSong(e,n){const{tracks:s,current:a}=e,o=g=>Math.floor((g-1)*Math.random()),r=[],l=g=>{const{mode:d,next:m}=n.payload,f=s.length;let _;return d===Y.RANDOM?_=o(f):(_=m?g+1:g-1,_<0&&(_+=f),_%=f),r.includes(_)||r.push(_),s[_].disable&&r.length<s.length&&(_=l(_)),_},i=l(a),p=C({},e);return p.current=i,p.autoPlay=!0,p},changeCurrent(e,n){const s=C({},e);return s.current=n.payload,s.autoPlay=!0,s}},extraReducers(e){const n=s=>s;e.addCase(me.fulfilled,(s,a)=>j(C({},s),{song:a.payload})),e.addCase(me.rejected,s=>C({},s)),e.addCase(ve.fulfilled,(s,a)=>{const o=C({},s),{init:r,data:l}=a.payload;return o.fm=l,r&&(o.cacheCurrent=o.current),o.current=0,o.autoPlay=!0,o}),e.addCase(ve.rejected,n),e.addCase(_e.fulfilled,s=>{const a=C({},s);return a.current++,a}),e.addCase(_e.rejected,n),e.addCase(Ce.fulfilled,(s,a)=>{const o=C({},s);o.fm=[],o.tracks=[...o.tracks];let r=!1;return a.payload.songs.forEach(l=>{o.tracks.find(i=>l.id===i.id)||(o.tracks.push(l),r=!0)}),r&&(o.current=o.tracks.length-1),o.autoPlay=!0,o}),e.addCase(Ce.rejected,n),e.addCase(He.fulfilled,s=>{const a=C({},s);return a.autoPlay=!0,a}),e.addCase(He.rejected,n)}}),{setCurrentTrack:_s,changeSong:Je,changeCurrent:ds}=ms,Ge=localStorage.getItem("controller"),ps=Ge?R.parse(Ge):{playMode:Y.IN_TURN,pause:!0,currentTime:0,showDetail:!1,keywords:""},{reducer:gs,actions:Es}=ee({name:"controller",initialState:ps,reducers:{setPlayMode(e,n){const s=C({},e);return s.playMode=n.payload,s},setPause(e,n){const s=C({},e);return s.pause=n.payload,s},setCurrentTime(e,n){const s=C({},e);return s.currentTime=n.payload,s},setShowDetail(e,n){const s=C({},e);return s.showDetail=n.payload,s},setKeywords(e,n){const s=C({},e);return s.keywords=n.payload,s},setController(e,n){return C(C({},e),n.payload)}}}),{setPlayMode:fs,setPause:ht,setCurrentTime:be,setShowDetail:Te,setKeywords:yt,setController:po}=Es,Ye=localStorage.getItem("currentTrack"),hs=Ye?R.parse(Ye):{},{reducer:ys,actions:vs}=ee({name:"djDetail",initialState:hs,reducers:{setDJDetail(e,n){return n.payload}}}),{setDJDetail:go}=vs,Fe=xt({reducer:{user:ss,userPlaylist:ls,currentTrack:us,controller:gs,djDetail:ys}}),Cs=({setShowLogin:e})=>{const n=k("login",Rn),s=document.getElementById("portal"),[a,o]=c.exports.useState(""),[r,l]=c.exports.useState(""),i=T(),p=d=>{d.stopPropagation(),e(!1)},g=async d=>{if(d.preventDefault(),!a||!r)return;const m=await i(ie({phone:a,password:r}));if(ie.fulfilled.match(m)){Ie.set("userInfo",m.payload);const{userId:f}=m.payload.profile;i(ue(f)),e(!1),Z.success("\u767B\u5F55\u6210\u529F\uFF5E")}};return X.exports.createPortal(t.createElement("div",{className:n("mask")},t.createElement("form",{className:n()},t.createElement(we,{onClick:p}),t.createElement("img",{className:n("img"),src:Mn,alt:"login"}),t.createElement("div",{className:n("form")},t.createElement("div",{className:n("form-item")},t.createElement("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",value:a,onChange:d=>o(d.target.value)})),t.createElement("div",{className:n("form-item")},t.createElement("input",{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",value:r,onChange:d=>l(d.target.value)}))),t.createElement("button",{type:"submit",className:n("btn"),onClick:g},"\u767B\u5F55"))),s)},bs=()=>{const e=k("sidebar",qe),[n,s]=c.exports.useState(),{push:a}=H(),{pathname:o}=Se(),[r,l]=c.exports.useState(!1),{profile:i,cookie:p}=w(v=>v.user),g=w(v=>v.userPlaylist.playlist),d=T(),m=[{menus:[{name:"\u53D1\u73B0\u97F3\u4E50",icon:oe,path:y.findMusic},{name:"\u79C1\u4EBAFM",icon:ze,path:y.fm},{name:"\u89C6\u9891",icon:At,path:y.video,loginShow:!0},{name:"\u670B\u53CB",icon:ze,path:y.friend}]},{title:"\u6211\u7684\u97F3\u4E50",menus:[{name:"iTunes\u97F3\u4E50",icon:oe,path:y.iTunes},{name:"\u4E0B\u8F7D\u7BA1\u7406",icon:Bt,path:y.download},{name:"\u6700\u8FD1\u64AD\u653E",icon:Lt,path:y.recent},{name:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",icon:It,path:y.cloudMusic,loginShow:!0},{name:"\u6211\u7684\u7535\u53F0",icon:Ot,path:y.radio,loginShow:!0},{name:"\u6211\u7684\u6536\u85CF",icon:ut,path:y.collection,loginShow:!0}]},{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[{name:"\u6211\u559C\u6B22\u7684\u97F3\u4E50",icon:xe,path:A.list("")}]}],[f,_]=c.exports.useReducer(S,m),h=({menu:v,index:D})=>{const x=M(n,D);return t.createElement("div",{key:v.path,className:B(e("item"),{[qe["--active"]]:x}),onClick:()=>N({menu:v,index:D})},t.createElement(v.icon,null),t.createElement("a",null,v.name))};function S(v,D){return[...v.slice(0,2),...D]}function N({menu:v,index:D}){s(D),a(v.path)}function E(){l(!0)}function F(){const v=Ie.get("userInfo");if(!v)return;const D=R.parse(v);d(rs(D));const{userId:x}=D.profile;d(ue(x))}function P(){for(let v=0,D=f.length;v<D;v++){const{menus:x}=f[v];for(let I=0,Q=x.length;I<Q;I++){const W=x[I];if(o.includes(W.path))return[v,I]}}}function M(v,D){if(!v||!D||v.length!==v.length)return!1;for(let x=0,I=v.length;x<I;x++)if(v[x]!==D[x])return!1;return!0}function z(v,D){if(!!v.title)return t.createElement("div",{className:e("title")},D<2?v.title:t.createElement(t.Fragment,null,t.createElement("div",{className:e("title-left")},t.createElement(Pt,null),t.createElement("strong",null,v.title)),v.title==="\u521B\u5EFA\u7684\u6B4C\u5355"&&t.createElement(mt,{className:e("title-right")})))}function O(){p?a({pathname:A.user(i.userId),state:!0}):l(!0)}return c.exports.useEffect(()=>{(async()=>{const v=P();s(v)})()},[o]),c.exports.useEffect(()=>{F()},[]),c.exports.useEffect(()=>{const v=[{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[]},{title:"\u6536\u85CF\u7684\u6B4C\u5355",menus:[]}];!g||g.length===0||(g.forEach(D=>{const{name:x,id:I,userId:Q}=D,W=A.list(I),ne={name:x,path:W,icon:oe},ge=Q===i.userId?0:1;v[ge].menus.push(ne)}),_(v))},[g]),t.createElement("aside",{className:e()},t.createElement("header",{className:e("header")},t.createElement("img",{src:ce(K(i.avatarUrl,100)),alt:"icon",onClick:O}),t.createElement("strong",{onClick:E},i.nickname),t.createElement(Tt,{onClick:E})),t.createElement(Oe,{className:e("main")},f.map((v,D)=>t.createElement("div",{key:D},z(v,D),v.menus.map((x,I)=>p||!x.loginShow?t.createElement(h,{key:I,menu:x,index:[D,I]}):null)))),r&&t.createElement(Cs,{setShowLogin:l}))},Fs="_footer_oumu4_1",ks="_footer__left_oumu4_30",Ds="_footer__right_oumu4_58",Ss="_footer__lyric_oumu4_62",Ns="_footer__mid_oumu4_72",ws="_footer__volume_oumu4_103";var $={footer:Fs,"footer__progress-bar":"_footer__progress-bar_oumu4_14",footer__left:ks,"footer__left-name":"_footer__left-name_oumu4_42",footer__right:Ds,footer__lyric:Ss,"--active":"_--active_oumu4_69",footer__mid:Ns,"--big":"_--big_oumu4_87","--medium":"_--medium_oumu4_90","--red":"_--red_oumu4_93","--disable":"_--disable_oumu4_96",footer__volume:ws};const xs=(e,n)=>{const s=w(l=>l.controller.pause),a=T(),o=c.exports.useMemo(()=>s?Rt:Mt,[s]);function r(l){!n||a(ht(l))}return c.exports.useEffect(()=>{!(e!=null&&e.current)||(s?e.current.pause():e.current.play())},[s]),{PlayIcon:o,pause:s,handlePause:r}},As=(e,n,s)=>{const a=w(i=>i.controller.currentTime),o=T();return{currentTime:a,handleTimeUpdate:()=>{!(e!=null&&e.current)||o(be(e.current.currentTime*1e3))},handleProgressClick:i=>{if(!(n!=null&&n.current)||!(e!=null&&e.current)||!s)return;const{pageX:p}=i,{left:g,width:d}=n.current.getBoundingClientRect(),m=(p-g)/d*s/1e3;e.current.currentTime=m,o(be(m))}}},Bs=()=>{const e=w(r=>r.controller.playMode),n=T(),s=[{key:"inTurn",tip:"\u987A\u5E8F\u64AD\u653E",icon:$t},{key:"loop",tip:"\u5FAA\u73AF\u64AD\u653E",icon:zt},{key:"solo",tip:"\u5355\u66F2\u5FAA\u73AF",icon:Vt},{key:"random",tip:"\u968F\u673A\u64AD\u653E",icon:jt}],a=c.exports.useMemo(()=>s[e],[e]);return{playMode:e,handleIconClick:()=>{const r=e===3?0:e+1;n(fs(r))},currentPlayMode:a}},Ls=()=>{const e=c.exports.useRef(null),[n,s]=c.exports.useState(!1);return{listButtonRef:e,showList:n,setShowList:s}},Is=()=>{const[e,n]=c.exports.useState(!1);return{lyricActive:e,setLyricActive:n}},Os=e=>{const[n,s]=c.exports.useState(100);return{volume:n,setVolume:s,handleVolumeChange:r=>{s(r.currentTarget.volume*100)},handleSliderChange:r=>{!(e!=null&&e.current)||(e.current.volume=r/100)}}},Ts="_fold_7eol0_1";var Ke={"music-detail":"_music-detail_7eol0_1",fold:Ts,"music-detail__shim":"_music-detail__shim_7eol0_14","--show":"_--show_7eol0_31","music-detail__player":"_music-detail__player_7eol0_34","music-detail__info":"_music-detail__info_7eol0_41","music-detail__comment":"_music-detail__comment_7eol0_46"};const Ps="_cover_j60n2_1",Rs="_cover__inner_j60n2_11",Ms="_rotate_j60n2_1";var Ze={cover:Ps,cover__inner:Rs,"--animate":"_--animate_j60n2_17",rotate:Ms};const $s="_img_pj7a2_1",zs="_img__play_pj7a2_11",Vs="_img__loading_pj7a2_31",js="_img__count_pj7a2_39";var ae={img:$s,img__play:zs,"--center":"_--center_pj7a2_18","--bottom":"_--bottom_pj7a2_23","--show":"_--show_pj7a2_28",img__loading:Vs,img__count:js};const qs="_icon_fxwxv_1",Us="_icon__play_fxwxv_11",Hs="_icon__pause_fxwxv_19";var Qe={icon:qs,icon__play:Us,icon__pause:Hs,"--small":"_--small_fxwxv_23","--medium":"_--medium_fxwxv_28","--big":"_--big_fxwxv_33","--large":"_--large_fxwxv_38","--giant":"_--giant_fxwxv_43"};const Js=e=>{const n=k("icon",Qe),l=e,{type:s="play",size:a,className:o}=l,r=q(l,["type","size","className"]);return t.createElement("span",C({className:B(Qe[`--${a}`],o,n()),tabIndex:-1},r),s==="play"?t.createElement("span",{className:n("play")}):t.createElement("span",{className:n("pause")},"| |"))},de=({alt:e="",banLoading:n=!1,style:s,className:a,src:o,icon:r=!1,count:l,onClick:i,onIconClick:p})=>{const g=k("img",ae),d=c.exports.useRef(null),[m,f]=c.exports.useState(!1),[_,h]=c.exports.useState(!0),[S,N]=c.exports.useState(!1),E=c.exports.useMemo(()=>{const M={size:"small",placement:"center",hoverDisplay:!1};return r===!1?!1:r===!0?M:C(C({},M),r)},[r]),F=new IntersectionObserver(M=>{M.forEach(z=>{var O;z.isIntersecting&&d&&((O=d.current)==null?void 0:O.style)&&f(!0)})});function P(){h(!1)}return c.exports.useEffect(()=>{if(!!d.current)return F.observe(d.current),()=>{!d.current||(F.unobserve(d.current),F.disconnect())}},[]),t.createElement("div",{ref:d,className:B(g(),a),style:s},m&&t.createElement("img",{src:ce(o),alt:e,onLoad:P,onMouseMove:()=>N(!0),onMouseLeave:()=>N(!1),onClick:i}),!n&&_&&t.createElement(qt,{className:g("loading")}),!_&&E&&t.createElement(Js,{size:E.size,className:B(g("play"),ae[`--${E.size}`],ae[`--${E.placement}`],{[ae["--show"]]:!E.hoverDisplay||S}),onMouseMove:()=>N(!0),onClick:p}),l&&t.createElement("div",{className:g("count")},t.createElement(Ae,null),l))},Gs=({img:e,pause:n})=>{const s=k("cover",Ze);return t.createElement(t.Fragment,null,t.createElement("div",{className:s()},t.createElement(de,{className:B(s("inner"),{[Ze["--animate"]]:!n}),src:K(e,300)})))};var Ys={"button-group":"_button-group_ervze_1","button-group__item":"_button-group__item_ervze_6"};const Ks=({data:e})=>{const n=k("button-group",Ys);return t.createElement("ul",{className:n()},e.map((s,a)=>t.createElement("li",{key:a,className:n("item"),onClick:s.event},t.createElement(s.icon,null))))},Zs="_lyric_19q8r_1",Qs="_lyric__quality_19q8r_19",Ws="_lyric__info_19q8r_30",Xs="_lyric__wrapper_19q8r_46",ea="_lyric__question_19q8r_69",ta="_lyric__anchor_19q8r_81",na="_lyric__container_19q8r_84";var We={lyric:Zs,"lyric__music-name":"_lyric__music-name_19q8r_12",lyric__quality:Qs,lyric__info:Ws,lyric__wrapper:Xs,"--selected":"_--selected_19q8r_65",lyric__question:ea,lyric__anchor:ta,lyric__container:na};const sa=({music:e})=>{const n=k("lyric",We),[s,a]=c.exports.useState([]),o=w(m=>m.controller.currentTime),r=c.exports.useRef(null),[l,i]=c.exports.useState(0),{push:p}=H();function g(m){const f=[];return m.split(`
`).forEach(h=>{h.replace(/\[(.*?)\](.*)(\[.*?\])?/,(S,N,E)=>{const F=[xn(N)];return!E||!E.trim()||f.push({timestamp:F,value:E}),""})}),f}function d(){var S,N;if(!(r!=null&&r.current))return;const m=s.length;if(l===m-1)return;const f=r.current;let _=0;for(let E=l;E<m;E++)if(!!((N=(S=s[E])==null?void 0:S.timestamp)!=null&&N[0])&&o<=s[E].timestamp[0]){i(E-1),_=E-1;break}const h=44*_*window.innerWidth/1e3;_!==l&&f.scrollTo({top:h,behavior:"smooth"})}return c.exports.useEffect(()=>{var m;!(e!=null&&e.id)||((m=r.current)==null||m.scrollTo({top:0}),i(0),Jn(e.id).then(f=>{const{lrc:_,nolyric:h}=f;a(h?[]:g(_.lyric))}))},[e==null?void 0:e.id]),c.exports.useEffect(()=>{s.length&&d()},[o,s]),t.createElement("div",{className:n()},t.createElement("h2",null,t.createElement("span",{className:n("music-name")},e==null?void 0:e.name),t.createElement("span",{className:n("quality")},"\u6807\u51C6\u97F3\u8D28")),t.createElement("div",{className:n("info")},t.createElement("p",null,t.createElement("span",null,"\u4E13\u8F91\uFF1A"),t.createElement("a",{onClick:()=>p(A.list(e.album.id,"album"))},e==null?void 0:e.album.name)),t.createElement("p",null,t.createElement("span",null,"\u6B4C\u624B\uFF1A"),e==null?void 0:e.artists.map(m=>t.createElement("a",{className:n("anchor"),key:m.name,onClick:()=>p(A.singer(m.id))},m.name)))),t.createElement("div",{className:n("container")},s.length>0?t.createElement(Oe,{ref:r,className:n("wrapper")},s.map((m,f)=>t.createElement("p",{key:f,className:B({[We["--selected"]]:f===l})},m.value))):t.createElement("span",null,"\u7EAF\u97F3\u4E50\uFF0C\u8BF7\u60A8\u6B23\u8D4F")),t.createElement(Ut,{className:n("question")}))},aa="_comments_1stot_1",ra="_comments__left_1stot_9",oa="_comments__img_1stot_12",la="_comments__right_1stot_18",ca="_comments__info_1stot_34",ia="_comments__icons_1stot_39",ua="_comments__icon_1stot_39";var Xe={comments:aa,comments__left:ra,comments__img:oa,comments__right:la,"--mentioned":"_--mentioned_1stot_21",comments__info:ca,comments__icons:ia,comments__icon:ua};const et=({comment:e})=>{var r;const n=k("comments",Xe),{push:s}=H(),a=[{icon:_t,value:e.likedCount},{icon:Ht},{icon:Jt}];function o(){s(A.user(e.user.userId))}return t.createElement("div",{className:n()},t.createElement("div",{className:n("left")},t.createElement(de,{className:n("img"),src:K((e==null?void 0:e.user.avatarUrl)||gt,30),onClick:o})),t.createElement("div",{className:n("right")},t.createElement("p",null,t.createElement("a",{onClick:o},e.user.nickname,"\uFF1A"),e.content),((r=e.beReplied)==null?void 0:r.length)>0&&t.createElement("p",{className:Xe["--mentioned"]},e.beReplied.map(l=>t.createElement("span",{key:l.beRepliedCommentId},t.createElement("a",{onClick:()=>s(A.user(l.user.userId))},"@",l.user.nickname,"\uFF1A"),l.content))),t.createElement("div",{className:n("info")},t.createElement("span",null,it(e.time).format("YYYY\u5E74M\u6708D\u65E5 HH:mm")),t.createElement("div",{className:n("icons")},a.map((l,i)=>t.createElement("div",{key:i,className:n("icon")},t.createElement(l.icon,null),l.value&&l.value>0?t.createElement("strong",null,l.value):null))))))};var ma={"comment-group__title":"_comment-group__title_1v435_1","comment-group__footer":"_comment-group__footer_1v435_5","comment-group__empty":"_comment-group__empty_1v435_11"};const _a=({id:e,functionChildren:n,api:s})=>{const a=k("comment-group",ma),[o,r]=c.exports.useState([]),[l,i]=c.exports.useState([]),[p,g]=c.exports.useState(0),[d,m]=c.exports.useState(1);async function f(_,h=1,S=20){if(!_)return;const N=(h-1)*S,E=await s(_,N);r(E.comments),E.hotComments&&i(E.hotComments),g(E.total)}return c.exports.useEffect(()=>{e&&f(e)},[e]),t.createElement("div",{className:a()},p>0?t.createElement(t.Fragment,null,n==null?void 0:n(p),l.length>0&&t.createElement(t.Fragment,null,t.createElement("h2",{className:a("title")},"\u7CBE\u5F69\u8BC4\u8BBA"),l.map(_=>t.createElement(et,{key:_.commentId,comment:_}))),o.length>0&&t.createElement(t.Fragment,null,t.createElement("h2",{className:a("title")},"\u6700\u65B0\u8BC4\u8BBA\uFF08",p,"\uFF09"),o.map(_=>t.createElement(et,{key:_.commentId,comment:_}))),p>20&&t.createElement("footer",{className:a("footer")},t.createElement(Gt,{total:p,showSizeChanger:!1,current:d,onChange:(_,h)=>{m(_),f(e,_,h)}}))):t.createElement("div",{className:a("empty")},"\u8FD8\u6CA1\u6709\u8BC4\u8BBA\uFF0C\u5FEB\u6765\u62A2\u6C99\u53D1\uFF5E"))},da="_recommend_1byjg_1",pa="_recommend__title_1byjg_5",ga="_recommend__item_1byjg_12",Ea="_recommend__img_1byjg_29";var fa={recommend:da,recommend__title:pa,recommend__item:ga,"recommend__item-info":"_recommend__item-info_1byjg_20",recommend__img:Ea};const ha=({id:e})=>{const n=k("recommend",fa),[s,a]=c.exports.useState([]),[o,r]=c.exports.useState([]);return c.exports.useEffect(()=>{(async()=>{const l=await Zn(e);a(l.playlists)})(),(async()=>{const l=await Qn(e);r(l.songs)})()},[e]),t.createElement("div",{className:n()},t.createElement("h2",{className:n("title")},"\u5305\u542B\u8FD9\u9996\u6B4C\u7684\u6B4C\u5355"),s.map(l=>t.createElement("div",{key:l.id,className:n("item")},t.createElement(de,{className:n("img"),src:K(l.coverImgUrl,100)}),t.createElement("div",{className:n("item-info")},t.createElement("div",null,l.name),t.createElement("div",null,Nn(l.playCount))))),t.createElement("h2",{className:n("title")},"\u76F8\u4F3C\u6B4C\u66F2"),o.map(l=>t.createElement("div",{key:l.id,className:n("item")},t.createElement(de,{className:n("img"),src:K(l.album.picUrl,100),icon:!0}),t.createElement("div",{className:n("item-info")},t.createElement("div",null,l.name),t.createElement("div",null,l.artists.reduce((i,p)=>`${i} ${p.name}`,"").slice(1))))))};var ya={"write-comment__title":"_write-comment__title_16b6h_1","write-comment__input":"_write-comment__input_16b6h_5"};const va=({count:e})=>{const n=k("write-comment",ya);return t.createElement(t.Fragment,null,t.createElement("div",{className:n("title")},t.createElement("strong",null,"\u542C\u53CB\u8BC4\u8BBA"),t.createElement("span",null,"\uFF08\u5DF2\u6709",e,"\u6761\u8BC4\u8BBA\uFF09")),t.createElement("div",{className:n("input")},t.createElement("span",null,t.createElement(Yt,null),t.createElement("span",{style:{marginLeft:"5px"}},"\u53D1\u8868\u8BC4\u8BBA")),t.createElement("p",null,"@")))},Ca="_button_1iyu2_1",ba="_button__left_1iyu2_10",Fa="_button__right_1iyu2_24";var re={button:Ca,button__left:ba,button__right:Fa,"--compose":"_--compose_1iyu2_34","--normal":"_--normal_1iyu2_41"};const ka=e=>{const n=k("button",re),i=e,{compose:s,children:a,className:o}=i,r=q(i,["compose","children","className"]),l=t.createElement(t.Fragment,null,t.createElement("div",{className:n("left")},t.createElement(Ae,null),"\u64AD\u653E\u5168\u90E8"),t.createElement("div",{className:n("right")},t.createElement(mt,null)));return t.createElement("button",C({className:B(re.button,s?re["--compose"]:re["--normal"],o)},r),s?l:a)};var Da={"radio-detail":"_radio-detail_11477_1","radio-detail__name":"_radio-detail__name_11477_8","radio-detail__detail":"_radio-detail__detail_11477_20","radio-detail__item":"_radio-detail__item_11477_25","radio-detail__tag":"_radio-detail__tag_11477_38","radio-detail__tag-wrapper":"_radio-detail__tag-wrapper_11477_49"};const Sa=({music:e})=>{var a;const n=k("radio-detail",Da),s=w(o=>o.djDetail);return t.createElement("div",{className:n()},t.createElement("h2",null,e.name),t.createElement("div",{className:n("name")},t.createElement("strong",null,s==null?void 0:s.name),t.createElement(ka,null,t.createElement(ut,null)," \u8BA2\u9605(",s.subCount,")")),t.createElement("div",{className:n("detail")},t.createElement("div",{className:n("item")},t.createElement("label",null,"\u4E3B\u64AD:"),t.createElement("a",null,(a=s.dj)==null?void 0:a.nickname)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u6765\u6E90:"),t.createElement("a",null,s.original)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u521B\u5EFA\u65F6\u95F4:"),t.createElement("span",null,s.createTime)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u5DF2\u64AD\u653E:"),t.createElement("span",null,s.playCount,"\u6B21"))),t.createElement("div",{className:n("tag-wrapper")},t.createElement("span",{className:n("tag")},s.category),s.desc))},Na=({visible:e})=>{const n=k("music-detail",Ke),s=w(p=>p.controller.pause),a=T(),o=w(p=>{var g;return!((g=p.currentTrack.song)!=null&&g.flag)}),r=w(p=>{const{current:g,tracks:d,fm:m}=p.currentTrack;if(!(g<0||m.length>0)&&d[g])return i(d[g])}),l=[{icon:xe},{icon:Be},{icon:Zt},{icon:Qt}];function i(p){const{name:g,id:d,dt:m,al:f,ar:_}=p;return{id:d,name:g,duration:m,album:f,artists:_}}return X.exports.createPortal(t.createElement(t.Fragment,null,e&&r&&t.createElement("div",{className:n("shim")},t.createElement(Kt,{onClick:()=>a(Te(!1))})),r&&t.createElement("div",{className:B(n(),{[Ke["--show"]]:e})},t.createElement("section",{className:n("player")},t.createElement("div",null,t.createElement(Gs,{img:r.album.picUrl,pause:s}),t.createElement(Ks,{data:l})),o?t.createElement(Sa,{music:r}):t.createElement(sa,{music:r})),t.createElement("div",{className:n("info")},t.createElement(_a,{id:r==null?void 0:r.id,api:o?ns:Yn,functionChildren:p=>t.createElement(va,{count:p})}),!o&&t.createElement(ha,{id:r==null?void 0:r.id})))),document.getElementById("music-detail"))};var tt={"music-list":"_music-list_qtnd1_1","--show":"_--show_qtnd1_15","music-list__header":"_music-list__header_qtnd1_18","music-list__subtitle":"_music-list__subtitle_qtnd1_28","music-list__subtitle-right":"_music-list__subtitle-right_qtnd1_33","music-list__subtitle-all":"_music-list__subtitle-all_qtnd1_38","music-list__subtitle-clear":"_music-list__subtitle-clear_qtnd1_44","music-list__total":"_music-list__total_qtnd1_52"};const wa="_table_1ltg6_1",xa="_table__cell_1ltg6_29";var fe={table:wa,"--active":"_--active_1ltg6_20","--disable":"_--disable_1ltg6_23",table__cell:xa},Aa="static/svg/no-music-ed6bb8c2.svg",Ba={"no-data":"_no-data_2e6x3_1","no-data__wrapper":"_no-data__wrapper_2e6x3_7"};const vt=({title:e,subTitle:n})=>{const s=k("no-data",Ba);return t.createElement("div",{className:s("wrapper")},t.createElement("div",{className:s()},t.createElement("img",{src:Aa,alt:"no-music"}),e&&t.createElement("h3",null,e),n&&t.createElement("div",null,n)))},La=({columns:e,data:n,disableColumn:s="disable",noHead:a=!1,selectedRow:o,onDoubleClick:r})=>{const l=k("table",fe),[i,p]=c.exports.useState(-1);function g(d){if(!!r){if(n[d][s]){Z.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<");return}r(d)}}return c.exports.useEffect(()=>{o!==void 0&&p(o)},[o]),t.createElement(t.Fragment,null,t.createElement("table",{className:l()},t.createElement("colgroup",null),!a&&t.createElement("thead",null,t.createElement("tr",null,e.map((d,m)=>t.createElement("th",{key:m},t.createElement("div",{className:l("cell")},d.title))))),t.createElement("tbody",null,n.length>0?n.map((d,m)=>t.createElement("tr",{key:m,className:B({[fe["--active"]]:i===m,[fe["--disable"]]:d[s]}),onDoubleClick:()=>g(m)},e.map((f,_)=>{let h;return f.render?h=f.render(d):f.key&&(h=gn(d,f.key),f.format&&(h=f.format(h))),t.createElement("td",{key:_},t.createElement("div",{className:l("cell")},h))}))):null)),n.length>0?null:t.createElement(vt,{subTitle:"\u6682\u65E0\u6570\u636E"}))},Ia=({visible:e,setVisible:n,target:s})=>{const a=k("music-list",tt),o=T(),r=w(g=>g.currentTrack),l=c.exports.useRef(null),i=[{title:"\u97F3\u4E50\u6807\u9898",key:"name"},{title:"\u6B4C\u624B",render(g){return g.ar.map(d=>t.createElement("span",{key:d.id},d.name))}},{title:"\u94FE\u63A5\u5230",key:""},{title:"\u65F6\u957F",key:"dt",format:he}];function p(g){o(ds(g))}return ot(l,g=>{g.target!==(s==null?void 0:s.querySelector("svg"))&&n(!1)}),X.exports.createPortal(t.createElement("div",{ref:l,className:B(a(),{[tt["--show"]]:e})},t.createElement("header",{className:a("header")},t.createElement("h2",null,"\u5F53\u524D\u64AD\u653E"),t.createElement("div",{className:a("subtitle")},t.createElement("div",{className:a("total")},"\u603B",r.tracks.length,"\u9996"),t.createElement("div",{className:a("subtitle-right")},t.createElement("span",{className:a("subtitle-all")},t.createElement(Wt,null),"\u6536\u85CF\u5168\u90E8"),t.createElement("span",{className:a("subtitle-clear")},"\u6E05\u7A7A\u5217\u8868")))),t.createElement("section",{className:a("subtitle-table")},t.createElement(La,{noHead:!0,selectedRow:r.current,data:r.tracks,columns:i,onDoubleClick:p}))),document.getElementById("drawer"))},Oa=()=>{const e=k("footer",$),n=c.exports.useRef(null),s=c.exports.useRef(null),a=T(),{push:o}=H(),r=w(L=>L.controller.showDetail),l=w(L=>L.currentTrack.autoPlay||!1),{listButtonRef:i,showList:p,setShowList:g}=Ls(),d=w(L=>L.currentTrack.fm.length),{lyricActive:m,setLyricActive:f}=Is(),_=w(L=>{const{current:V,tracks:Ee,fm:Pe}=L.currentTrack;if(!(V<0)){if(!d)return Ee[V];if(Pe[V])return An(Pe[V])}}),h=w(L=>{const{current:V,tracks:Ee}=L.currentTrack;return V+1===Ee.length}),S=w(L=>L.currentTrack.song),{PlayIcon:N,pause:E,handlePause:F}=xs(n,_),{currentTime:P,handleTimeUpdate:M,handleProgressClick:z}=As(n,s,_==null?void 0:_.dt),{playMode:O,handleIconClick:v,currentPlayMode:D}=Bs(),{volume:x,handleSliderChange:I,handleVolumeChange:Q}=Os(n);function W(){if(d){a(_e());return}!_||O!==Y.SOLO&&(O===Y.IN_TURN&&h?a(be(0)):a(Je({mode:O,next:!0})))}function ne(L){if(!d&&_){a(Je({mode:O,next:L}));return}L&&a(_e())}function ge(){d&&o(y.fm),a(Te(!r))}return c.exports.useEffect(()=>{_!=null&&_.id&&a(me(_.id))},[_==null?void 0:_.id]),t.createElement("footer",{className:e()},(_==null?void 0:_.dt)&&t.createElement("progress",{ref:s,className:e("progress-bar"),value:P,max:_.dt,onClick:z}),t.createElement("div",{className:e("left")},_&&S&&t.createElement(t.Fragment,null,t.createElement("audio",{ref:n,src:ce(S.url),controls:!0,autoPlay:l,loop:O===Y.SOLO,onTimeUpdate:M,onPlay:()=>F(!1),onPause:()=>F(!0),onEnded:W,onVolumeChange:Q}),t.createElement("img",{src:ce(K(_.al.picUrl,100)),alt:"music",onClick:ge}),t.createElement("div",{className:e("left-name")},t.createElement("div",null,_.name," -"," ",_.ar.reduce((L,V)=>`${L}/${V.name}`,"").slice(1)),t.createElement("div",null,he(P)," / ",he(_.dt))))),t.createElement("div",{className:e("mid")},d?t.createElement(xe,null):t.createElement(_t,null),t.createElement(Xt,{className:B($["--medium"],$["--red"],{[$["--disable"]]:d}),onClick:()=>ne(!1)}),t.createElement(N,{className:B($["--big"],$["--red"]),onClick:()=>F(!E)}),t.createElement(en,{className:B($["--medium"],$["--red"]),onClick:()=>ne(!0)}),d?t.createElement(Be,null):t.createElement(tn,null)),t.createElement("div",{className:e("right")},!d&&t.createElement(nn,null),t.createElement(Ve,{title:D.tip},t.createElement(D.icon,{onClick:v})),!d&&_&&t.createElement(dt,{ref:i,onClick:()=>g(!p)}),t.createElement("span",{className:B(e("lyric"),{[$["--active"]]:m}),onClick:()=>f(!m)},"\u8BCD"),_&&t.createElement(Ve,{title:()=>t.createElement("div",{className:e("volume")},t.createElement(sn,{vertical:!0,value:x,onChange:I}))},t.createElement(an,null))),t.createElement(Na,{visible:r}),t.createElement(Ia,{visible:p,setVisible:g,target:i.current}))};var Ta="static/svg/not-found-4a7109ca.svg",Pa={"not-found":"_not-found_r5k7l_1"};const Ra=()=>{const e=k("not-found",Pa);return t.createElement("div",{className:e()},t.createElement("img",{src:Ta,alt:"404"}))},ke=k("main"),Ma=({routes:e})=>{const{pathname:n}=Se(),s=T();function a(){const l=Fe.getState(),{cacheCurrent:i,current:p}=l.currentTrack;let g=p;i!==void 0&&(g=i),localStorage.setItem("djDetail",R.stringify(C({},l.djDetail))),localStorage.setItem("currentTrack",R.stringify(j(C({},l.currentTrack),{current:g,autoPlay:!1,fm:[]}))),localStorage.setItem("controller",R.stringify(j(C({},l.controller),{pause:!0})))}function o(l,i){if(l.code==="Space"){const p=document.activeElement;(!p||p===document.body)&&(l.stopPropagation(),l.preventDefault(),i==null||i())}}function r(l){o(l,()=>{const i=Fe.getState();s(ht(!i.controller.pause))})}return c.exports.useEffect(()=>{s(Te(!1)),zn()},[n]),c.exports.useEffect(()=>(window.addEventListener("beforeunload",a),document.addEventListener("keyup",r),document.addEventListener("keydown",o),()=>{window.removeEventListener("beforeunload",a),document.removeEventListener("keyup",r),document.removeEventListener("keydown",o)}),[]),t.createElement(t.Fragment,null,t.createElement("section",{className:"container"},t.createElement(bs,null),t.createElement(Oe,{className:ke()},t.createElement(c.exports.Suspense,{fallback:t.createElement(pt,{className:ke("loading"),style:{position:"absolute"}})},t.createElement(lt,null,e&&e.map(l=>{const g=l,{component:i}=g,p=q(g,["component"]);return t.createElement(ct,j(C({key:l.path},p),{render:d=>t.createElement(i,{key:d.match.url})}))}),t.createElement(Ra,null))))),t.createElement(Oa,null))};var y=(e=>(e.root="/",e.home="/home",e.fm="/home/fm",e.searchResult="/home/search-result",e.dailyRecommend="/home/daily-recommend",e.findMusic="/home/find-music",e.findMusicMusicList="/home/find-music/music-list",e.findMusicRadioHost="/home/find-music/radio-host",e.findMusicRadioHostPay="/home/find-music/radio-host/pay",e.findMusicRank="/home/find-music/rank",e.findMusicSinger="/home/find-music/singer",e.findMusicNewest="/home/find-music/newest",e.video="/home/video",e.videoMV="/home/video/mv",e.friend="/home/friend",e.iTunes="/home/i-tunes",e.download="/home/download",e.downloadProgram="/home/download/program",e.downloadPendding="/home/download/pendding",e.recent="/home/recent",e.cloudMusic="/home/cloud-music",e.radio="/home/radio",e.collection="/home/collection",e.collectionSinger="/home/collection/singer",e.collectionVideo="/home/collection/video",e.collectionColumn="/home/collection/column",e.setting="/home/setting",e))(y||{});const De=e=>e?`/${e}`:"",G=(e,n,s="id")=>{const a=`/${e}`;return n===void 0?`${a}/:${s}?`:a+De(n)},nt=(e,n,s)=>n===void 0?`/${e}/:id?/:type?`:`/${e}${De(n)}${De(s)}`,A={list:(e,n)=>nt("home/list",e,n),singer:e=>G("home/singer",e),user:e=>G("home/user",e),findMusicNewest:e=>G("home/find-music/newest",e,"type"),playVideo:e=>G("play-video",e),radioList:(e,n)=>nt("home/radio-list",e,n),excellentList:e=>G("home/find-music/music-list/excellent",e),radioZone:e=>G("home/find-music/radio-host/zone",e,"type")},Ct={"find-music":[{label:"\u4E2A\u6027\u63A8\u8350",component:c.exports.lazy(()=>b(()=>import("./index-6bd7f6d1.js"),["static/js/index-6bd7f6d1.js","static/css/index-e82747ee.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-c4202692.js","static/css/index-2692bf2f.css","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"])),path:y.findMusic,exact:!0},{label:"\u6B4C\u5355",component:c.exports.lazy(()=>b(()=>import("./index-57f55b97.js"),["static/js/index-57f55b97.js","static/css/index-ed8dc3ba.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-84ed5fbf.js","static/css/index-e010c0aa.css","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"])),path:y.findMusicMusicList,exact:!0},{label:"\u4E3B\u64AD\u7535\u53F0",component:c.exports.lazy(()=>b(()=>import("./index-0651fb8d.js"),["static/js/index-0651fb8d.js","static/css/index-d2541e3d.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-c4202692.js","static/css/index-2692bf2f.css","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"])),path:y.findMusicRadioHost,exact:!0},{label:"\u6392\u884C\u699C",component:c.exports.lazy(()=>b(()=>import("./index-9b9030b5.js"),["static/js/index-9b9030b5.js","static/css/index-89bc3d52.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"])),path:y.findMusicRank},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>b(()=>import("./index-cc7e250b.js"),["static/js/index-cc7e250b.js","static/css/index-11f2a020.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-0395681b.js","static/js/index-47263c05.js","static/css/index-65a24dfc.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.findMusicSinger},{label:"\u6700\u65B0\u97F3\u4E50",component:c.exports.lazy(()=>b(()=>import("./index-2a94aa0b.js"),["static/js/index-2a94aa0b.js","static/css/index-4765b247.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-0395681b.js","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"])),path:y.findMusicNewest}],video:[{label:"\u89C6\u9891",component:c.exports.lazy(()=>b(()=>import("./index-f765df0c.js"),["static/js/index-f765df0c.js","static/css/index-48ca44ee.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-7672beea.js","static/css/index-1fde7e75.css","static/js/index-91bd085b.js","static/css/index-76ebda23.css","static/js/index-84ed5fbf.js","static/css/index-e010c0aa.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.video,exact:!0},{label:"MV",component:c.exports.lazy(()=>b(()=>import("./index-00bcf017.js"),["static/js/index-00bcf017.js","static/css/index-db88c1c7.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-7672beea.js","static/css/index-1fde7e75.css","static/js/index-0395681b.js","static/js/index-91bd085b.js","static/css/index-76ebda23.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.videoMV}],friend:[{label:"\u52A8\u6001",component:c.exports.lazy(()=>b(()=>import("./index-5101a85b.js"),["static/js/index-5101a85b.js","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.friend}],"i-tunes":[{label:"iTunes\u97F3\u4E50",component:c.exports.lazy(()=>b(()=>import("./index-d38fd3e2.js"),["static/js/index-d38fd3e2.js","static/css/index-63268595.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.iTunes}],download:[{label:"\u5DF2\u4E0B\u8F7D\u5355\u66F2",component:c.exports.lazy(()=>b(()=>import("./index-8b90fde7.js"),["static/js/index-8b90fde7.js","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-d3969579.js","static/css/index-01c1781a.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.download,exact:!0},{label:"\u5DF2\u4E0B\u8F7D\u8282\u76EE",component:c.exports.lazy(()=>b(()=>import("./index-741c9bcb.js"),["static/js/index-741c9bcb.js","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-d3969579.js","static/css/index-01c1781a.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.downloadProgram},{label:"\u6B63\u5728\u4E0B\u8F7D",component:c.exports.lazy(()=>b(()=>import("./index-fe30412a.js"),["static/js/index-fe30412a.js","static/css/index-1b65357d.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.downloadPendding}],recent:[{label:"\u6700\u8FD1\u64AD\u653E",component:c.exports.lazy(()=>b(()=>import("./index-a218f0d2.js"),["static/js/index-a218f0d2.js","static/css/index-985a0294.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.recent}],"cloud-music":[{label:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",component:c.exports.lazy(()=>b(()=>import("./index-c5ced6d7.js"),["static/js/index-c5ced6d7.js","static/css/index-09e80a50.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-0395681b.js","static/js/index-47263c05.js","static/css/index-65a24dfc.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.cloudMusic}],radio:[{label:"\u6211\u7684\u7535\u53F0",component:c.exports.lazy(()=>b(()=>import("./index-da5545ff.js"),["static/js/index-da5545ff.js","static/css/index-1be8b182.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-dfa84378.js","static/css/index-6409d9b6.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.radio}],collection:[{label:"\u4E13\u8F91",component:c.exports.lazy(()=>b(()=>import("./index-e59c311b.js"),["static/js/index-e59c311b.js","static/css/index-19b552b8.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-dfa84378.js","static/css/index-6409d9b6.css","static/js/index-8ea6093b.js","static/css/index-e45ef900.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.collection,exact:!0},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>b(()=>import("./index-d65cd044.js"),["static/js/index-d65cd044.js","static/css/index-77191418.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-dfa84378.js","static/css/index-6409d9b6.css","static/js/index-8ea6093b.js","static/css/index-e45ef900.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.collectionSinger},{label:"\u89C6\u9891",component:c.exports.lazy(()=>b(()=>import("./index-f93f5109.js"),["static/js/index-f93f5109.js","static/css/index-8ad9c84e.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-8ea6093b.js","static/css/index-e45ef900.css","static/js/index-91bd085b.js","static/css/index-76ebda23.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.collectionVideo},{label:"\u4E13\u680F",component:c.exports.lazy(()=>b(()=>import("./index-d6d84faf.js"),["static/js/index-d6d84faf.js","static/css/index-0ddc6bf5.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-8ea6093b.js","static/css/index-e45ef900.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.collectionColumn}],setting:[{label:"\u8BBE\u7F6E",component:c.exports.lazy(()=>b(()=>import("./index-eb5873c4.js"),["static/js/index-eb5873c4.js","static/css/index-bf4b0459.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"])),path:y.setting}]},$a=[{path:y.home,exact:!0,component:Ma,routes:[{path:y.fm,component:c.exports.lazy(()=>b(()=>import("./index-b102f955.js"),["static/js/index-b102f955.js","static/css/index-f1cc5e9d.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"]))},{path:A.list(),component:c.exports.lazy(()=>b(()=>import("./index-73f1417f.js"),["static/js/index-73f1417f.js","static/css/index-7ac0ab9b.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/react-redux-b7a88ea1.js","static/js/write-comment-67f86365.js","static/css/write-comment-245ec406.css","static/js/index-0395681b.js","static/js/react-router-dom-9de2c748.js"]))},{path:A.singer(),component:c.exports.lazy(()=>b(()=>import("./index-89c6a333.js"),["static/js/index-89c6a333.js","static/css/index-f67a68db.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-89f3ad0d.js","static/css/index-11494661.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"]))},{path:y.searchResult,component:c.exports.lazy(()=>b(()=>import("./index-e7896fa3.js"),["static/js/index-e7896fa3.js","static/css/index-0c6b5e41.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-6c4c2534.js","static/css/index-91bec25c.css","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"]))},{path:A.user(),component:c.exports.lazy(()=>b(()=>import("./index-bfceeb14.js"),["static/js/index-bfceeb14.js","static/css/index-c753a929.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-6c4c2534.js","static/css/index-91bec25c.css","static/js/index-89f3ad0d.js","static/css/index-11494661.css","static/js/index-50ca7dc7.js","static/css/index-69065f68.css","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"]))},{path:y.dailyRecommend,component:c.exports.lazy(()=>b(()=>import("./index-42c540d7.js"),["static/js/index-42c540d7.js","static/css/index-1e938c76.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-0395681b.js","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"]))},{path:A.findMusicNewest(),component:c.exports.lazy(()=>b(()=>import("./index-2a94aa0b.js"),["static/js/index-2a94aa0b.js","static/css/index-4765b247.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-0395681b.js","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"]))},{path:A.radioList(),component:c.exports.lazy(()=>b(()=>import("./index-8a3a4d1c.js"),["static/js/index-8a3a4d1c.js","static/css/index-b0d5c60f.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/index-47263c05.js","static/css/index-65a24dfc.css","static/js/react-redux-b7a88ea1.js","static/js/react-router-dom-9de2c748.js"]))},{path:A.excellentList(),component:c.exports.lazy(()=>b(()=>import("./index-7cfb2f8b.js"),["static/js/index-7cfb2f8b.js","static/css/index-50c1e96e.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-84ed5fbf.js","static/css/index-e010c0aa.css","static/js/react-redux-b7a88ea1.js","static/js/index-47263c05.js","static/css/index-65a24dfc.css","static/js/react-router-dom-9de2c748.js"]))},{path:A.radioZone(),component:c.exports.lazy(()=>b(()=>import("./index-355fa157.js"),["static/js/index-355fa157.js","static/css/index-dcf2003d.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-47263c05.js","static/css/index-65a24dfc.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"]))},{path:y.findMusicRadioHostPay,component:c.exports.lazy(()=>b(()=>import("./index-27e36185.js"),["static/js/index-27e36185.js","static/css/index-b7759ce6.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-47263c05.js","static/css/index-65a24dfc.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"]))},...Object.values(Ct).flat()]},{path:A.playVideo(),component:c.exports.lazy(()=>b(()=>import("./index-97ef49e0.js"),["static/js/index-97ef49e0.js","static/css/index-7240d91a.css","static/js/react-6ccb7aeb.js","static/js/vendor-d86b2c9c.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/write-comment-67f86365.js","static/css/write-comment-245ec406.css","static/js/react-router-dom-9de2c748.js","static/js/react-redux-b7a88ea1.js"]))}],za="_header_1mmlg_1",Va="_header__left_1mmlg_6",ja="_header__right_1mmlg_21";var st={header:za,header__left:Va,"header__left-icon":"_header__left-icon_1mmlg_17",header__right:ja,"header__right-menu":"_header__right-menu_1mmlg_29","--active":"_--active_1mmlg_35","header__right-wrapper":"_header__right-wrapper_1mmlg_53","header__right-icons":"_header__right-icons_1mmlg_57"};const qa="_input_bex9z_1",Ua="_input__icon_bex9z_35",Ha="_input__close_bex9z_46";var at={input:qa,"--normal":"_--normal_bex9z_19","--transparent":"_--transparent_bex9z_25",input__icon:Ua,input__close:Ha};const Ja=c.exports.forwardRef((l,r)=>{var i=l,{type:e="transparent",value:n="",setValue:s,onInput:a}=i,o=q(i,["type","value","setValue","onInput"]);const p=k("input",at),g=c.exports.useMemo(()=>!!n,[n]),d=f=>{s==null||s(f.currentTarget.value)};function m(){s==null||s("")}return t.createElement("div",{className:B(at[`--${e}`],p())},t.createElement("input",j(C({},o),{value:n,ref:r,type:"text",onInput:d})),t.createElement("div",{className:p("icon")},t.createElement(rn,null)),g&&t.createElement(we,{className:p("close"),onClick:m}))});var rt={"search-list":"_search-list_13cuv_1","--show":"_--show_13cuv_15"},Ga={"empty-suggestion__header":"_empty-suggestion__header_1a47l_1","empty-suggestion__header-delete":"_empty-suggestion__header-delete_1a47l_4","empty-suggestion__item":"_empty-suggestion__item_1a47l_17","empty-suggestion__item-top":"_empty-suggestion__item-top_1a47l_33","empty-suggestion__item-right":"_empty-suggestion__item-right_1a47l_54","empty-suggestion__item-bottom":"_empty-suggestion__item-bottom_1a47l_64","empty-suggestion__history":"_empty-suggestion__history_1a47l_78","empty-suggestion__history-item":"_empty-suggestion__history-item_1a47l_82","empty-suggestion__title":"_empty-suggestion__title_1a47l_110"};const Ya=({visible:e,setVisible:n})=>{const s=k("empty-suggestion",Ga),[a,o]=c.exports.useState([]),[r,l]=c.exports.useState([]),{push:i}=H(),p=T(),g=m=>{m.stopPropagation()};function d(m){p(yt(m)),n(!1);const f=Le.stringify({keywords:m});i(`${y.searchResult}?${f}`)}return c.exports.useEffect(()=>{if(!e)return;const m=localStorage.getItem("search-history");m&&l(R.parse(m)),(async()=>{const f=await Xn();o(f.data)})()},[e]),t.createElement(t.Fragment,null,r.length>0&&t.createElement("header",{className:s("header")},t.createElement("h2",null,"\u641C\u7D22\u5386\u53F2 ",t.createElement(Be,{className:s("header-delete")})),t.createElement("div",{className:s("history")},r.map((m,f)=>t.createElement("div",{key:f,className:s("history-item"),onClick:()=>d(m)},m,t.createElement(we,{onClick:g}))))),t.createElement("h3",{className:s("title")},"\u70ED\u641C\u699C"),a.map((m,f)=>t.createElement("div",{key:m.searchWord,className:s("item"),onClick:()=>d(m.searchWord)},t.createElement("p",null,f+1),t.createElement("div",{className:s("item-right")},t.createElement("div",{className:s("item-top")},t.createElement("strong",null,m.searchWord),m.iconUrl?t.createElement("mark",null,"HOT"):null,t.createElement("span",null,m.score)),m.content&&t.createElement("div",{className:s("item-bottom")},m.content)))))};var Ka={"keyword-suggestion":"_keyword-suggestion_1d2pk_1","keyword-suggestion__header":"_keyword-suggestion__header_1d2pk_4","keyword-suggestion__title":"_keyword-suggestion__title_1d2pk_15","keyword-suggestion__item":"_keyword-suggestion__item_1d2pk_23"};const Za=({setVisible:e})=>{var _;const n=k("keyword-suggestion",Ka),s=w(h=>h.controller.keywords),[a,o]=c.exports.useState({}),{push:r}=H(),l=T(),i={albums:{label:"\u4E13\u8F91",icon:Ae},artists:{label:"\u6B4C\u624B",icon:on},playlists:{label:"\u6B4C\u5355",icon:dt},songs:{label:"\u5355\u66F2",icon:oe}};function p(h,S){({artists:()=>r(A.singer(h)),songs:()=>l(Ce(h)),albums:()=>r(A.list(h,"album")),playlists:()=>r(A.list(h))})[S](),e(!1)}function g(){e(!1);const h=Le.stringify({keywords:s});r(`${y.searchResult}?${h}`)}function d(h){const S=i[h],N=a[h];return t.createElement("div",{key:S.label},t.createElement("div",{className:n("title")},t.createElement(S.icon,null),S.label),N==null?void 0:N.map(E=>m(E,h)))}function m(h,S){const E={albums:()=>{const F=h;return`${F.name} - ${F.artist.name}`},artists:()=>h.name,playlists:()=>h.name,songs:()=>{var z;const F=h;let P=F.transNames||((z=F.alias)==null?void 0:z.join(" "))||"";P=P?`\uFF08${P}\uFF09`:"";const M=F.artists.reduce((O,v)=>`${O} ${v.name}`,"").slice(1);return`${F.name} ${P}- ${M}`}}[S];return t.createElement("div",{key:h.id,className:n("item"),onClick:()=>p(h.id,S)},E())}async function f(){const h=await es(s);o(h.result)}return Dt(f,300,[s]),(_=a.order)!=null&&_.length?t.createElement("div",{className:n()},t.createElement("header",{className:n("header")},t.createElement("span",{onClick:g},"\u641C\u201C",t.createElement("strong",null,s),"\u201D\u76F8\u5173\u7684\u7ED3\u679C >")),a.order.map(d)):t.createElement(vt,{title:"\u6682\u65E0\u6570\u636E"})},Qa=({visible:e,setVisible:n,inputRef:s})=>{const a=k("search-list",rt),o=c.exports.useRef(null),r=w(l=>l.controller.keywords);return ot(o,l=>{l.target!==s&&n(!1)}),X.exports.createPortal(t.createElement("div",{ref:o,className:B(a(),{[rt["--show"]]:e})},e?r&&r.trim()?t.createElement(Za,{setVisible:n}):t.createElement(Ya,{visible:e,setVisible:n}):null),document.getElementById("drawer"))},Wa=()=>{const e=k("header",st),[n,s]=c.exports.useState(""),[a,o]=c.exports.useState([]),{pathname:r}=Se(),{go:l,push:i}=H(),[p,g]=c.exports.useState(!1),d=w(E=>E.controller.keywords),m=c.exports.useRef(null),f=T(),_=[{icon:un,event:()=>{i(y.setting)}},{icon:mn},{icon:_n},{icon:dn}],h=E=>{if(E.key==="Enter"&&d){g(!1);const F=Le.stringify({keywords:d});i(`${y.searchResult}?${F}`)}};function S(E){f(yt(E))}function N(E=!1){l(E?1:-1)}return c.exports.useEffect(()=>{if(!r)return;const E=r.match(/home\/([\w-\d]+)\b/);E!=null&&E[1]&&o(Ct[E[1]]||[]);let F=r.split("/");F.length>4&&(F=F.slice(0,4)),s(F.join("/"))},[r]),t.createElement("header",{className:e()},t.createElement("div",{"data-tauri-drag-region":!0,className:e("left")},t.createElement(ln,{className:e("left-icon"),onClick:()=>N()}),t.createElement(cn,{className:e("left-icon"),onClick:()=>N(!0)})),t.createElement("div",{"data-tauri-drag-region":!0,className:e("right")},t.createElement("ul",{className:e("right-menu")},r.includes("/home")&&a.map(E=>t.createElement("li",{key:E.path,className:B({[st["--active"]]:E.path===n})},t.createElement(Nt,{to:E.path,onClick:()=>s(E.path)},E.label)))),t.createElement("div",{className:e("right-wrapper")},t.createElement(Ja,{ref:m,type:"normal",placeholder:"\u641C\u7D22",value:d,setValue:S,onFocus:()=>g(!0),onKeyUp:h}),t.createElement("div",{className:e("right-icons")},_.map((E,F)=>t.createElement(E.icon,{key:F,onClick:E.event}))))),t.createElement(Qa,{visible:p,setVisible:g,inputRef:m.current}))},Xa=()=>t.createElement(pn,{store:Fe},t.createElement(wt,null,t.createElement(Wa,null),t.createElement(c.exports.Suspense,{fallback:t.createElement(pt,{className:ke("loading"),style:{position:"absolute"}})},t.createElement(lt,null,t.createElement(St,{from:y.root,to:y.findMusic,exact:!0}),$a.map(e=>t.createElement(ct,{key:e.path,path:e.path},t.createElement(e.component,C({},e))))))));X.exports.render(t.createElement(t.StrictMode,null,t.createElement(Xa,null)),document.getElementById("root"));export{Zr as $,Yr as A,Ks as B,_a as C,A as D,Cr as E,Un as F,Kr as G,Dr as H,Js as I,Sr as J,He as K,sa as L,or as M,ao as N,no as O,go as P,so as Q,uo as R,cs as S,La as T,mo as U,_o as V,va as W,hr as X,vr as Y,co as Z,b as _,ve as a,Qr as a0,oo as a1,lo as a2,Wr as a3,ro as a4,Xr as a5,y as a6,lr as a7,ir as a8,ur as a9,Ur as aA,qr as aB,Hr as aC,Vr as aD,mr as aa,_r as ab,dr as ac,fr as ad,Er as ae,gr as af,br as ag,cr as ah,yr as ai,Fr as aj,kr as ak,eo as al,wr as am,to as an,Nr as ao,xr as ap,Ar as aq,Br as ar,Lr as as,vt as at,Ja as au,io as av,Ir as aw,Or as ax,Tr as ay,Pr as az,de as b,k as c,Rr as d,Gr as e,pr as f,Yn as g,gt as h,ka as i,_s as j,ts as k,Jr as l,Kn as m,_e as n,he as o,zr as p,jr as q,K as r,ht as s,ce as t,Mr as u,Ce as v,Nn as w,wn as x,Oe as y,$r as z};
