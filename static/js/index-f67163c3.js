import{b as D,D as N,c as H,V as J,X as h}from"./index-5e562a9a.js";import{n as v,r as s,u as b,R as t}from"./react-6a93a4b0.js";import{I as j}from"./index-eb830d4b.js";import"./react-router-dom-6c750f63.js";import"./vendor-2d6f78b2.js";import"./lodash-44bc1aaf.js";import"./react-redux-0a51a65b.js";const P=()=>{const a=H("zone"),i=v(),n=s.exports.useMemo(()=>Number(i.type),[i.type]),[u,f]=s.exports.useState([]),[y,E]=s.exports.useReducer(x,[]),R=s.exports.useMemo(()=>{var e;return(e=u.find(o=>o.id===n))==null?void 0:e.name},[u,n]),l=s.exports.useRef(0),r=s.exports.useRef(null),m=20,{push:g}=b();async function d(){var c;const e=await J(n,l.current,m),o=l.current===0?"reset":"add";E({type:o,payload:e.djRadios}),l.current+=m,(c=r.current)==null||c.call(r,e.hasMore)}async function C(){const e=await h();f(e.categories)}function x(e,o){const{type:c,payload:p}=o;return c==="reset"?p:[...e,...p]}return s.exports.useEffect(()=>{C(),d()},[]),t.createElement("div",{className:a()},t.createElement("h2",{className:a("title")},R),t.createElement("section",{className:a("cards")},y.map(e=>t.createElement("div",{key:e.id,className:a("card")},t.createElement(D,{className:a("img"),src:e.picUrl,onClick:()=>g(N.radioList(e.id))}),t.createElement("div",{className:a("right")},t.createElement("h3",null,e.name),t.createElement("div",null,e.desc),t.createElement("small",null,"\u8282\u76EE:",e.programCount,"\uFF0C\u8BA2\u9605:",e.subCount))))),t.createElement(j,{ref:r,cb:d}))};export{P as default};
