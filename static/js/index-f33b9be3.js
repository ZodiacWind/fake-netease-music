import{r as n,u as v,g as o,j as r}from"./react-7f918845.js";import{k as D}from"./vendor-2e679db4.js";import{b as E,r as A,c as I,ak as L,D as R}from"./index-c208d301.js";import{c as j}from"./index-dcd7dfe0.js";import{I as w}from"./index-884062d4.js";import"./lodash-44bc1aaf.js";import"./react-router-dom-102d9908.js";import"./react-redux-8df6583b.js";const q=()=>{const t=I("music-singer"),[h,g]=n.exports.useReducer(x,[]),[c,C]=n.exports.useState([-1,-1,void 0]),i=n.exports.useRef(null),{push:k}=v(),m=n.exports.useRef(!1),p=20;let u=0;const N=[{label:"\u8BED\u79CD",list:j,key:"area"},{label:"\u5206\u7C7B",key:"type",list:[{name:"\u5168\u90E8",type:-1},{name:"\u7537\u6B4C\u624B",type:1},{name:"\u5973\u6B4C\u624B",type:2},{name:"\u4E50\u961F\u7EC4\u5408",type:3}]},{label:"\u7B5B\u9009",key:"initial",list:b()}];function b(){const e=[{name:"\u70ED\u95E8"}],s=65;for(let a=0;a<26;a++){const l=String.fromCharCode(s+a),d=String.fromCharCode(s+a+32);e.push({name:l,initial:d})}return e}function x(e,s){return s.type==="add"?[...e,...s.payload]:s.payload}function B(e,s){const a=[...c];a[e]=s,C(a)}async function y(){var f;const[e,s,a]=c,l=await L({area:e,type:s,initial:a,limit:p,offset:u}),d=u===0?"reset":"add";(f=i.current)==null||f.call(i,l.more),g({type:d,payload:l.artists}),u+=p}function S(e){k({pathname:R.singer(e.id),state:e.alias})}return n.exports.useEffect(()=>(m.current&&y(),()=>{m.current=!0}),[c]),o("div",{className:t(),children:[N.map((e,s)=>o("header",{className:t("header"),children:[o("div",{className:t("label"),children:[e.label,"\uFF1A"]}),r("div",{className:t("category"),children:e.list.map(a=>r("div",{className:t("category-item"),onClick:()=>B(s,a[e.key]),children:r("span",{className:D({["--active"]:a[e.key]===c[s]}),children:a.name})},a.name))})]},e.label)),r("div",{className:t("list"),children:h.map(e=>o("div",{className:t("item"),onClick:()=>S(e),children:[r(E,{className:t("img"),src:A(e.picUrl)}),r("div",{className:t("description"),children:e.name})]},e.id))}),r(w,{ref:i,cb:y})]})};export{q as default};
