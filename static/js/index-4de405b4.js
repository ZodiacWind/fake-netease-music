var vt=Object.defineProperty,Ct=Object.defineProperties;var bt=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var Pe=(e,n,s)=>n in e?vt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,C=(e,n)=>{for(var s in n||(n={}))Re.call(n,s)&&Pe(e,s,n[s]);if(se)for(var s of se(n))Me.call(n,s)&&Pe(e,s,n[s]);return e},z=(e,n)=>Ct(e,bt(n));var j=(e,n)=>{var s={};for(var a in e)Re.call(e,a)&&n.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&se)for(var a of se(e))n.indexOf(a)<0&&Me.call(e,a)&&(s[a]=e[a]);return s};import{R as t,r as c,a as X,u as H,g as De,h as rt,S as ot,j as lt,k as Ft}from"./react-8de69987.js";import{L as kt,H as Dt}from"./react-router-dom-0278a61d.js";import{h as ct,j as R,k as A,m as Se,n as Z,q as J,r as ee,t as St,C as we,u as oe,T as $e,v as wt,D as xt,F as Nt,w as At,N as Bt,S as it,H as xe,x as Lt,y as Ot,z as ut,A as It,B as Tt,E as Pt,R as Rt,G as Mt,I as $t,L as Vt,J as Ne,Q as zt,K as mt,M as jt,O as Ut,U as qt,V as Ht,W as Jt,X as Ae,Y as Gt,Z as Yt,$ as Kt,a0 as Zt,a1 as Qt,a2 as Wt,a3 as Xt,a4 as Ve,a5 as _t,a6 as en,a7 as tn,a8 as dt,a9 as nn,aa as Be,ab as sn,ac as an,ad as rn,ae as on,af as ln,ag as cn,ah as un}from"./vendor-a5ef6589.js";import{u as T,a as w,P as mn}from"./react-redux-3330aec9.js";import{a as _n,d as dn}from"./lodash-70433db2.js";const pn=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}};pn();const gn="modulepreload",ze={},En="",b=function(n,s){return!s||s.length===0?n():Promise.all(s.map(a=>{if(a=`${En}${a}`,a in ze)return;ze[a]=!0;const o=a.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${r}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":gn,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,g)=>{l.addEventListener("load",u),l.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>n())};const fn="_sidebar_yo7cu_1",hn="_sidebar__header_yo7cu_6",yn="_sidebar__main_yo7cu_23",vn="_sidebar__item_yo7cu_34",Cn="_sidebar__title_yo7cu_56";var je={sidebar:fn,sidebar__header:hn,sidebar__main:yn,"sidebar__main-content":"_sidebar__main-content_yo7cu_31",sidebar__item:vn,"--active":"_--active_yo7cu_43",sidebar__title:Cn,"sidebar__title-left":"_sidebar__title-left_yo7cu_65","sidebar__title-right":"_sidebar__title-right_yo7cu_70"};const bn="_scrollbar_11l6t_1",Fn="_scrollbar__content_11l6t_8";var kn={scrollbar:bn,scrollbar__content:Fn};const Le={set(e,n,s=864e5){const a=typeof n=="string"?n:R.stringify(n);return localStorage.setItem(e,a),localStorage.setItem(`${e}__expires__`,Date.now()+s+""),n},get(e){const n=Date.now(),s=localStorage.getItem(`${e}__expires__`)||n+1;if(n>=s){this.remove(e);return}return localStorage.getItem(e)},remove(e){localStorage.removeItem(e),localStorage.removeItem(`${e}__expires__`)}};function U(e,n){return e.then(s=>[null,s]).catch(s=>(n&&Object.assign(s,n),[s,void 0]))}const Dn=e=>e?e<1e4?""+e:Math.floor(e/1e4)+"\u4E07":0,Sn=()=>{},fe=e=>ct(e).format("mm:ss"),K=(e,n=200,s)=>`${e}?param=${n}y${s||n}`,wn=e=>{const{id:n,name:s,duration:a,album:o,artists:r}=e;return{id:n,name:s,dt:a,al:o,ar:r}},ar=e=>{const{id:n,name:s,duration:a,album:o,artists:r}=e;return{id:n,name:s,dt:a,al:o,ar:r}};function k(e,n){return function(s){const a=e+(s?"__"+s:"");return n?n[a]:a}}const Oe=t.forwardRef(({children:e,className:n},s)=>{const a=k("scrollbar",kn);return t.createElement("div",{ref:s,className:A(a(),n)},t.createElement("div",{className:a("content")},e))}),xn="_login_guh86_1",Nn="_login__mask_guh86_16",An="_login__img_guh86_24",Bn="_login__form_guh86_28",Ln="_login__btn_guh86_51",On="_login__register_guh86_65";var In={login:xn,login__mask:Nn,login__img:An,login__form:Bn,"login__form-item":"_login__form-item_guh86_37",login__btn:Ln,login__register:On},Tn="static/svg/login-5a53f576.svg";const le=(e="\u63A5\u53E3\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E")=>(Z.error(e),Promise.reject()),Pn="http://47.100.62.108:4000/",he=[],Rn=()=>{he.forEach(e=>{e()}),he.length=0},Mn=e=>{const n={400:"\u8BF7\u6C42\u9519\u8BEF(400)",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)",403:"\u62D2\u7EDD\u8BBF\u95EE(403)",404:"\u8BF7\u6C42\u51FA\u9519(404)",408:"\u8BF7\u6C42\u8D85\u65F6(408)",500:"\u670D\u52A1\u5668\u9519\u8BEF(500)",501:"\u670D\u52A1\u672A\u5B9E\u73B0(501)",502:"\u7F51\u7EDC\u9519\u8BEF(502)",503:"\u670D\u52A1\u4E0D\u53EF\u7528(503)",504:"\u7F51\u7EDC\u8D85\u65F6(504)",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)",0:`\u8FDE\u63A5\u51FA\u9519(${e})!`};return`${n[e]||n[0]}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},de=Se.create({baseURL:Pn,timeout:1e4,headers:{"Content-Type":"application/json"},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=R.parse(e)),e)]});de.interceptors.request.use(e=>{e.cancelToken=new Se.CancelToken(s=>{he.push(s)});const n=Le.get("userInfo");if(n){const s=R.parse(n);e.url=e.url+"?cookie="+s.cookie}return e},le);de.interceptors.response.use(async e=>{const n=e.status;return n<200||n>=300?le(Mn(n)):e.data.code===200?e.data:le(e.data.message)},e=>Se.isCancel(e)?new Promise(Sn):le());const m=(e,n,s)=>de.get(e,z(C({},s),{params:n})),$n=(e,n,s)=>de.post(e,n,s),Vn=e=>$n("/login/cellphone",e),zn=e=>m("/user/playlist",{uid:e}),rr=()=>m("/banner"),or=()=>m("/dj/banner"),lr=e=>m("/personalized",e),cr=e=>m("/personalized/privatecontent/list",e),ir=()=>m("/personalized/mv"),ur=()=>m("/album/newest"),mr=(e=6)=>m("/dj/toplist",{limit:e}),jn=e=>m("/song/url",{id:e}),Un=e=>m("/lyric",{id:e}),qn=()=>m("/personal_fm"),Hn=(e,n=0)=>m("/comment/music",{id:e,offset:n}),_r=(e,n=0)=>m("/comment/playlist",{id:e,offset:n}),dr=()=>m("/playlist/hot"),pr=()=>m("/playlist/catlist"),gr=({offset:e,limit:n,cat:s})=>m("/top/playlist",{cat:s,offset:e,limit:n}),Er=()=>m("/dj/catelist"),fr=(e=5)=>m("/dj/personalize/recommend",{limit:e}),hr=(e=0,n=4)=>m("/dj/paygift",{offset:e,limit:n}),yr=e=>m("/user/audio",{uid:e}),vr=e=>m("/dj/recommend/type",{type:e}),Cr=()=>m("/toplist"),Jn=e=>m("/playlist/detail",{id:e}),br=e=>m("/artist/list",e),Fr=e=>m("/top/song",{type:e}),kr=e=>m("/top/album",e),Dr=()=>m("/video/category/list"),Sr=(e,n=0)=>m("/video/group",{id:e,offset:n}),wr=(e,n=6)=>m("/mv/first",{area:e,limit:n}),xr=(e=6)=>m("/mv/all",{limit:e}),Nr=(e=6)=>m("/mv/exclusive/rcmd",{limit:e}),Ar=(e,n=10)=>m("/top/mv",{area:e,limit:n}),Br=()=>m("/dj/sublist"),Lr=()=>m("/album/sublist"),Or=()=>m("/artist/sublist"),Ir=()=>m("/mv/sublist"),Gn=e=>m("/simi/playlist",{id:e}),Yn=e=>m("/simi/song",{id:e}),Kn=e=>m("/song/detail",{ids:e}),Zn=()=>m("/search/hot/detail"),Tr=({id:e,offset:n,limit:s=20})=>m("/playlist/subscribers",{id:e,offset:n,limit:s}),Qn=e=>m("/search/suggest",{keywords:e}),Pr=e=>m("/search",e),Rr=e=>m("/search/multimatch",{keywords:e}),Mr=e=>m("/artist/detail",{id:e}),$r=e=>m("/artist/top/song",{id:e}),Vr=e=>m("/artist/album",{id:e}),zr=e=>m("/artist/desc",{id:e}),Wn=e=>m("/album",{id:e}),jr=e=>m("/artist/mv",{id:e}),Ur=e=>m("/simi/artist",{id:e}),qr=e=>m("/album/detail/dynamic",{id:e}),Hr=(e,n=0)=>m("/comment/album",{id:e,offset:n}),Jr=e=>m("/user/detail",{uid:e}),Gr=()=>m("/recommend/songs"),Yr=(e,n=0)=>m("/comment/video",{id:e,offset:n}),Kr=e=>m("/video/detail",{id:e}),Zr=e=>m("/video/url",{id:e}),Qr=e=>m("/related/allvideo",{id:e}),Wr=()=>m("/video/group/list"),Xr=(e=0)=>m("/video/timeline/all",{offset:e}),eo=e=>m("/dj/detail",{rid:e}),to=e=>m("/dj/program",{rid:e}),no=(e,n)=>m("/dj/subscriber",{id:e,time:n}),Xn=e=>m("/comment/dj",{id:e}),so=e=>m("/mv/url",{id:e}),ao=e=>m("/mv/detail",{mvid:e}),ro=e=>m("/mv/detail/info",{mvid:e}),oo=(e,n=0)=>m("/comment/mv",{id:e,offset:n}),lo=(e,n)=>m("/user/cloud",{offset:e,limit:n}),co=()=>m("/playlist/highquality/tags"),io=(e,n=1,s)=>m("/top/playlist/highquality",{cat:e,limit:n,before:s}),uo=(e,n,s)=>m("/dj/radio/hot",{cateId:e,offset:n,limit:s});var pt="static/svg/avatar-86c9b0fc.svg";const gt=e=>"userInfo"+e?`/${e}`:"",ce=J(gt("set"),async({phone:e,password:n},{rejectWithValue:s})=>{const[a,o]=await U(Vn({phone:e,password:n}));if(a||!o)return s(null);const u=o,{code:r}=u,l=j(u,["code"]);return r===200?l:s(null)}),{reducer:es,actions:ts}=ee({name:gt(),initialState:{cookie:"",profile:{avatarUrl:pt,nickname:"\u672A\u767B\u5F55",userId:0,description:""}},reducers:{setUserInfoFromCache(e,n){return C(C({},e),n.payload)}},extraReducers(e){e.addCase(ce.fulfilled,(n,s)=>C(C({},n),s.payload)),e.addCase(ce.rejected,n=>(Z.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),n))}}),{setUserInfoFromCache:ns}=ts,Et=e=>"userPlaylist"+e?`/${e}`:"",ss={playlist:[]},ie=J(Et("set"),async(e,{rejectWithValue:n})=>{const[s,a]=await U(zn(e));if(s||!a)return n(null);const l=a,{code:o}=l,r=j(l,["code"]);return o===200?r:n(null)}),{reducer:as}=ee({name:Et(),initialState:ss,reducers:{},extraReducers(e){e.addCase(ie.fulfilled,(n,s)=>C(C({},n),s.payload)),e.addCase(ie.rejected,n=>(Z.error("\u83B7\u53D6\u6B4C\u5355\u5217\u8868\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),n))}});var Y=(e=>(e[e.IN_TURN=0]="IN_TURN",e[e.LOOP=1]="LOOP",e[e.SOLO=2]="SOLO",e[e.RANDOM=3]="RANDOM",e))(Y||{}),rs=(e=>(e[e.SONG=1]="SONG",e[e.SINGER=100]="SINGER",e[e.ALBUM=10]="ALBUM",e[e.VIDEO=1014]="VIDEO",e[e.PLAYLIST=1e3]="PLAYLIST",e[e.LYRIC=1006]="LYRIC",e[e.RADIO=1009]="RADIO",e[e.USER=1002]="USER",e))(rs||{});const te=e=>`currentTrack/${e}`,Ue=localStorage.getItem("currentTrack"),os=Ue?R.parse(Ue):{current:-1,tracks:[],fm:[],autoPlay:!0},ue=J(te("setSong"),async(e,{rejectWithValue:n})=>{const[s,a]=await U(jn(e));if(s||!a)return n(null);const{code:o,data:r}=a;return o===200?r.length===0||!r[0].url?(Z.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<"),n(null)):r[0]:n(null)}),ye=J(te("setFM"),async(e,{rejectWithValue:n})=>{const[s,a]=await U(qn());if(s||!a)return n(null);const{code:o,data:r}=a;return o===200&&r.length?{init:e,data:r}:n(null)}),me=J(te("nextFM"),async(e,{getState:n,dispatch:s,rejectWithValue:a})=>{const o=n(),{currentTrack:r}=o,{fm:l,current:u}=r,g=C({},r),p=l.length;if(p===u+1){const[_]=await U(s(ye(!1)));if(_)return a(null)}return g.current++,g.current%=p,g}),ve=J(te("insertSong"),async(e,{rejectWithValue:n,dispatch:s})=>{const[a,o]=await U(Promise.all([Kn(e),s(ue(e))]));return a||!(o!=null&&o[0])?n(null):o[0]}),qe=J(te("fetchAndSetCurrentTrack"),async(e,{rejectWithValue:n,dispatch:s})=>{let a,o;typeof e=="number"?a=e:(a=e.id,o=e.isAlbum);let r;if(o){const[l,u]=await U(Wn(a));if(l||!u)return n(null);r=u.songs}else{const[l,u]=await U(Jn(a));if(l||!u)return n(null);r=u.playlist.tracks}s(is({current:0,tracks:r,fm:[]}))}),{reducer:ls,actions:cs}=ee({name:"currentTrack",initialState:os,reducers:{setAutoPlay(e,n){const s=C({},e);return s.autoPlay=n.payload,s},setCurrentTrack(e,n){const u=e,{cacheCurrent:s}=u,a=j(u,["cacheCurrent"]),{current:o,tracks:r,fm:l}=n.payload;return l.length=0,z(C({},a),{current:o,tracks:r,fm:l,autoPlay:!0})},changeSong(e,n){const{tracks:s,current:a}=e,o=p=>Math.floor((p-1)*Math.random()),r=[],l=p=>{const{mode:_,next:d}=n.payload,E=s.length;let i;return _===Y.RANDOM?i=o(E):(i=d?p+1:p-1,i<0&&(i+=E),i%=E),r.includes(i)||r.push(i),s[i].disable&&r.length<s.length&&(i=l(i)),i},u=l(a),g=C({},e);return g.current=u,g.autoPlay=!0,g},changeCurrent(e,n){const s=C({},e);return s.current=n.payload,s.autoPlay=!0,s}},extraReducers(e){const n=s=>s;e.addCase(ue.fulfilled,(s,a)=>z(C({},s),{song:a.payload})),e.addCase(ue.rejected,s=>C({},s)),e.addCase(ye.fulfilled,(s,a)=>{const o=C({},s),{init:r,data:l}=a.payload;return o.fm=l,r&&(o.cacheCurrent=o.current),o.current=0,o.autoPlay=!0,o}),e.addCase(ye.rejected,n),e.addCase(me.fulfilled,s=>{const a=C({},s);return a.current++,a}),e.addCase(me.rejected,n),e.addCase(ve.fulfilled,(s,a)=>{const o=C({},s);o.fm=[],o.tracks=[...o.tracks];let r=!1;return a.payload.songs.forEach(l=>{o.tracks.find(u=>l.id===u.id)||(o.tracks.push(l),r=!0)}),r&&(o.current=o.tracks.length-1),o.autoPlay=!0,o}),e.addCase(ve.rejected,n),e.addCase(qe.fulfilled,s=>{const a=C({},s);return a.autoPlay=!0,a}),e.addCase(qe.rejected,n)}}),{setCurrentTrack:is,changeSong:He,changeCurrent:us}=cs,Je=localStorage.getItem("controller"),ms=Je?R.parse(Je):{playMode:Y.IN_TURN,pause:!0,currentTime:0,showDetail:!1,keywords:""},{reducer:_s,actions:ds}=ee({name:"controller",initialState:ms,reducers:{setPlayMode(e,n){const s=C({},e);return s.playMode=n.payload,s},setPause(e,n){const s=C({},e);return s.pause=n.payload,s},setCurrentTime(e,n){const s=C({},e);return s.currentTime=n.payload,s},setShowDetail(e,n){const s=C({},e);return s.showDetail=n.payload,s},setKeywords(e,n){const s=C({},e);return s.keywords=n.payload,s},setController(e,n){return C(C({},e),n.payload)}}}),{setPlayMode:ps,setPause:ft,setCurrentTime:Ce,setShowDetail:Ie,setKeywords:ht,setController:mo}=ds,Ge=localStorage.getItem("currentTrack"),gs=Ge?R.parse(Ge):{},{reducer:Es,actions:fs}=ee({name:"djDetail",initialState:gs,reducers:{setDJDetail(e,n){return n.payload}}}),{setDJDetail:_o}=fs,be=St({reducer:{user:es,userPlaylist:as,currentTrack:ls,controller:_s,djDetail:Es}}),hs=({setShowLogin:e})=>{const n=k("login",In),s=document.getElementById("portal"),[a,o]=c.exports.useState(""),[r,l]=c.exports.useState(""),u=T(),g=_=>{_.stopPropagation(),e(!1)},p=async _=>{if(_.preventDefault(),!a||!r)return;const d=await u(ce({phone:a,password:r}));if(ce.fulfilled.match(d)){Le.set("userInfo",d.payload);const{userId:E}=d.payload.profile;u(ie(E)),e(!1),Z.success("\u767B\u5F55\u6210\u529F\uFF5E")}};return X.exports.createPortal(t.createElement("div",{className:n("mask")},t.createElement("form",{className:n()},t.createElement(we,{onClick:g}),t.createElement("img",{className:n("img"),src:Tn,alt:"login"}),t.createElement("div",{className:n("form")},t.createElement("div",{className:n("form-item")},t.createElement("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",value:a,onChange:_=>o(_.target.value)})),t.createElement("div",{className:n("form-item")},t.createElement("input",{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",value:r,onChange:_=>l(_.target.value)}))),t.createElement("button",{type:"submit",className:n("btn"),onClick:p},"\u767B\u5F55"))),s)},ys=()=>{const e=k("sidebar",je),[n,s]=c.exports.useState(),{push:a}=H(),{pathname:o}=De(),[r,l]=c.exports.useState(!1),{profile:u,cookie:g}=w(y=>y.user),p=w(y=>y.userPlaylist.playlist),_=T(),d=[{menus:[{name:"\u53D1\u73B0\u97F3\u4E50",icon:oe,path:f.findMusic},{name:"\u79C1\u4EBAFM",icon:$e,path:f.fm},{name:"\u89C6\u9891",icon:wt,path:f.video,loginShow:!0},{name:"\u670B\u53CB",icon:$e,path:f.friend}]},{title:"\u6211\u7684\u97F3\u4E50",menus:[{name:"iTunes\u97F3\u4E50",icon:oe,path:f.iTunes},{name:"\u4E0B\u8F7D\u7BA1\u7406",icon:xt,path:f.download},{name:"\u6700\u8FD1\u64AD\u653E",icon:Nt,path:f.recent},{name:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",icon:At,path:f.cloudMusic,loginShow:!0},{name:"\u6211\u7684\u7535\u53F0",icon:Bt,path:f.radio,loginShow:!0},{name:"\u6211\u7684\u6536\u85CF",icon:it,path:f.collection,loginShow:!0}]},{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[{name:"\u6211\u559C\u6B22\u7684\u97F3\u4E50",icon:xe,path:N.list("")}]}],[E,i]=c.exports.useReducer(S,d),F=({menu:y,index:D})=>{const x=P(n,D);return t.createElement("div",{key:y.path,className:A(e("item"),{[je["--active"]]:x}),onClick:()=>v({menu:y,index:D})},t.createElement(y.icon,null),t.createElement("a",null,y.name))};function S(y,D){return[...y.slice(0,2),...D]}function v({menu:y,index:D}){s(D),a(y.path)}function h(){l(!0)}function L(){const y=Le.get("userInfo");if(!y)return;const D=R.parse(y);_(ns(D));const{userId:x}=D.profile;_(ie(x))}function $(){for(let y=0,D=E.length;y<D;y++){const{menus:x}=E[y];for(let O=0,Q=x.length;O<Q;O++){const W=x[O];if(o.includes(W.path))return[y,O]}}}function P(y,D){if(!y||!D||y.length!==y.length)return!1;for(let x=0,O=y.length;x<O;x++)if(y[x]!==D[x])return!1;return!0}function q(y,D){if(!!y.title)return t.createElement("div",{className:e("title")},D<2?y.title:t.createElement(t.Fragment,null,t.createElement("div",{className:e("title-left")},t.createElement(Ot,null),t.createElement("strong",null,y.title)),y.title==="\u521B\u5EFA\u7684\u6B4C\u5355"&&t.createElement(ut,{className:e("title-right")})))}function I(){g?a({pathname:N.user(u.userId),state:!0}):l(!0)}return c.exports.useEffect(()=>{(async()=>{const y=$();s(y)})()},[o]),c.exports.useEffect(()=>{L()},[]),c.exports.useEffect(()=>{const y=[{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[]},{title:"\u6536\u85CF\u7684\u6B4C\u5355",menus:[]}];!p||p.length===0||(p.forEach(D=>{const{name:x,id:O,userId:Q}=D,W=N.list(O),ne={name:x,path:W,icon:oe},pe=Q===u.userId?0:1;y[pe].menus.push(ne)}),i(y))},[p]),t.createElement("aside",{className:e()},t.createElement("header",{className:e("header")},t.createElement("img",{src:K(u.avatarUrl,100),alt:"icon",onClick:I}),t.createElement("strong",{onClick:h},u.nickname),t.createElement(Lt,{onClick:h})),t.createElement(Oe,{className:e("main")},E.map((y,D)=>t.createElement("div",{key:D},q(y,D),y.menus.map((x,O)=>g||!x.loginShow?t.createElement(F,{key:O,menu:x,index:[D,O]}):null)))),r&&t.createElement(hs,{setShowLogin:l}))},vs="_footer_oumu4_1",Cs="_footer__left_oumu4_30",bs="_footer__right_oumu4_58",Fs="_footer__lyric_oumu4_62",ks="_footer__mid_oumu4_72",Ds="_footer__volume_oumu4_103";var M={footer:vs,"footer__progress-bar":"_footer__progress-bar_oumu4_14",footer__left:Cs,"footer__left-name":"_footer__left-name_oumu4_42",footer__right:bs,footer__lyric:Fs,"--active":"_--active_oumu4_69",footer__mid:ks,"--big":"_--big_oumu4_87","--medium":"_--medium_oumu4_90","--red":"_--red_oumu4_93","--disable":"_--disable_oumu4_96",footer__volume:Ds};const Ss=(e,n)=>{const s=w(l=>l.controller.pause),a=T(),o=c.exports.useMemo(()=>s?It:Tt,[s]);function r(l){!n||a(ft(l))}return c.exports.useEffect(()=>{!(e!=null&&e.current)||(s?e.current.pause():e.current.play())},[s]),{PlayIcon:o,pause:s,handlePause:r}},ws=(e,n,s)=>{const a=w(u=>u.controller.currentTime),o=T();return{currentTime:a,handleTimeUpdate:()=>{!(e!=null&&e.current)||o(Ce(e.current.currentTime*1e3))},handleProgressClick:u=>{if(!(n!=null&&n.current)||!(e!=null&&e.current)||!s)return;const{pageX:g}=u,{left:p,width:_}=n.current.getBoundingClientRect(),d=(g-p)/_*s/1e3;e.current.currentTime=d,o(Ce(d))}}},xs=()=>{const e=w(r=>r.controller.playMode),n=T(),s=[{key:"inTurn",tip:"\u987A\u5E8F\u64AD\u653E",icon:Pt},{key:"loop",tip:"\u5FAA\u73AF\u64AD\u653E",icon:Rt},{key:"solo",tip:"\u5355\u66F2\u5FAA\u73AF",icon:Mt},{key:"random",tip:"\u968F\u673A\u64AD\u653E",icon:$t}],a=c.exports.useMemo(()=>s[e],[e]);return{playMode:e,handleIconClick:()=>{const r=e===3?0:e+1;n(ps(r))},currentPlayMode:a}},Ns=()=>{const e=c.exports.useRef(null),[n,s]=c.exports.useState(!1);return{listButtonRef:e,showList:n,setShowList:s}},As=()=>{const[e,n]=c.exports.useState(!1);return{lyricActive:e,setLyricActive:n}},Bs=e=>{const[n,s]=c.exports.useState(100);return{volume:n,setVolume:s,handleVolumeChange:r=>{s(r.currentTarget.volume*100)},handleSliderChange:r=>{!(e!=null&&e.current)||(e.current.volume=r/100)}}},Ls="_fold_7eol0_1";var Ye={"music-detail":"_music-detail_7eol0_1",fold:Ls,"music-detail__shim":"_music-detail__shim_7eol0_14","--show":"_--show_7eol0_31","music-detail__player":"_music-detail__player_7eol0_34","music-detail__info":"_music-detail__info_7eol0_41","music-detail__comment":"_music-detail__comment_7eol0_46"};const Os="_cover_j60n2_1",Is="_cover__inner_j60n2_11",Ts="_rotate_j60n2_1";var Ke={cover:Os,cover__inner:Is,"--animate":"_--animate_j60n2_17",rotate:Ts};const Ps="_img_pj7a2_1",Rs="_img__play_pj7a2_11",Ms="_img__loading_pj7a2_31",$s="_img__count_pj7a2_39";var ae={img:Ps,img__play:Rs,"--center":"_--center_pj7a2_18","--bottom":"_--bottom_pj7a2_23","--show":"_--show_pj7a2_28",img__loading:Ms,img__count:$s};const Vs="_icon_fxwxv_1",zs="_icon__play_fxwxv_11",js="_icon__pause_fxwxv_19";var Ze={icon:Vs,icon__play:zs,icon__pause:js,"--small":"_--small_fxwxv_23","--medium":"_--medium_fxwxv_28","--big":"_--big_fxwxv_33","--large":"_--large_fxwxv_38","--giant":"_--giant_fxwxv_43"};const Us=e=>{const n=k("icon",Ze),l=e,{type:s="play",size:a,className:o}=l,r=j(l,["type","size","className"]);return t.createElement("span",C({className:A(Ze[`--${a}`],o,n()),tabIndex:-1},r),s==="play"?t.createElement("span",{className:n("play")}):t.createElement("span",{className:n("pause")},"| |"))},_e=({alt:e="",banLoading:n=!1,style:s,className:a,src:o,icon:r=!1,count:l,onClick:u,onIconClick:g})=>{const p=k("img",ae),_=c.exports.useRef(null),[d,E]=c.exports.useState(!1),[i,F]=c.exports.useState(!0),[S,v]=c.exports.useState(!1),h=c.exports.useMemo(()=>{const P={size:"small",placement:"center",hoverDisplay:!1};return r===!1?!1:r===!0?P:C(C({},P),r)},[r]),L=new IntersectionObserver(P=>{P.forEach(q=>{var I;q.isIntersecting&&_&&((I=_.current)==null?void 0:I.style)&&E(!0)})});function $(){F(!1)}return c.exports.useEffect(()=>{if(!!_.current)return L.observe(_.current),()=>{!_.current||(L.unobserve(_.current),L.disconnect())}},[]),t.createElement("div",{ref:_,className:A(p(),a),style:s},d&&t.createElement("img",{src:o,alt:e,onLoad:$,onMouseMove:()=>v(!0),onMouseLeave:()=>v(!1),onClick:u}),!n&&i&&t.createElement(Vt,{className:p("loading")}),!i&&h&&t.createElement(Us,{size:h.size,className:A(p("play"),ae[`--${h.size}`],ae[`--${h.placement}`],{[ae["--show"]]:!h.hoverDisplay||S}),onMouseMove:()=>v(!0),onClick:g}),l&&t.createElement("div",{className:p("count")},t.createElement(Ne,null),l))},qs=({img:e,pause:n})=>{const s=k("cover",Ke);return t.createElement(t.Fragment,null,t.createElement("div",{className:s()},t.createElement(_e,{className:A(s("inner"),{[Ke["--animate"]]:!n}),src:K(e,300)})))};var Hs={"button-group":"_button-group_ervze_1","button-group__item":"_button-group__item_ervze_6"};const Js=({data:e})=>{const n=k("button-group",Hs);return t.createElement("ul",{className:n()},e.map((s,a)=>t.createElement("li",{key:a,className:n("item"),onClick:s.event},t.createElement(s.icon,null))))},Gs="_lyric_19q8r_1",Ys="_lyric__quality_19q8r_19",Ks="_lyric__info_19q8r_30",Zs="_lyric__wrapper_19q8r_46",Qs="_lyric__question_19q8r_69",Ws="_lyric__anchor_19q8r_81",Xs="_lyric__container_19q8r_84";var Qe={lyric:Gs,"lyric__music-name":"_lyric__music-name_19q8r_12",lyric__quality:Ys,lyric__info:Ks,lyric__wrapper:Zs,"--selected":"_--selected_19q8r_65",lyric__question:Qs,lyric__anchor:Ws,lyric__container:Xs};const ea=({music:e})=>{const n=k("lyric",Qe),[s,a]=c.exports.useState([]),o=w(d=>d.controller.currentTime),r=c.exports.useRef(null),[l,u]=c.exports.useState(0),{push:g}=H();function p(d){return[]}function _(){var S,v;if(!(r!=null&&r.current))return;const d=s.length;if(l===d-1)return;const E=r.current;let i=0;for(let h=l;h<d;h++)if(!!((v=(S=s[h])==null?void 0:S.timestamp)!=null&&v[0])&&o<=s[h].timestamp[0]){u(h-1),i=h-1;break}const F=44*i*window.innerWidth/1e3;i!==l&&E.scrollTo({top:F,behavior:"smooth"})}return c.exports.useEffect(()=>{var d;!(e!=null&&e.id)||((d=r.current)==null||d.scrollTo({top:0}),u(0),Un(e.id).then(E=>{const{lrc:i,nolyric:F}=E;a(F?[]:p(i.lyric))}))},[e==null?void 0:e.id]),c.exports.useEffect(()=>{s.length&&_()},[o,s]),t.createElement("div",{className:n()},t.createElement("h2",null,t.createElement("span",{className:n("music-name")},e==null?void 0:e.name),t.createElement("span",{className:n("quality")},"\u6807\u51C6\u97F3\u8D28")),t.createElement("div",{className:n("info")},t.createElement("p",null,t.createElement("span",null,"\u4E13\u8F91\uFF1A"),t.createElement("a",{onClick:()=>g(N.list(e.album.id,"album"))},e==null?void 0:e.album.name)),t.createElement("p",null,t.createElement("span",null,"\u6B4C\u624B\uFF1A"),e==null?void 0:e.artists.map(d=>t.createElement("a",{className:n("anchor"),key:d.name,onClick:()=>g(N.singer(d.id))},d.name)))),t.createElement("div",{className:n("container")},s.length>0?t.createElement(Oe,{ref:r,className:n("wrapper")},s.map((d,E)=>t.createElement("p",{key:E,className:A({[Qe["--selected"]]:E===l})},d.value))):t.createElement("span",null,"\u7EAF\u97F3\u4E50\uFF0C\u8BF7\u60A8\u6B23\u8D4F")),t.createElement(zt,{className:n("question")}))},ta="_comments_1stot_1",na="_comments__left_1stot_9",sa="_comments__img_1stot_12",aa="_comments__right_1stot_18",ra="_comments__info_1stot_34",oa="_comments__icons_1stot_39",la="_comments__icon_1stot_39";var We={comments:ta,comments__left:na,comments__img:sa,comments__right:aa,"--mentioned":"_--mentioned_1stot_21",comments__info:ra,comments__icons:oa,comments__icon:la};const Xe=({comment:e})=>{var r;const n=k("comments",We),{push:s}=H(),a=[{icon:mt,value:e.likedCount},{icon:jt},{icon:Ut}];function o(){s(N.user(e.user.userId))}return t.createElement("div",{className:n()},t.createElement("div",{className:n("left")},t.createElement(_e,{className:n("img"),src:K((e==null?void 0:e.user.avatarUrl)||pt,30),onClick:o})),t.createElement("div",{className:n("right")},t.createElement("p",null,t.createElement("a",{onClick:o},e.user.nickname,"\uFF1A"),e.content),((r=e.beReplied)==null?void 0:r.length)>0&&t.createElement("p",{className:We["--mentioned"]},e.beReplied.map(l=>t.createElement("span",{key:l.beRepliedCommentId},t.createElement("a",{onClick:()=>s(N.user(l.user.userId))},"@",l.user.nickname,"\uFF1A"),l.content))),t.createElement("div",{className:n("info")},t.createElement("span",null,ct(e.time).format("YYYY\u5E74M\u6708D\u65E5 HH:mm")),t.createElement("div",{className:n("icons")},a.map((l,u)=>t.createElement("div",{key:u,className:n("icon")},t.createElement(l.icon,null),l.value&&l.value>0?t.createElement("strong",null,l.value):null))))))};var ca={"comment-group__title":"_comment-group__title_1v435_1","comment-group__footer":"_comment-group__footer_1v435_5","comment-group__empty":"_comment-group__empty_1v435_11"};const ia=({id:e,children:n,api:s})=>{const a=k("comment-group",ca),[o,r]=c.exports.useState([]),[l,u]=c.exports.useState([]),[g,p]=c.exports.useState(0),[_,d]=c.exports.useState(1);async function E(i,F=1,S=20){if(!i)return;const v=(F-1)*S,h=await s(i,v);r(h.comments),h.hotComments&&u(h.hotComments),p(h.total)}return c.exports.useEffect(()=>{e&&E(e)},[e]),t.createElement("div",{className:a()},g>0?t.createElement(t.Fragment,null,n,l.length>0&&t.createElement(t.Fragment,null,t.createElement("h2",{className:a("title")},"\u7CBE\u5F69\u8BC4\u8BBA"),l.map(i=>t.createElement(Xe,{key:i.commentId,comment:i}))),o.length>0&&t.createElement(t.Fragment,null,t.createElement("h2",{className:a("title")},"\u6700\u65B0\u8BC4\u8BBA\uFF08",g,"\uFF09"),o.map(i=>t.createElement(Xe,{key:i.commentId,comment:i}))),g>20&&t.createElement("footer",{className:a("footer")},t.createElement(qt,{total:g,showSizeChanger:!1,current:_,onChange:(i,F)=>{d(i),E(e,i,F)}}))):t.createElement("div",{className:a("empty")},"\u8FD8\u6CA1\u6709\u8BC4\u8BBA\uFF0C\u5FEB\u6765\u62A2\u6C99\u53D1\uFF5E"))},ua="_recommend_1byjg_1",ma="_recommend__title_1byjg_5",_a="_recommend__item_1byjg_12",da="_recommend__img_1byjg_29";var pa={recommend:ua,recommend__title:ma,recommend__item:_a,"recommend__item-info":"_recommend__item-info_1byjg_20",recommend__img:da};const ga=({id:e})=>{const n=k("recommend",pa),[s,a]=c.exports.useState([]),[o,r]=c.exports.useState([]);return c.exports.useEffect(()=>{(async()=>{const l=await Gn(e);a(l.playlists)})(),(async()=>{const l=await Yn(e);r(l.songs)})()},[e]),t.createElement("div",{className:n()},t.createElement("h2",{className:n("title")},"\u5305\u542B\u8FD9\u9996\u6B4C\u7684\u6B4C\u5355"),s.map(l=>t.createElement("div",{key:l.id,className:n("item")},t.createElement(_e,{className:n("img"),src:K(l.coverImgUrl,100)}),t.createElement("div",{className:n("item-info")},t.createElement("div",null,l.name),t.createElement("div",null,Dn(l.playCount))))),t.createElement("h2",{className:n("title")},"\u76F8\u4F3C\u6B4C\u66F2"),o.map(l=>t.createElement("div",{key:l.id,className:n("item")},t.createElement(_e,{className:n("img"),src:K(l.album.picUrl,100),icon:!0}),t.createElement("div",{className:n("item-info")},t.createElement("div",null,l.name),t.createElement("div",null,l.artists.reduce((u,g)=>`${u} ${g.name}`,"").slice(1))))))};var Ea={"write-comment__title":"_write-comment__title_16b6h_1","write-comment__input":"_write-comment__input_16b6h_5"};const fa=()=>{const e=k("write-comment",Ea);return t.createElement(t.Fragment,null,t.createElement("div",{className:e("title")},t.createElement("strong",null,"\u542C\u53CB\u8BC4\u8BBA"),t.createElement("span",null,"\uFF08\u5DF2\u6709187\u6761\u8BC4\u8BBA\uFF09")),t.createElement("div",{className:e("input")},t.createElement("span",null,t.createElement(Ht,null),t.createElement("span",{style:{marginLeft:"5px"}},"\u53D1\u8868\u8BC4\u8BBA")),t.createElement("p",null,"@")))},ha="_button_1iyu2_1",ya="_button__left_1iyu2_10",va="_button__right_1iyu2_24";var re={button:ha,button__left:ya,button__right:va,"--compose":"_--compose_1iyu2_34","--normal":"_--normal_1iyu2_41"};const Ca=e=>{const n=k("button",re),u=e,{compose:s,children:a,className:o}=u,r=j(u,["compose","children","className"]),l=t.createElement(t.Fragment,null,t.createElement("div",{className:n("left")},t.createElement(Ne,null),"\u64AD\u653E\u5168\u90E8"),t.createElement("div",{className:n("right")},t.createElement(ut,null)));return t.createElement("button",C({className:A(re.button,s?re["--compose"]:re["--normal"],o)},r),s?l:a)};var ba={"radio-detail":"_radio-detail_11477_1","radio-detail__name":"_radio-detail__name_11477_8","radio-detail__detail":"_radio-detail__detail_11477_20","radio-detail__item":"_radio-detail__item_11477_25","radio-detail__tag":"_radio-detail__tag_11477_38","radio-detail__tag-wrapper":"_radio-detail__tag-wrapper_11477_49"};const Fa=({music:e})=>{var a;const n=k("radio-detail",ba),s=w(o=>o.djDetail);return t.createElement("div",{className:n()},t.createElement("h2",null,e.name),t.createElement("div",{className:n("name")},t.createElement("strong",null,s==null?void 0:s.name),t.createElement(Ca,null,t.createElement(it,null)," \u8BA2\u9605(",s.subCount,")")),t.createElement("div",{className:n("detail")},t.createElement("div",{className:n("item")},t.createElement("label",null,"\u4E3B\u64AD:"),t.createElement("a",null,(a=s.dj)==null?void 0:a.nickname)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u6765\u6E90:"),t.createElement("a",null,s.original)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u521B\u5EFA\u65F6\u95F4:"),t.createElement("span",null,s.createTime)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u5DF2\u64AD\u653E:"),t.createElement("span",null,s.playCount,"\u6B21"))),t.createElement("div",{className:n("tag-wrapper")},t.createElement("span",{className:n("tag")},s.category),s.desc))},ka=({visible:e})=>{const n=k("music-detail",Ye),s=w(g=>g.controller.pause),a=T(),o=w(g=>{var p;return!((p=g.currentTrack.song)!=null&&p.flag)}),r=w(g=>{const{current:p,tracks:_,fm:d}=g.currentTrack;if(!(p<0||d.length>0)&&_[p])return u(_[p])}),l=[{icon:xe},{icon:Ae},{icon:Gt},{icon:Yt}];function u(g){const{name:p,id:_,dt:d,al:E,ar:i}=g;return{id:_,name:p,duration:d,album:E,artists:i}}return X.exports.createPortal(t.createElement(t.Fragment,null,e&&r&&t.createElement("div",{className:n("shim")},t.createElement(Jt,{onClick:()=>a(Ie(!1))})),r&&t.createElement("div",{className:A(n(),{[Ye["--show"]]:e})},t.createElement("section",{className:n("player")},t.createElement("div",null,t.createElement(qs,{img:r.album.picUrl,pause:s}),t.createElement(Js,{data:l})),o?t.createElement(Fa,{music:r}):t.createElement(ea,{music:r})),t.createElement("div",{className:n("info")},t.createElement(ia,{id:r==null?void 0:r.id,api:o?Xn:Hn},t.createElement(fa,null)),!o&&t.createElement(ga,{id:r==null?void 0:r.id})))),document.getElementById("music-detail"))};var et={"music-list":"_music-list_1vua8_1","--show":"_--show_1vua8_15","music-list__header":"_music-list__header_1vua8_18","music-list__subtitle":"_music-list__subtitle_1vua8_28","music-list__subtitle-right":"_music-list__subtitle-right_1vua8_33","music-list__subtitle-all":"_music-list__subtitle-all_1vua8_38","music-list__subtitle-clear":"_music-list__subtitle-clear_1vua8_44","music-list__total":"_music-list__total_1vua8_52"};const Da="_table_1ltg6_1",Sa="_table__cell_1ltg6_29";var Ee={table:Da,"--active":"_--active_1ltg6_20","--disable":"_--disable_1ltg6_23",table__cell:Sa},wa="static/svg/no-music-ed6bb8c2.svg",xa={"no-data":"_no-data_2e6x3_1","no-data__wrapper":"_no-data__wrapper_2e6x3_7"};const Na=({title:e,subTitle:n})=>{const s=k("no-data",xa);return t.createElement("div",{className:s("wrapper")},t.createElement("div",{className:s()},t.createElement("img",{src:wa,alt:"no-music"}),e&&t.createElement("h3",null,e),n&&t.createElement("div",null,n)))},Aa=({columns:e,data:n,disableColumn:s="disable",noHead:a=!1,selectedRow:o,onDoubleClick:r})=>{const l=k("table",Ee),[u,g]=c.exports.useState(-1);function p(_){if(!!r){if(n[_][s]){Z.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<");return}r(_)}}return c.exports.useEffect(()=>{o!==void 0&&g(o)},[o]),t.createElement(t.Fragment,null,t.createElement("table",{className:l()},t.createElement("colgroup",null),!a&&t.createElement("thead",null,t.createElement("tr",null,e.map((_,d)=>t.createElement("th",{key:d},t.createElement("div",{className:l("cell")},_.title))))),t.createElement("tbody",null,n.length>0?n.map((_,d)=>t.createElement("tr",{key:d,className:A({[Ee["--active"]]:u===d,[Ee["--disable"]]:_[s]}),onDoubleClick:()=>p(d)},e.map((E,i)=>{let F;return E.render?F=E.render(_):E.key&&(F=_n(_,E.key),E.format&&(F=E.format(F))),t.createElement("td",{key:i},t.createElement("div",{className:l("cell")},F))}))):null)),n.length>0?null:t.createElement(Na,{subTitle:"\u6682\u65E0\u6570\u636E"}))},Ba=({visible:e,setVisible:n,target:s})=>{const a=k("music-list",et),o=T(),r=w(p=>p.currentTrack),l=c.exports.useRef(null),u=[{title:"\u97F3\u4E50\u6807\u9898",key:"name"},{title:"\u6B4C\u624B",render(p){return p.ar.map(_=>t.createElement("span",{key:_.id},_.name))}},{title:"\u94FE\u63A5\u5230",key:""},{title:"\u65F6\u957F",key:"dt",format:fe}];function g(p){o(us(p))}return rt(l,p=>{p.target!==(s==null?void 0:s.querySelector("svg"))&&n(!1)}),X.exports.createPortal(t.createElement("div",{ref:l,className:A(a(),{[et["--show"]]:e})},t.createElement("header",{className:a("header")},t.createElement("h2",null,"\u5F53\u524D\u64AD\u653E"),t.createElement("div",{className:a("subtitle")},t.createElement("div",{className:a("total")},"\u603B",r.tracks.length,"\u9996"),t.createElement("div",{className:a("subtitle-right")},t.createElement("span",{className:a("subtitle-all")},t.createElement(Kt,null),"\u6536\u85CF\u5168\u90E8"),t.createElement("span",{className:a("subtitle-clear")},"\u6E05\u7A7A\u5217\u8868")))),t.createElement("section",{className:a("subtitle-table")},t.createElement(Aa,{noHead:!0,selectedRow:r.current,data:r.tracks,columns:u,onDoubleClick:g}))),document.getElementById("drawer"))},La=()=>{const e=k("footer",M),n=c.exports.useRef(null),s=c.exports.useRef(null),a=T(),{push:o}=H(),r=w(B=>B.controller.showDetail),l=w(B=>B.currentTrack.autoPlay||!1),{listButtonRef:u,showList:g,setShowList:p}=Ns(),_=w(B=>B.currentTrack.fm.length),{lyricActive:d,setLyricActive:E}=As(),i=w(B=>{const{current:V,tracks:ge,fm:Te}=B.currentTrack;if(!(V<0)){if(!_)return ge[V];if(Te[V])return wn(Te[V])}}),F=w(B=>{const{current:V,tracks:ge}=B.currentTrack;return V+1===ge.length}),S=w(B=>B.currentTrack.song),{PlayIcon:v,pause:h,handlePause:L}=Ss(n,i),{currentTime:$,handleTimeUpdate:P,handleProgressClick:q}=ws(n,s,i==null?void 0:i.dt),{playMode:I,handleIconClick:y,currentPlayMode:D}=xs(),{volume:x,handleSliderChange:O,handleVolumeChange:Q}=Bs(n);function W(){if(_){a(me());return}!i||I!==Y.SOLO&&(I===Y.IN_TURN&&F?a(Ce(0)):a(He({mode:I,next:!0})))}function ne(B){if(!_&&i){a(He({mode:I,next:B}));return}B&&a(me())}function pe(){_&&o(f.fm),a(Ie(!r))}return c.exports.useEffect(()=>{i!=null&&i.id&&a(ue(i.id))},[i==null?void 0:i.id]),t.createElement("footer",{className:e()},(i==null?void 0:i.dt)&&t.createElement("progress",{ref:s,className:e("progress-bar"),value:$,max:i.dt,onClick:q}),t.createElement("div",{className:e("left")},i&&S&&t.createElement(t.Fragment,null,t.createElement("audio",{ref:n,src:S.url,controls:!0,autoPlay:l,loop:I===Y.SOLO,onTimeUpdate:P,onPlay:()=>L(!1),onPause:()=>L(!0),onEnded:W,onVolumeChange:Q}),t.createElement("img",{src:K(i.al.picUrl,100),alt:"music",onClick:pe}),t.createElement("div",{className:e("left-name")},t.createElement("div",null,i.name," -"," ",i.ar.reduce((B,V)=>`${B}/${V.name}`,"").slice(1)),t.createElement("div",null,fe($)," / ",fe(i.dt))))),t.createElement("div",{className:e("mid")},_?t.createElement(xe,null):t.createElement(mt,null),t.createElement(Zt,{className:A(M["--medium"],M["--red"],{[M["--disable"]]:_}),onClick:()=>ne(!1)}),t.createElement(v,{className:A(M["--big"],M["--red"]),onClick:()=>L(!h)}),t.createElement(Qt,{className:A(M["--medium"],M["--red"]),onClick:()=>ne(!0)}),_?t.createElement(Ae,null):t.createElement(Wt,null)),t.createElement("div",{className:e("right")},!_&&t.createElement(Xt,null),t.createElement(Ve,{title:D.tip},t.createElement(D.icon,{onClick:y})),!_&&i&&t.createElement(_t,{ref:u,onClick:()=>p(!g)}),t.createElement("span",{className:A(e("lyric"),{[M["--active"]]:d}),onClick:()=>E(!d)},"\u8BCD"),i&&t.createElement(Ve,{title:()=>t.createElement("div",{className:e("volume")},t.createElement(en,{vertical:!0,value:x,onChange:O}))},t.createElement(tn,null))),t.createElement(ka,{visible:r}),t.createElement(Ba,{visible:g,setVisible:p,target:u.current}))};var Oa="static/svg/not-found-4a7109ca.svg",Ia={"not-found":"_not-found_r5k7l_1"};const Ta=()=>{const e=k("not-found",Ia);return t.createElement("div",{className:e()},t.createElement("img",{src:Oa,alt:"404"}))},Fe=k("main"),Pa=({routes:e})=>{const{pathname:n}=De(),s=T();function a(){const l=be.getState(),{cacheCurrent:u,current:g}=l.currentTrack;let p=g;u!==void 0&&(p=u),localStorage.setItem("djDetail",R.stringify(C({},l.djDetail))),localStorage.setItem("currentTrack",R.stringify(z(C({},l.currentTrack),{current:p,autoPlay:!1,fm:[]}))),localStorage.setItem("controller",R.stringify(z(C({},l.controller),{pause:!0})))}function o(l,u){if(l.code==="Space"){const g=document.activeElement;(!g||g===document.body)&&(l.stopPropagation(),l.preventDefault(),u==null||u())}}function r(l){o(l,()=>{const u=be.getState();s(ft(!u.controller.pause))})}return c.exports.useEffect(()=>{s(Ie(!1)),Rn()},[n]),c.exports.useEffect(()=>(window.addEventListener("beforeunload",a),document.addEventListener("keyup",r),document.addEventListener("keydown",o),()=>{window.removeEventListener("beforeunload",a),document.removeEventListener("keyup",r),document.removeEventListener("keydown",o)}),[]),t.createElement(t.Fragment,null,t.createElement("section",{className:"container"},t.createElement(ys,null),t.createElement(Oe,{className:Fe()},t.createElement(c.exports.Suspense,{fallback:t.createElement(dt,{className:Fe("loading"),style:{position:"absolute"}})},t.createElement(ot,null,e&&e.map(l=>{const p=l,{component:u}=p,g=j(p,["component"]);return t.createElement(lt,z(C({key:l.path},g),{render:_=>t.createElement(u,{key:_.match.url})}))}),t.createElement(Ta,null))))),t.createElement(La,null))};var f=(e=>(e.root="/",e.home="/home",e.fm="/home/fm",e.searchResult="/home/search-result",e.dailyRecommend="/home/daily-recommend",e.findMusic="/home/find-music",e.findMusicMusicList="/home/find-music/music-list",e.findMusicRadioHost="/home/find-music/radio-host",e.findMusicRadioHostPay="/home/find-music/radio-host/pay",e.findMusicRank="/home/find-music/rank",e.findMusicSinger="/home/find-music/singer",e.findMusicNewest="/home/find-music/newest",e.video="/home/video",e.videoMV="/home/video/mv",e.friend="/home/friend",e.iTunes="/home/i-tunes",e.download="/home/download",e.downloadProgram="/home/download/program",e.downloadPendding="/home/download/pendding",e.recent="/home/recent",e.cloudMusic="/home/cloud-music",e.radio="/home/radio",e.collection="/home/collection",e.collectionSinger="/home/collection/singer",e.collectionVideo="/home/collection/video",e.collectionColumn="/home/collection/column",e.setting="/home/setting",e))(f||{});const ke=e=>e?`/${e}`:"",G=(e,n,s="id")=>{const a=`/${e}`;return n===void 0?`${a}/:${s}?`:a+ke(n)},tt=(e,n,s)=>n===void 0?`/${e}/:id?/:type?`:`/${e}${ke(n)}${ke(s)}`,N={list:(e,n)=>tt("home/list",e,n),singer:e=>G("home/singer",e),user:e=>G("home/user",e),findMusicNewest:e=>G("home/find-music/newest",e,"type"),playVideo:e=>G("play-video",e),radioList:(e,n)=>tt("home/radio-list",e,n),excellentList:e=>G("home/find-music/music-list/excellent",e),radioZone:e=>G("home/find-music/radio-host/zone",e,"type")},yt={"find-music":[{label:"\u4E2A\u6027\u63A8\u8350",component:c.exports.lazy(()=>b(()=>import("./index-f8b8c3a2.js"),["static/js/index-f8b8c3a2.js","static/css/index-e82747ee.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-ca18470b.js","static/css/index-2692bf2f.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:f.findMusic,exact:!0},{label:"\u6B4C\u5355",component:c.exports.lazy(()=>b(()=>import("./index-01d00662.js"),["static/js/index-01d00662.js","static/css/index-ed8dc3ba.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-f7eaed53.js","static/css/index-e010c0aa.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:f.findMusicMusicList,exact:!0},{label:"\u4E3B\u64AD\u7535\u53F0",component:c.exports.lazy(()=>b(()=>import("./index-489c3db4.js"),["static/js/index-489c3db4.js","static/css/index-d2541e3d.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-ca18470b.js","static/css/index-2692bf2f.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:f.findMusicRadioHost,exact:!0},{label:"\u6392\u884C\u699C",component:c.exports.lazy(()=>b(()=>import("./index-4d4621a7.js"),["static/js/index-4d4621a7.js","static/css/index-89bc3d52.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:f.findMusicRank},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>b(()=>import("./index-88de2629.js"),["static/js/index-88de2629.js","static/css/index-11f2a020.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-a839f1b4.js","static/js/index-3b7fc9d8.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.findMusicSinger},{label:"\u6700\u65B0\u97F3\u4E50",component:c.exports.lazy(()=>b(()=>import("./index-587ad0d1.js"),["static/js/index-587ad0d1.js","static/css/index-4765b247.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-a839f1b4.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:f.findMusicNewest}],video:[{label:"\u89C6\u9891",component:c.exports.lazy(()=>b(()=>import("./index-0c2aeab8.js"),["static/js/index-0c2aeab8.js","static/css/index-48ca44ee.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-30ea311e.js","static/css/index-1fde7e75.css","static/js/index-0b04169c.js","static/css/index-76ebda23.css","static/js/index-f7eaed53.js","static/css/index-e010c0aa.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.video,exact:!0},{label:"MV",component:c.exports.lazy(()=>b(()=>import("./index-021911d4.js"),["static/js/index-021911d4.js","static/css/index-db88c1c7.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-30ea311e.js","static/css/index-1fde7e75.css","static/js/index-a839f1b4.js","static/js/index-0b04169c.js","static/css/index-76ebda23.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.videoMV}],friend:[{label:"\u52A8\u6001",component:c.exports.lazy(()=>b(()=>import("./index-45cffa42.js"),["static/js/index-45cffa42.js","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.friend}],"i-tunes":[{label:"iTunes\u97F3\u4E50",component:c.exports.lazy(()=>b(()=>import("./index-ac287e96.js"),["static/js/index-ac287e96.js","static/css/index-63268595.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.iTunes}],download:[{label:"\u5DF2\u4E0B\u8F7D\u5355\u66F2",component:c.exports.lazy(()=>b(()=>import("./index-aa3ee089.js"),["static/js/index-aa3ee089.js","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-13ef7192.js","static/css/index-01c1781a.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.download,exact:!0},{label:"\u5DF2\u4E0B\u8F7D\u8282\u76EE",component:c.exports.lazy(()=>b(()=>import("./index-4d410a3a.js"),["static/js/index-4d410a3a.js","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-13ef7192.js","static/css/index-01c1781a.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.downloadProgram},{label:"\u6B63\u5728\u4E0B\u8F7D",component:c.exports.lazy(()=>b(()=>import("./index-1f675b40.js"),["static/js/index-1f675b40.js","static/css/index-1b65357d.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.downloadPendding}],recent:[{label:"\u6700\u8FD1\u64AD\u653E",component:c.exports.lazy(()=>b(()=>import("./index-1e34a313.js"),["static/js/index-1e34a313.js","static/css/index-985a0294.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.recent}],"cloud-music":[{label:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",component:c.exports.lazy(()=>b(()=>import("./index-2fa3c639.js"),["static/js/index-2fa3c639.js","static/css/index-09e80a50.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-a839f1b4.js","static/js/index-3b7fc9d8.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.cloudMusic}],radio:[{label:"\u6211\u7684\u7535\u53F0",component:c.exports.lazy(()=>b(()=>import("./index-2e1e991e.js"),["static/js/index-2e1e991e.js","static/css/index-1be8b182.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-4d9a8751.js","static/css/index-6409d9b6.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.radio}],collection:[{label:"\u4E13\u8F91",component:c.exports.lazy(()=>b(()=>import("./index-5e98c9a5.js"),["static/js/index-5e98c9a5.js","static/css/index-19b552b8.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-4d9a8751.js","static/css/index-6409d9b6.css","static/js/index-d21acc6d.js","static/css/index-e45ef900.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.collection,exact:!0},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>b(()=>import("./index-e35f05d8.js"),["static/js/index-e35f05d8.js","static/css/index-77191418.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-4d9a8751.js","static/css/index-6409d9b6.css","static/js/index-d21acc6d.js","static/css/index-e45ef900.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.collectionSinger},{label:"\u89C6\u9891",component:c.exports.lazy(()=>b(()=>import("./index-bc44e458.js"),["static/js/index-bc44e458.js","static/css/index-8ad9c84e.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-d21acc6d.js","static/css/index-e45ef900.css","static/js/index-0b04169c.js","static/css/index-76ebda23.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.collectionVideo},{label:"\u4E13\u680F",component:c.exports.lazy(()=>b(()=>import("./index-3e3a70e8.js"),["static/js/index-3e3a70e8.js","static/css/index-0ddc6bf5.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-d21acc6d.js","static/css/index-e45ef900.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.collectionColumn}],setting:[{label:"\u8BBE\u7F6E",component:c.exports.lazy(()=>b(()=>import("./index-d70cfbd7.js"),["static/js/index-d70cfbd7.js","static/css/index-bf4b0459.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:f.setting}]},Ra=[{path:f.home,exact:!0,component:Pa,routes:[{path:f.fm,component:c.exports.lazy(()=>b(()=>import("./index-db9501cd.js"),["static/js/index-db9501cd.js","static/css/index-f1cc5e9d.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:N.list(),component:c.exports.lazy(()=>b(()=>import("./index-356814fa.js"),["static/js/index-356814fa.js","static/css/index-7ac0ab9b.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/react-redux-3330aec9.js","static/js/write-comment-74082c18.js","static/css/write-comment-245ec406.css","static/js/index-a839f1b4.js","static/js/react-router-dom-0278a61d.js"]))},{path:N.singer(),component:c.exports.lazy(()=>b(()=>import("./index-b84aa22c.js"),["static/js/index-b84aa22c.js","static/css/index-f67a68db.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-8c7523dc.js","static/css/index-11494661.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"]))},{path:f.searchResult,component:c.exports.lazy(()=>b(()=>import("./index-f6169f5b.js"),["static/js/index-f6169f5b.js","static/css/index-0c6b5e41.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-20809775.js","static/css/index-91bec25c.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:N.user(),component:c.exports.lazy(()=>b(()=>import("./index-f766916e.js"),["static/js/index-f766916e.js","static/css/index-c753a929.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-20809775.js","static/css/index-91bec25c.css","static/js/index-8c7523dc.js","static/css/index-11494661.css","static/js/index-c2a6de00.js","static/css/index-69065f68.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:f.dailyRecommend,component:c.exports.lazy(()=>b(()=>import("./index-a4fd70bf.js"),["static/js/index-a4fd70bf.js","static/css/index-1e938c76.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-a839f1b4.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:N.findMusicNewest(),component:c.exports.lazy(()=>b(()=>import("./index-587ad0d1.js"),["static/js/index-587ad0d1.js","static/css/index-4765b247.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-a839f1b4.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:N.radioList(),component:c.exports.lazy(()=>b(()=>import("./index-a3d7c8eb.js"),["static/js/index-a3d7c8eb.js","static/css/index-b0d5c60f.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/index-3b7fc9d8.js","static/css/index-65a24dfc.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:N.excellentList(),component:c.exports.lazy(()=>b(()=>import("./index-1460ab5a.js"),["static/js/index-1460ab5a.js","static/css/index-50c1e96e.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-f7eaed53.js","static/css/index-e010c0aa.css","static/js/react-redux-3330aec9.js","static/js/index-3b7fc9d8.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js"]))},{path:N.radioZone(),component:c.exports.lazy(()=>b(()=>import("./index-6ffc0eb2.js"),["static/js/index-6ffc0eb2.js","static/css/index-dcf2003d.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-3b7fc9d8.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"]))},{path:f.findMusicRadioHostPay,component:c.exports.lazy(()=>b(()=>import("./index-1144cf23.js"),["static/js/index-1144cf23.js","static/css/index-b7759ce6.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-3b7fc9d8.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"]))},...Object.values(yt).flat()]},{path:N.playVideo(),component:c.exports.lazy(()=>b(()=>import("./index-1823f876.js"),["static/js/index-1823f876.js","static/css/index-7240d91a.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/write-comment-74082c18.js","static/css/write-comment-245ec406.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"]))}],Ma="_header_1mmlg_1",$a="_header__left_1mmlg_6",Va="_header__right_1mmlg_21";var nt={header:Ma,header__left:$a,"header__left-icon":"_header__left-icon_1mmlg_17",header__right:Va,"header__right-menu":"_header__right-menu_1mmlg_29","--active":"_--active_1mmlg_35","header__right-wrapper":"_header__right-wrapper_1mmlg_53","header__right-icons":"_header__right-icons_1mmlg_57"};const za="_input_bex9z_1",ja="_input__icon_bex9z_35",Ua="_input__close_bex9z_46";var st={input:za,"--normal":"_--normal_bex9z_19","--transparent":"_--transparent_bex9z_25",input__icon:ja,input__close:Ua};const qa=c.exports.forwardRef((r,o)=>{var l=r,{type:e="transparent",defaultValue:n="",onInput:s}=l,a=j(l,["type","defaultValue","onInput"]);const u=k("input",st),[g,p]=c.exports.useState(n),_=c.exports.useMemo(()=>!!g,[g]),d=i=>{p(i.currentTarget.value),s==null||s(i)};function E(){p("")}return t.createElement("div",{className:A(st[`--${e}`],u())},t.createElement("input",z(C({},a),{value:g,ref:o,type:"text",onInput:d})),t.createElement("div",{className:u("icon")},t.createElement(nn,null)),_&&t.createElement(we,{className:u("close"),onClick:E}))});var at={"search-list":"_search-list_4orp2_1","--show":"_--show_4orp2_15"},Ha={"empty-suggestion__header":"_empty-suggestion__header_1a47l_1","empty-suggestion__header-delete":"_empty-suggestion__header-delete_1a47l_4","empty-suggestion__item":"_empty-suggestion__item_1a47l_17","empty-suggestion__item-top":"_empty-suggestion__item-top_1a47l_33","empty-suggestion__item-right":"_empty-suggestion__item-right_1a47l_54","empty-suggestion__item-bottom":"_empty-suggestion__item-bottom_1a47l_64","empty-suggestion__history":"_empty-suggestion__history_1a47l_78","empty-suggestion__history-item":"_empty-suggestion__history-item_1a47l_82","empty-suggestion__title":"_empty-suggestion__title_1a47l_110"};const Ja=({visible:e,setVisible:n})=>{const s=k("empty-suggestion",Ha),[a,o]=c.exports.useState([]),[r,l]=c.exports.useState([]),{push:u}=H(),g=T(),p=d=>{d.stopPropagation()};function _(d){g(ht(d)),n(!1);const E=Be.stringify({keywords:d});u(`${f.searchResult}?${E}`)}return c.exports.useEffect(()=>{if(!e)return;const d=localStorage.getItem("search-history");d&&l(R.parse(d)),(async()=>{const E=await Zn();o(E.data)})()},[e]),t.createElement(t.Fragment,null,r.length>0&&t.createElement("header",{className:s("header")},t.createElement("h2",null,"\u641C\u7D22\u5386\u53F2 ",t.createElement(Ae,{className:s("header-delete")})),t.createElement("div",{className:s("history")},r.map((d,E)=>t.createElement("div",{key:E,className:s("history-item"),onClick:()=>_(d)},d,t.createElement(we,{onClick:p}))))),t.createElement("h3",{className:s("title")},"\u70ED\u641C\u699C"),a.map((d,E)=>t.createElement("div",{key:d.searchWord,className:s("item"),onClick:()=>_(d.searchWord)},t.createElement("p",null,E+1),t.createElement("div",{className:s("item-right")},t.createElement("div",{className:s("item-top")},t.createElement("strong",null,d.searchWord),d.iconUrl?t.createElement("mark",null,"HOT"):null,t.createElement("span",null,d.score)),d.content&&t.createElement("div",{className:s("item-bottom")},d.content)))))};var Ga={"keyword-suggestion":"_keyword-suggestion_1d2pk_1","keyword-suggestion__header":"_keyword-suggestion__header_1d2pk_4","keyword-suggestion__title":"_keyword-suggestion__title_1d2pk_15","keyword-suggestion__item":"_keyword-suggestion__item_1d2pk_23"};const Ya=({setVisible:e})=>{var E;const n=k("keyword-suggestion",Ga),s=w(i=>i.controller.keywords),[a,o]=c.exports.useState({}),{push:r}=H(),l=T(),u={albums:{label:"\u4E13\u8F91",icon:Ne},artists:{label:"\u6B4C\u624B",icon:sn},playlists:{label:"\u6B4C\u5355",icon:_t},songs:{label:"\u5355\u66F2",icon:oe}};function g(i,F){({artists:()=>r(N.singer(i)),songs:()=>l(ve(i)),albums:()=>r(N.list(i,"album")),playlists:()=>r(N.list(i))})[F](),e(!1)}function p(){e(!1);const i=Be.stringify({keywords:s});r(`${f.searchResult}?${i}`)}function _(i){const F=u[i],S=a[i];return t.createElement(t.Fragment,null,t.createElement("div",{key:F.label,className:n("title")},t.createElement(F.icon,null),F.label),S==null?void 0:S.map(v=>d(v,i)))}function d(i,F){const v={albums:()=>{const h=i;return`${h.name} - ${h.artist.name}`},artists:()=>i.name,playlists:()=>i.name,songs:()=>{var P;const h=i;let L=h.transNames||((P=h.alias)==null?void 0:P.join(" "))||"";L=L?`\uFF08${L}\uFF09`:"";const $=h.artists.reduce((q,I)=>`${q} ${I.name}`,"").slice(1);return`${h.name} ${L}- ${$}`}}[F];return t.createElement("div",{key:i.id,className:n("item"),onClick:()=>g(i.id,F)},v())}return c.exports.useEffect(dn(()=>{(async()=>{const i=await Qn(s);o(i.result)})()},500),[s]),(E=a.order)!=null&&E.length?t.createElement("div",{className:n()},t.createElement("header",{className:n("header")},t.createElement("span",{onClick:p},"\u641C\u201C",t.createElement("strong",null,s),"\u201D\u76F8\u5173\u7684\u7ED3\u679C >")),a.order.map(_)):null},Ka=({visible:e,setVisible:n,inputRef:s})=>{const a=k("search-list",at),o=c.exports.useRef(null),r=w(l=>l.controller.keywords);return rt(o,l=>{l.target!==s&&n(!1)}),X.exports.createPortal(t.createElement("div",{ref:o,className:A(a(),{[at["--show"]]:e})},r&&r.trim()?t.createElement(Ya,{setVisible:n}):t.createElement(Ja,{visible:e,setVisible:n})),document.getElementById("drawer"))},Za=()=>{const e=k("header",nt),[n,s]=c.exports.useState(""),[a,o]=c.exports.useState([]),{pathname:r}=De(),{go:l,push:u}=H(),[g,p]=c.exports.useState(!1),_=w(v=>v.controller.keywords),d=c.exports.useRef(null),E=T(),i=[{icon:on,event:()=>{u(f.setting)}},{icon:ln},{icon:cn},{icon:un}],F=v=>{if(v.key==="Enter"&&_){p(!1);const h=Be.stringify({keywords:_});u(`${f.searchResult}?${h}`)}};c.exports.useEffect(()=>{if(!r)return;const v=r.match(/home\/([\w-\d]+)\b/);v!=null&&v[1]&&o(yt[v[1]]||[]);let h=r.split("/");h.length>4&&(h=h.slice(0,4)),s(h.join("/"))},[r]);function S(v=!1){l(v?1:-1)}return t.createElement("header",{className:e()},t.createElement("div",{className:e("left")},t.createElement(an,{className:e("left-icon"),onClick:()=>S()}),t.createElement(rn,{className:e("left-icon"),onClick:()=>S(!0)})),t.createElement("div",{className:e("right")},t.createElement("ul",{className:e("right-menu")},r.includes("/home")&&a.map(v=>t.createElement("li",{key:v.path,className:A({[nt["--active"]]:v.path===n})},t.createElement(kt,{to:v.path,onClick:()=>s(v.path)},v.label)))),t.createElement("div",{className:e("right-wrapper")},t.createElement(qa,{ref:d,type:"normal",placeholder:"\u641C\u7D22",defaultValue:_,onInput:v=>E(ht(v.currentTarget.value)),onFocus:()=>p(!0),onKeyUp:F}),t.createElement("div",{className:e("right-icons")},i.map((v,h)=>t.createElement(v.icon,{key:h,onClick:v.event}))))),t.createElement(Ka,{visible:g,setVisible:p,inputRef:d.current}))},Qa=()=>t.createElement(mn,{store:be},t.createElement(Dt,null,t.createElement(Za,null),t.createElement(c.exports.Suspense,{fallback:t.createElement(dt,{className:Fe("loading"),style:{position:"absolute"}})},t.createElement(ot,null,t.createElement(Ft,{from:f.root,to:f.findMusic,exact:!0}),Ra.map(e=>t.createElement(lt,{key:e.path,path:e.path},t.createElement(e.component,C({},e))))))));X.exports.render(t.createElement(t.StrictMode,null,t.createElement(Qa,null)),document.getElementById("root"));export{Kr as $,yr as A,Js as B,ia as C,N as D,zn as E,Gr as F,Fr as G,kr as H,Us as I,qe as J,ar as K,ea as L,no as M,eo as N,_o as O,to as P,co as Q,io as R,rs as S,Aa as T,uo as U,Er as V,fa as W,hr as X,oo as Y,Yr as Z,b as _,ye as a,ao as a0,ro as a1,Zr as a2,so as a3,Qr as a4,f as a5,rr as a6,lr as a7,cr as a8,ir as a9,zr as aA,Ur as aB,$r as aC,ur as aa,mr as ab,gr as ac,pr as ad,dr as ae,vr as af,or as ag,fr as ah,Cr as ai,br as aj,Wr as ak,Sr as al,Xr as am,Dr as an,wr as ao,xr as ap,Nr as aq,Ar as ar,Na as as,qa as at,lo as au,Br as av,Lr as aw,Or as ax,Ir as ay,jr as az,_e as b,k as c,Tr as d,Hr as e,_r as f,Hn as g,pt as h,Ca as i,is as j,Wn as k,qr as l,Jn as m,me as n,fe as o,Mr as p,Vr as q,K as r,ft as s,Pr as t,ve as u,Sn as v,Dn as w,Oe as x,Rr as y,Jr as z};
