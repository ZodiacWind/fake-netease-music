import{r as l,u as j,R as s}from"./react-4266950f.js";import{k as x}from"./vendor-e5057d33.js";import{b as v,r as B,c as S,aj as D,D as R}from"./index-dc3d6bad.js";import{c as A}from"./index-f822d9eb.js";import{I}from"./index-caf067c6.js";import"./lodash-9c2f29ae.js";import"./react-router-dom-9634600e.js";import"./react-redux-46793d55.js";const T=()=>{const r=S("music-singer"),[y,f]=l.exports.useReducer(k,[]),[c,E]=l.exports.useState([-1,-1,void 0]),n=l.exports.useRef(null),{push:g}=j(),d=20;let o=0;const C=[{label:"\u8BED\u79CD",list:A,key:"area"},{label:"\u5206\u7C7B",key:"type",list:[{name:"\u5168\u90E8",type:-1},{name:"\u7537\u6B4C\u624B",type:1},{name:"\u5973\u6B4C\u624B",type:2},{name:"\u4E50\u961F\u7EC4\u5408",type:3}]},{label:"\u7B5B\u9009",key:"initial",list:h()}];function h(){const e=[{name:"\u70ED\u95E8"}],t=65;for(let a=0;a<26;a++){const i=String.fromCharCode(t+a),m=String.fromCharCode(t+a+32);e.push({name:i,initial:m})}return e}function k(e,t){return t.type==="add"?[...e,...t.payload]:t.payload}function N(e,t){const a=[...c];a[e]=t,E(a)}async function u(){var p;const[e,t,a]=c,i=await D({area:e,type:t,initial:a,limit:d,offset:o}),m=o===0?"reset":"add";(p=n.current)==null||p.call(n,i.more),f({type:m,payload:i.artists}),o+=d}function b(e){g({pathname:R.singer(e.id),state:e.alias})}return l.exports.useEffect(()=>{u()},[c]),s.createElement("div",{className:r()},C.map((e,t)=>s.createElement("header",{key:e.label,className:r("header")},s.createElement("div",{className:r("label")},e.label,"\uFF1A"),s.createElement("div",{className:r("category")},e.list.map(a=>s.createElement("div",{key:a.name,className:r("category-item"),onClick:()=>N(t,a[e.key])},s.createElement("span",{className:x({["--active"]:a[e.key]===c[t]})},a.name)))))),s.createElement("div",{className:r("list")},y.map(e=>s.createElement("div",{key:e.id,className:r("item"),onClick:()=>b(e)},s.createElement(v,{className:r("img"),src:B(e.picUrl)}),s.createElement("div",{className:r("description")},e.name)))),s.createElement(I,{ref:n,cb:u}))};export{T as default};
