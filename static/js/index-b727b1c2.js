var Ct=Object.defineProperty,bt=Object.defineProperties;var Ft=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var Pe=(e,n,s)=>n in e?Ct(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,C=(e,n)=>{for(var s in n||(n={}))Re.call(n,s)&&Pe(e,s,n[s]);if(se)for(var s of se(n))Me.call(n,s)&&Pe(e,s,n[s]);return e},j=(e,n)=>bt(e,Ft(n));var U=(e,n)=>{var s={};for(var a in e)Re.call(e,a)&&n.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&se)for(var a of se(e))n.indexOf(a)<0&&Me.call(e,a)&&(s[a]=e[a]);return s};import{R as t,r as c,a as X,u as H,g as Se,h as rt,S as ot,j as lt,k as kt}from"./react-8de69987.js";import{L as St,H as Dt}from"./react-router-dom-0278a61d.js";import{h as ct,j as R,k as B,m as De,n as Z,q as J,r as ee,t as Nt,C as Ne,u as oe,T as $e,v as wt,D as xt,F as At,w as Bt,N as Lt,S as it,H as we,x as Ot,y as It,z as ut,A as Tt,B as Pt,E as Rt,R as Mt,G as $t,I as Vt,L as zt,J as xe,Q as jt,K as mt,M as Ut,O as qt,U as Ht,V as Jt,W as Gt,X as Ae,Y as Yt,Z as Kt,$ as Zt,a0 as Qt,a1 as Wt,a2 as Xt,a3 as en,a4 as Ve,a5 as _t,a6 as tn,a7 as nn,a8 as dt,a9 as sn,aa as Be,ab as an,ac as rn,ad as on,ae as ln,af as cn,ag as un,ah as mn}from"./vendor-a5ef6589.js";import{u as T,a as w,P as _n}from"./react-redux-3330aec9.js";import{a as dn,d as pn}from"./lodash-70433db2.js";const gn=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}};gn();const En="modulepreload",ze={},fn="",b=function(n,s){return!s||s.length===0?n():Promise.all(s.map(a=>{if(a=`${fn}${a}`,a in ze)return;ze[a]=!0;const o=a.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${r}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":En,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((i,g)=>{l.addEventListener("load",i),l.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>n())};const hn="_sidebar_yo7cu_1",yn="_sidebar__header_yo7cu_6",vn="_sidebar__main_yo7cu_23",Cn="_sidebar__item_yo7cu_34",bn="_sidebar__title_yo7cu_56";var je={sidebar:hn,sidebar__header:yn,sidebar__main:vn,"sidebar__main-content":"_sidebar__main-content_yo7cu_31",sidebar__item:Cn,"--active":"_--active_yo7cu_43",sidebar__title:bn,"sidebar__title-left":"_sidebar__title-left_yo7cu_65","sidebar__title-right":"_sidebar__title-right_yo7cu_70"};const Fn="_scrollbar_11l6t_1",kn="_scrollbar__content_11l6t_8";var Sn={scrollbar:Fn,scrollbar__content:kn};const Le={set(e,n,s=864e5){const a=typeof n=="string"?n:R.stringify(n);return localStorage.setItem(e,a),localStorage.setItem(`${e}__expires__`,Date.now()+s+""),n},get(e){const n=Date.now(),s=localStorage.getItem(`${e}__expires__`)||n+1;if(n>=s){this.remove(e);return}return localStorage.getItem(e)},remove(e){localStorage.removeItem(e),localStorage.removeItem(`${e}__expires__`)}};function q(e,n){return e.then(s=>[null,s]).catch(s=>(n&&Object.assign(s,n),[s,void 0]))}const Dn=e=>e?e<1e4?""+e:Math.floor(e/1e4)+"\u4E07":0,Nn=()=>{},fe=e=>ct(e).format("mm:ss"),wn=e=>{const n=e.split(":"),s=Number(n[0]),a=Number(n[1]),o=s*60+a;return Number.isNaN(o)?0:o*1e3},K=(e,n=200,s)=>`${e}?param=${n}y${s||n}`,xn=e=>{const{id:n,name:s,duration:a,album:o,artists:r}=e;return{id:n,name:s,dt:a,al:o,ar:r}},rr=e=>{const{id:n,name:s,duration:a,album:o,artists:r}=e;return{id:n,name:s,dt:a,al:o,ar:r}};function k(e,n){return function(s){const a=e+(s?"__"+s:"");return n?n[a]:a}}const Oe=t.forwardRef(({children:e,className:n},s)=>{const a=k("scrollbar",Sn);return t.createElement("div",{ref:s,className:B(a(),n)},t.createElement("div",{className:a("content")},e))}),An="_login_guh86_1",Bn="_login__mask_guh86_16",Ln="_login__img_guh86_24",On="_login__form_guh86_28",In="_login__btn_guh86_51",Tn="_login__register_guh86_65";var Pn={login:An,login__mask:Bn,login__img:Ln,login__form:On,"login__form-item":"_login__form-item_guh86_37",login__btn:In,login__register:Tn},Rn="static/svg/login-5a53f576.svg";const le=(e="\u63A5\u53E3\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E")=>(Z.error(e),Promise.reject()),Mn="http://47.100.62.108:4000/",he=[],$n=()=>{he.forEach(e=>{e()}),he.length=0},Vn=e=>{const n={400:"\u8BF7\u6C42\u9519\u8BEF(400)",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)",403:"\u62D2\u7EDD\u8BBF\u95EE(403)",404:"\u8BF7\u6C42\u51FA\u9519(404)",408:"\u8BF7\u6C42\u8D85\u65F6(408)",500:"\u670D\u52A1\u5668\u9519\u8BEF(500)",501:"\u670D\u52A1\u672A\u5B9E\u73B0(501)",502:"\u7F51\u7EDC\u9519\u8BEF(502)",503:"\u670D\u52A1\u4E0D\u53EF\u7528(503)",504:"\u7F51\u7EDC\u8D85\u65F6(504)",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)",0:`\u8FDE\u63A5\u51FA\u9519(${e})!`};return`${n[e]||n[0]}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},de=De.create({baseURL:Mn,timeout:1e4,headers:{"Content-Type":"application/json"},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=R.parse(e)),e)]});de.interceptors.request.use(e=>{e.cancelToken=new De.CancelToken(s=>{he.push(s)});const n=Le.get("userInfo");if(n){const s=R.parse(n);e.url=e.url+"?cookie="+s.cookie}return e},le);de.interceptors.response.use(async e=>{const n=e.status;return n<200||n>=300?le(Vn(n)):e.data.code===200?e.data:le(e.data.message)},e=>De.isCancel(e)?new Promise(Nn):le());const u=(e,n,s)=>de.get(e,j(C({},s),{params:n})),zn=(e,n,s)=>de.post(e,n,s),jn=e=>zn("/login/cellphone",e),Un=e=>u("/user/playlist",{uid:e}),or=()=>u("/banner"),lr=()=>u("/dj/banner"),cr=e=>u("/personalized",e),ir=e=>u("/personalized/privatecontent/list",e),ur=()=>u("/personalized/mv"),mr=()=>u("/album/newest"),_r=(e=6)=>u("/dj/toplist",{limit:e}),qn=e=>u("/song/url",{id:e}),Hn=e=>u("/lyric",{id:e}),Jn=()=>u("/personal_fm"),Gn=(e,n=0)=>u("/comment/music",{id:e,offset:n}),dr=(e,n=0)=>u("/comment/playlist",{id:e,offset:n}),pr=()=>u("/playlist/hot"),gr=()=>u("/playlist/catlist"),Er=({offset:e,limit:n,cat:s})=>u("/top/playlist",{cat:s,offset:e,limit:n}),fr=()=>u("/dj/catelist"),hr=(e=5)=>u("/dj/personalize/recommend",{limit:e}),yr=(e=0,n=4)=>u("/dj/paygift",{offset:e,limit:n}),vr=e=>u("/user/audio",{uid:e}),Cr=e=>u("/dj/recommend/type",{type:e}),br=()=>u("/toplist"),Yn=e=>u("/playlist/detail",{id:e}),Fr=e=>u("/artist/list",e),kr=e=>u("/top/song",{type:e}),Sr=e=>u("/top/album",e),Dr=()=>u("/video/category/list"),Nr=(e,n=0)=>u("/video/group",{id:e,offset:n}),wr=(e,n=6)=>u("/mv/first",{area:e,limit:n}),xr=(e=6)=>u("/mv/all",{limit:e}),Ar=(e=6)=>u("/mv/exclusive/rcmd",{limit:e}),Br=(e,n=10)=>u("/top/mv",{area:e,limit:n}),Lr=()=>u("/dj/sublist"),Or=()=>u("/album/sublist"),Ir=()=>u("/artist/sublist"),Tr=()=>u("/mv/sublist"),Kn=e=>u("/simi/playlist",{id:e}),Zn=e=>u("/simi/song",{id:e}),Qn=e=>u("/song/detail",{ids:e}),Wn=()=>u("/search/hot/detail"),Pr=({id:e,offset:n,limit:s=20})=>u("/playlist/subscribers",{id:e,offset:n,limit:s}),Xn=e=>u("/search/suggest",{keywords:e}),Rr=e=>u("/search",e),Mr=e=>u("/search/multimatch",{keywords:e}),$r=e=>u("/artist/detail",{id:e}),Vr=e=>u("/artist/top/song",{id:e}),zr=e=>u("/artist/album",{id:e}),jr=e=>u("/artist/desc",{id:e}),es=e=>u("/album",{id:e}),Ur=e=>u("/artist/mv",{id:e}),qr=e=>u("/simi/artist",{id:e}),Hr=e=>u("/album/detail/dynamic",{id:e}),Jr=(e,n=0)=>u("/comment/album",{id:e,offset:n}),Gr=e=>u("/user/detail",{uid:e}),Yr=()=>u("/recommend/songs"),Kr=(e,n=0)=>u("/comment/video",{id:e,offset:n}),Zr=e=>u("/video/detail",{id:e}),Qr=e=>u("/video/url",{id:e}),Wr=e=>u("/related/allvideo",{id:e}),Xr=()=>u("/video/group/list"),eo=(e=0)=>u("/video/timeline/all",{offset:e}),to=e=>u("/dj/detail",{rid:e}),no=e=>u("/dj/program",{rid:e}),so=(e,n)=>u("/dj/subscriber",{id:e,time:n}),ts=e=>u("/comment/dj",{id:e}),ao=e=>u("/mv/url",{id:e}),ro=e=>u("/mv/detail",{mvid:e}),oo=e=>u("/mv/detail/info",{mvid:e}),lo=(e,n=0)=>u("/comment/mv",{id:e,offset:n}),co=(e,n)=>u("/user/cloud",{offset:e,limit:n}),io=()=>u("/playlist/highquality/tags"),uo=(e,n=1,s)=>u("/top/playlist/highquality",{cat:e,limit:n,before:s}),mo=(e,n,s)=>u("/dj/radio/hot",{cateId:e,offset:n,limit:s});var pt="static/svg/avatar-86c9b0fc.svg";const gt=e=>"userInfo"+e?`/${e}`:"",ce=J(gt("set"),async({phone:e,password:n},{rejectWithValue:s})=>{const[a,o]=await q(jn({phone:e,password:n}));if(a||!o)return s(null);const i=o,{code:r}=i,l=U(i,["code"]);return r===200?l:s(null)}),{reducer:ns,actions:ss}=ee({name:gt(),initialState:{cookie:"",profile:{avatarUrl:pt,nickname:"\u672A\u767B\u5F55",userId:0,description:""}},reducers:{setUserInfoFromCache(e,n){return C(C({},e),n.payload)}},extraReducers(e){e.addCase(ce.fulfilled,(n,s)=>C(C({},n),s.payload)),e.addCase(ce.rejected,n=>(Z.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),n))}}),{setUserInfoFromCache:as}=ss,Et=e=>"userPlaylist"+e?`/${e}`:"",rs={playlist:[]},ie=J(Et("set"),async(e,{rejectWithValue:n})=>{const[s,a]=await q(Un(e));if(s||!a)return n(null);const l=a,{code:o}=l,r=U(l,["code"]);return o===200?r:n(null)}),{reducer:os}=ee({name:Et(),initialState:rs,reducers:{},extraReducers(e){e.addCase(ie.fulfilled,(n,s)=>C(C({},n),s.payload)),e.addCase(ie.rejected,n=>(Z.error("\u83B7\u53D6\u6B4C\u5355\u5217\u8868\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),n))}});var Y=(e=>(e[e.IN_TURN=0]="IN_TURN",e[e.LOOP=1]="LOOP",e[e.SOLO=2]="SOLO",e[e.RANDOM=3]="RANDOM",e))(Y||{}),ls=(e=>(e[e.SONG=1]="SONG",e[e.SINGER=100]="SINGER",e[e.ALBUM=10]="ALBUM",e[e.VIDEO=1014]="VIDEO",e[e.PLAYLIST=1e3]="PLAYLIST",e[e.LYRIC=1006]="LYRIC",e[e.RADIO=1009]="RADIO",e[e.USER=1002]="USER",e))(ls||{});const te=e=>`currentTrack/${e}`,Ue=localStorage.getItem("currentTrack"),cs=Ue?R.parse(Ue):{current:-1,tracks:[],fm:[],autoPlay:!0},ue=J(te("setSong"),async(e,{rejectWithValue:n})=>{const[s,a]=await q(qn(e));if(s||!a)return n(null);const{code:o,data:r}=a;return o===200?r.length===0||!r[0].url?(Z.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<"),n(null)):r[0]:n(null)}),ye=J(te("setFM"),async(e,{rejectWithValue:n})=>{const[s,a]=await q(Jn());if(s||!a)return n(null);const{code:o,data:r}=a;return o===200&&r.length?{init:e,data:r}:n(null)}),me=J(te("nextFM"),async(e,{getState:n,dispatch:s,rejectWithValue:a})=>{const o=n(),{currentTrack:r}=o,{fm:l,current:i}=r,g=C({},r),p=l.length;if(p===i+1){const[d]=await q(s(ye(!1)));if(d)return a(null)}return g.current++,g.current%=p,g}),ve=J(te("insertSong"),async(e,{rejectWithValue:n,dispatch:s})=>{const[a,o]=await q(Promise.all([Qn(e),s(ue(e))]));return a||!(o!=null&&o[0])?n(null):o[0]}),qe=J(te("fetchAndSetCurrentTrack"),async(e,{rejectWithValue:n,dispatch:s})=>{let a,o;typeof e=="number"?a=e:(a=e.id,o=e.isAlbum);let r;if(o){const[l,i]=await q(es(a));if(l||!i)return n(null);r=i.songs}else{const[l,i]=await q(Yn(a));if(l||!i)return n(null);r=i.playlist.tracks}s(ms({current:0,tracks:r,fm:[]}))}),{reducer:is,actions:us}=ee({name:"currentTrack",initialState:cs,reducers:{setAutoPlay(e,n){const s=C({},e);return s.autoPlay=n.payload,s},setCurrentTrack(e,n){const i=e,{cacheCurrent:s}=i,a=U(i,["cacheCurrent"]),{current:o,tracks:r,fm:l}=n.payload;return l.length=0,j(C({},a),{current:o,tracks:r,fm:l,autoPlay:!0})},changeSong(e,n){const{tracks:s,current:a}=e,o=p=>Math.floor((p-1)*Math.random()),r=[],l=p=>{const{mode:d,next:_}=n.payload,f=s.length;let m;return d===Y.RANDOM?m=o(f):(m=_?p+1:p-1,m<0&&(m+=f),m%=f),r.includes(m)||r.push(m),s[m].disable&&r.length<s.length&&(m=l(m)),m},i=l(a),g=C({},e);return g.current=i,g.autoPlay=!0,g},changeCurrent(e,n){const s=C({},e);return s.current=n.payload,s.autoPlay=!0,s}},extraReducers(e){const n=s=>s;e.addCase(ue.fulfilled,(s,a)=>j(C({},s),{song:a.payload})),e.addCase(ue.rejected,s=>C({},s)),e.addCase(ye.fulfilled,(s,a)=>{const o=C({},s),{init:r,data:l}=a.payload;return o.fm=l,r&&(o.cacheCurrent=o.current),o.current=0,o.autoPlay=!0,o}),e.addCase(ye.rejected,n),e.addCase(me.fulfilled,s=>{const a=C({},s);return a.current++,a}),e.addCase(me.rejected,n),e.addCase(ve.fulfilled,(s,a)=>{const o=C({},s);o.fm=[],o.tracks=[...o.tracks];let r=!1;return a.payload.songs.forEach(l=>{o.tracks.find(i=>l.id===i.id)||(o.tracks.push(l),r=!0)}),r&&(o.current=o.tracks.length-1),o.autoPlay=!0,o}),e.addCase(ve.rejected,n),e.addCase(qe.fulfilled,s=>{const a=C({},s);return a.autoPlay=!0,a}),e.addCase(qe.rejected,n)}}),{setCurrentTrack:ms,changeSong:He,changeCurrent:_s}=us,Je=localStorage.getItem("controller"),ds=Je?R.parse(Je):{playMode:Y.IN_TURN,pause:!0,currentTime:0,showDetail:!1,keywords:""},{reducer:ps,actions:gs}=ee({name:"controller",initialState:ds,reducers:{setPlayMode(e,n){const s=C({},e);return s.playMode=n.payload,s},setPause(e,n){const s=C({},e);return s.pause=n.payload,s},setCurrentTime(e,n){const s=C({},e);return s.currentTime=n.payload,s},setShowDetail(e,n){const s=C({},e);return s.showDetail=n.payload,s},setKeywords(e,n){const s=C({},e);return s.keywords=n.payload,s},setController(e,n){return C(C({},e),n.payload)}}}),{setPlayMode:Es,setPause:ft,setCurrentTime:Ce,setShowDetail:Ie,setKeywords:ht,setController:_o}=gs,Ge=localStorage.getItem("currentTrack"),fs=Ge?R.parse(Ge):{},{reducer:hs,actions:ys}=ee({name:"djDetail",initialState:fs,reducers:{setDJDetail(e,n){return n.payload}}}),{setDJDetail:po}=ys,be=Nt({reducer:{user:ns,userPlaylist:os,currentTrack:is,controller:ps,djDetail:hs}}),vs=({setShowLogin:e})=>{const n=k("login",Pn),s=document.getElementById("portal"),[a,o]=c.exports.useState(""),[r,l]=c.exports.useState(""),i=T(),g=d=>{d.stopPropagation(),e(!1)},p=async d=>{if(d.preventDefault(),!a||!r)return;const _=await i(ce({phone:a,password:r}));if(ce.fulfilled.match(_)){Le.set("userInfo",_.payload);const{userId:f}=_.payload.profile;i(ie(f)),e(!1),Z.success("\u767B\u5F55\u6210\u529F\uFF5E")}};return X.exports.createPortal(t.createElement("div",{className:n("mask")},t.createElement("form",{className:n()},t.createElement(Ne,{onClick:g}),t.createElement("img",{className:n("img"),src:Rn,alt:"login"}),t.createElement("div",{className:n("form")},t.createElement("div",{className:n("form-item")},t.createElement("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",value:a,onChange:d=>o(d.target.value)})),t.createElement("div",{className:n("form-item")},t.createElement("input",{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",value:r,onChange:d=>l(d.target.value)}))),t.createElement("button",{type:"submit",className:n("btn"),onClick:p},"\u767B\u5F55"))),s)},Cs=()=>{const e=k("sidebar",je),[n,s]=c.exports.useState(),{push:a}=H(),{pathname:o}=Se(),[r,l]=c.exports.useState(!1),{profile:i,cookie:g}=w(v=>v.user),p=w(v=>v.userPlaylist.playlist),d=T(),_=[{menus:[{name:"\u53D1\u73B0\u97F3\u4E50",icon:oe,path:y.findMusic},{name:"\u79C1\u4EBAFM",icon:$e,path:y.fm},{name:"\u89C6\u9891",icon:wt,path:y.video,loginShow:!0},{name:"\u670B\u53CB",icon:$e,path:y.friend}]},{title:"\u6211\u7684\u97F3\u4E50",menus:[{name:"iTunes\u97F3\u4E50",icon:oe,path:y.iTunes},{name:"\u4E0B\u8F7D\u7BA1\u7406",icon:xt,path:y.download},{name:"\u6700\u8FD1\u64AD\u653E",icon:At,path:y.recent},{name:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",icon:Bt,path:y.cloudMusic,loginShow:!0},{name:"\u6211\u7684\u7535\u53F0",icon:Lt,path:y.radio,loginShow:!0},{name:"\u6211\u7684\u6536\u85CF",icon:it,path:y.collection,loginShow:!0}]},{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[{name:"\u6211\u559C\u6B22\u7684\u97F3\u4E50",icon:we,path:A.list("")}]}],[f,m]=c.exports.useReducer(D,_),h=({menu:v,index:S})=>{const x=M(n,S);return t.createElement("div",{key:v.path,className:B(e("item"),{[je["--active"]]:x}),onClick:()=>N({menu:v,index:S})},t.createElement(v.icon,null),t.createElement("a",null,v.name))};function D(v,S){return[...v.slice(0,2),...S]}function N({menu:v,index:S}){s(S),a(v.path)}function E(){l(!0)}function F(){const v=Le.get("userInfo");if(!v)return;const S=R.parse(v);d(as(S));const{userId:x}=S.profile;d(ie(x))}function P(){for(let v=0,S=f.length;v<S;v++){const{menus:x}=f[v];for(let O=0,Q=x.length;O<Q;O++){const W=x[O];if(o.includes(W.path))return[v,O]}}}function M(v,S){if(!v||!S||v.length!==v.length)return!1;for(let x=0,O=v.length;x<O;x++)if(v[x]!==S[x])return!1;return!0}function V(v,S){if(!!v.title)return t.createElement("div",{className:e("title")},S<2?v.title:t.createElement(t.Fragment,null,t.createElement("div",{className:e("title-left")},t.createElement(It,null),t.createElement("strong",null,v.title)),v.title==="\u521B\u5EFA\u7684\u6B4C\u5355"&&t.createElement(ut,{className:e("title-right")})))}function I(){g?a({pathname:A.user(i.userId),state:!0}):l(!0)}return c.exports.useEffect(()=>{(async()=>{const v=P();s(v)})()},[o]),c.exports.useEffect(()=>{F()},[]),c.exports.useEffect(()=>{const v=[{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[]},{title:"\u6536\u85CF\u7684\u6B4C\u5355",menus:[]}];!p||p.length===0||(p.forEach(S=>{const{name:x,id:O,userId:Q}=S,W=A.list(O),ne={name:x,path:W,icon:oe},pe=Q===i.userId?0:1;v[pe].menus.push(ne)}),m(v))},[p]),t.createElement("aside",{className:e()},t.createElement("header",{className:e("header")},t.createElement("img",{src:K(i.avatarUrl,100),alt:"icon",onClick:I}),t.createElement("strong",{onClick:E},i.nickname),t.createElement(Ot,{onClick:E})),t.createElement(Oe,{className:e("main")},f.map((v,S)=>t.createElement("div",{key:S},V(v,S),v.menus.map((x,O)=>g||!x.loginShow?t.createElement(h,{key:O,menu:x,index:[S,O]}):null)))),r&&t.createElement(vs,{setShowLogin:l}))},bs="_footer_oumu4_1",Fs="_footer__left_oumu4_30",ks="_footer__right_oumu4_58",Ss="_footer__lyric_oumu4_62",Ds="_footer__mid_oumu4_72",Ns="_footer__volume_oumu4_103";var $={footer:bs,"footer__progress-bar":"_footer__progress-bar_oumu4_14",footer__left:Fs,"footer__left-name":"_footer__left-name_oumu4_42",footer__right:ks,footer__lyric:Ss,"--active":"_--active_oumu4_69",footer__mid:Ds,"--big":"_--big_oumu4_87","--medium":"_--medium_oumu4_90","--red":"_--red_oumu4_93","--disable":"_--disable_oumu4_96",footer__volume:Ns};const ws=(e,n)=>{const s=w(l=>l.controller.pause),a=T(),o=c.exports.useMemo(()=>s?Tt:Pt,[s]);function r(l){!n||a(ft(l))}return c.exports.useEffect(()=>{!(e!=null&&e.current)||(s?e.current.pause():e.current.play())},[s]),{PlayIcon:o,pause:s,handlePause:r}},xs=(e,n,s)=>{const a=w(i=>i.controller.currentTime),o=T();return{currentTime:a,handleTimeUpdate:()=>{!(e!=null&&e.current)||o(Ce(e.current.currentTime*1e3))},handleProgressClick:i=>{if(!(n!=null&&n.current)||!(e!=null&&e.current)||!s)return;const{pageX:g}=i,{left:p,width:d}=n.current.getBoundingClientRect(),_=(g-p)/d*s/1e3;e.current.currentTime=_,o(Ce(_))}}},As=()=>{const e=w(r=>r.controller.playMode),n=T(),s=[{key:"inTurn",tip:"\u987A\u5E8F\u64AD\u653E",icon:Rt},{key:"loop",tip:"\u5FAA\u73AF\u64AD\u653E",icon:Mt},{key:"solo",tip:"\u5355\u66F2\u5FAA\u73AF",icon:$t},{key:"random",tip:"\u968F\u673A\u64AD\u653E",icon:Vt}],a=c.exports.useMemo(()=>s[e],[e]);return{playMode:e,handleIconClick:()=>{const r=e===3?0:e+1;n(Es(r))},currentPlayMode:a}},Bs=()=>{const e=c.exports.useRef(null),[n,s]=c.exports.useState(!1);return{listButtonRef:e,showList:n,setShowList:s}},Ls=()=>{const[e,n]=c.exports.useState(!1);return{lyricActive:e,setLyricActive:n}},Os=e=>{const[n,s]=c.exports.useState(100);return{volume:n,setVolume:s,handleVolumeChange:r=>{s(r.currentTarget.volume*100)},handleSliderChange:r=>{!(e!=null&&e.current)||(e.current.volume=r/100)}}},Is="_fold_7eol0_1";var Ye={"music-detail":"_music-detail_7eol0_1",fold:Is,"music-detail__shim":"_music-detail__shim_7eol0_14","--show":"_--show_7eol0_31","music-detail__player":"_music-detail__player_7eol0_34","music-detail__info":"_music-detail__info_7eol0_41","music-detail__comment":"_music-detail__comment_7eol0_46"};const Ts="_cover_j60n2_1",Ps="_cover__inner_j60n2_11",Rs="_rotate_j60n2_1";var Ke={cover:Ts,cover__inner:Ps,"--animate":"_--animate_j60n2_17",rotate:Rs};const Ms="_img_pj7a2_1",$s="_img__play_pj7a2_11",Vs="_img__loading_pj7a2_31",zs="_img__count_pj7a2_39";var ae={img:Ms,img__play:$s,"--center":"_--center_pj7a2_18","--bottom":"_--bottom_pj7a2_23","--show":"_--show_pj7a2_28",img__loading:Vs,img__count:zs};const js="_icon_fxwxv_1",Us="_icon__play_fxwxv_11",qs="_icon__pause_fxwxv_19";var Ze={icon:js,icon__play:Us,icon__pause:qs,"--small":"_--small_fxwxv_23","--medium":"_--medium_fxwxv_28","--big":"_--big_fxwxv_33","--large":"_--large_fxwxv_38","--giant":"_--giant_fxwxv_43"};const Hs=e=>{const n=k("icon",Ze),l=e,{type:s="play",size:a,className:o}=l,r=U(l,["type","size","className"]);return t.createElement("span",C({className:B(Ze[`--${a}`],o,n()),tabIndex:-1},r),s==="play"?t.createElement("span",{className:n("play")}):t.createElement("span",{className:n("pause")},"| |"))},_e=({alt:e="",banLoading:n=!1,style:s,className:a,src:o,icon:r=!1,count:l,onClick:i,onIconClick:g})=>{const p=k("img",ae),d=c.exports.useRef(null),[_,f]=c.exports.useState(!1),[m,h]=c.exports.useState(!0),[D,N]=c.exports.useState(!1),E=c.exports.useMemo(()=>{const M={size:"small",placement:"center",hoverDisplay:!1};return r===!1?!1:r===!0?M:C(C({},M),r)},[r]),F=new IntersectionObserver(M=>{M.forEach(V=>{var I;V.isIntersecting&&d&&((I=d.current)==null?void 0:I.style)&&f(!0)})});function P(){h(!1)}return c.exports.useEffect(()=>{if(!!d.current)return F.observe(d.current),()=>{!d.current||(F.unobserve(d.current),F.disconnect())}},[]),t.createElement("div",{ref:d,className:B(p(),a),style:s},_&&t.createElement("img",{src:o,alt:e,onLoad:P,onMouseMove:()=>N(!0),onMouseLeave:()=>N(!1),onClick:i}),!n&&m&&t.createElement(zt,{className:p("loading")}),!m&&E&&t.createElement(Hs,{size:E.size,className:B(p("play"),ae[`--${E.size}`],ae[`--${E.placement}`],{[ae["--show"]]:!E.hoverDisplay||D}),onMouseMove:()=>N(!0),onClick:g}),l&&t.createElement("div",{className:p("count")},t.createElement(xe,null),l))},Js=({img:e,pause:n})=>{const s=k("cover",Ke);return t.createElement(t.Fragment,null,t.createElement("div",{className:s()},t.createElement(_e,{className:B(s("inner"),{[Ke["--animate"]]:!n}),src:K(e,300)})))};var Gs={"button-group":"_button-group_ervze_1","button-group__item":"_button-group__item_ervze_6"};const Ys=({data:e})=>{const n=k("button-group",Gs);return t.createElement("ul",{className:n()},e.map((s,a)=>t.createElement("li",{key:a,className:n("item"),onClick:s.event},t.createElement(s.icon,null))))},Ks="_lyric_19q8r_1",Zs="_lyric__quality_19q8r_19",Qs="_lyric__info_19q8r_30",Ws="_lyric__wrapper_19q8r_46",Xs="_lyric__question_19q8r_69",ea="_lyric__anchor_19q8r_81",ta="_lyric__container_19q8r_84";var Qe={lyric:Ks,"lyric__music-name":"_lyric__music-name_19q8r_12",lyric__quality:Zs,lyric__info:Qs,lyric__wrapper:Ws,"--selected":"_--selected_19q8r_65",lyric__question:Xs,lyric__anchor:ea,lyric__container:ta};const na=({music:e})=>{const n=k("lyric",Qe),[s,a]=c.exports.useState([]),o=w(_=>_.controller.currentTime),r=c.exports.useRef(null),[l,i]=c.exports.useState(0),{push:g}=H();function p(_){const f=[];return _.split(`
`).forEach(h=>{h.replace(/\[(.*?)\](.*)(\[.*?\])?/,(D,N,E)=>{const F=[wn(N)];return!E||!E.trim()||f.push({timestamp:F,value:E}),""})}),f}function d(){var D,N;if(!(r!=null&&r.current))return;const _=s.length;if(l===_-1)return;const f=r.current;let m=0;for(let E=l;E<_;E++)if(!!((N=(D=s[E])==null?void 0:D.timestamp)!=null&&N[0])&&o<=s[E].timestamp[0]){i(E-1),m=E-1;break}const h=44*m*window.innerWidth/1e3;m!==l&&f.scrollTo({top:h,behavior:"smooth"})}return c.exports.useEffect(()=>{var _;!(e!=null&&e.id)||((_=r.current)==null||_.scrollTo({top:0}),i(0),Hn(e.id).then(f=>{const{lrc:m,nolyric:h}=f;a(h?[]:p(m.lyric))}))},[e==null?void 0:e.id]),c.exports.useEffect(()=>{s.length&&d()},[o,s]),t.createElement("div",{className:n()},t.createElement("h2",null,t.createElement("span",{className:n("music-name")},e==null?void 0:e.name),t.createElement("span",{className:n("quality")},"\u6807\u51C6\u97F3\u8D28")),t.createElement("div",{className:n("info")},t.createElement("p",null,t.createElement("span",null,"\u4E13\u8F91\uFF1A"),t.createElement("a",{onClick:()=>g(A.list(e.album.id,"album"))},e==null?void 0:e.album.name)),t.createElement("p",null,t.createElement("span",null,"\u6B4C\u624B\uFF1A"),e==null?void 0:e.artists.map(_=>t.createElement("a",{className:n("anchor"),key:_.name,onClick:()=>g(A.singer(_.id))},_.name)))),t.createElement("div",{className:n("container")},s.length>0?t.createElement(Oe,{ref:r,className:n("wrapper")},s.map((_,f)=>t.createElement("p",{key:f,className:B({[Qe["--selected"]]:f===l})},_.value))):t.createElement("span",null,"\u7EAF\u97F3\u4E50\uFF0C\u8BF7\u60A8\u6B23\u8D4F")),t.createElement(jt,{className:n("question")}))},sa="_comments_1stot_1",aa="_comments__left_1stot_9",ra="_comments__img_1stot_12",oa="_comments__right_1stot_18",la="_comments__info_1stot_34",ca="_comments__icons_1stot_39",ia="_comments__icon_1stot_39";var We={comments:sa,comments__left:aa,comments__img:ra,comments__right:oa,"--mentioned":"_--mentioned_1stot_21",comments__info:la,comments__icons:ca,comments__icon:ia};const Xe=({comment:e})=>{var r;const n=k("comments",We),{push:s}=H(),a=[{icon:mt,value:e.likedCount},{icon:Ut},{icon:qt}];function o(){s(A.user(e.user.userId))}return t.createElement("div",{className:n()},t.createElement("div",{className:n("left")},t.createElement(_e,{className:n("img"),src:K((e==null?void 0:e.user.avatarUrl)||pt,30),onClick:o})),t.createElement("div",{className:n("right")},t.createElement("p",null,t.createElement("a",{onClick:o},e.user.nickname,"\uFF1A"),e.content),((r=e.beReplied)==null?void 0:r.length)>0&&t.createElement("p",{className:We["--mentioned"]},e.beReplied.map(l=>t.createElement("span",{key:l.beRepliedCommentId},t.createElement("a",{onClick:()=>s(A.user(l.user.userId))},"@",l.user.nickname,"\uFF1A"),l.content))),t.createElement("div",{className:n("info")},t.createElement("span",null,ct(e.time).format("YYYY\u5E74M\u6708D\u65E5 HH:mm")),t.createElement("div",{className:n("icons")},a.map((l,i)=>t.createElement("div",{key:i,className:n("icon")},t.createElement(l.icon,null),l.value&&l.value>0?t.createElement("strong",null,l.value):null))))))};var ua={"comment-group__title":"_comment-group__title_1v435_1","comment-group__footer":"_comment-group__footer_1v435_5","comment-group__empty":"_comment-group__empty_1v435_11"};const ma=({id:e,children:n,api:s})=>{const a=k("comment-group",ua),[o,r]=c.exports.useState([]),[l,i]=c.exports.useState([]),[g,p]=c.exports.useState(0),[d,_]=c.exports.useState(1);async function f(m,h=1,D=20){if(!m)return;const N=(h-1)*D,E=await s(m,N);r(E.comments),E.hotComments&&i(E.hotComments),p(E.total)}return c.exports.useEffect(()=>{e&&f(e)},[e]),t.createElement("div",{className:a()},g>0?t.createElement(t.Fragment,null,n,l.length>0&&t.createElement(t.Fragment,null,t.createElement("h2",{className:a("title")},"\u7CBE\u5F69\u8BC4\u8BBA"),l.map(m=>t.createElement(Xe,{key:m.commentId,comment:m}))),o.length>0&&t.createElement(t.Fragment,null,t.createElement("h2",{className:a("title")},"\u6700\u65B0\u8BC4\u8BBA\uFF08",g,"\uFF09"),o.map(m=>t.createElement(Xe,{key:m.commentId,comment:m}))),g>20&&t.createElement("footer",{className:a("footer")},t.createElement(Ht,{total:g,showSizeChanger:!1,current:d,onChange:(m,h)=>{_(m),f(e,m,h)}}))):t.createElement("div",{className:a("empty")},"\u8FD8\u6CA1\u6709\u8BC4\u8BBA\uFF0C\u5FEB\u6765\u62A2\u6C99\u53D1\uFF5E"))},_a="_recommend_1byjg_1",da="_recommend__title_1byjg_5",pa="_recommend__item_1byjg_12",ga="_recommend__img_1byjg_29";var Ea={recommend:_a,recommend__title:da,recommend__item:pa,"recommend__item-info":"_recommend__item-info_1byjg_20",recommend__img:ga};const fa=({id:e})=>{const n=k("recommend",Ea),[s,a]=c.exports.useState([]),[o,r]=c.exports.useState([]);return c.exports.useEffect(()=>{(async()=>{const l=await Kn(e);a(l.playlists)})(),(async()=>{const l=await Zn(e);r(l.songs)})()},[e]),t.createElement("div",{className:n()},t.createElement("h2",{className:n("title")},"\u5305\u542B\u8FD9\u9996\u6B4C\u7684\u6B4C\u5355"),s.map(l=>t.createElement("div",{key:l.id,className:n("item")},t.createElement(_e,{className:n("img"),src:K(l.coverImgUrl,100)}),t.createElement("div",{className:n("item-info")},t.createElement("div",null,l.name),t.createElement("div",null,Dn(l.playCount))))),t.createElement("h2",{className:n("title")},"\u76F8\u4F3C\u6B4C\u66F2"),o.map(l=>t.createElement("div",{key:l.id,className:n("item")},t.createElement(_e,{className:n("img"),src:K(l.album.picUrl,100),icon:!0}),t.createElement("div",{className:n("item-info")},t.createElement("div",null,l.name),t.createElement("div",null,l.artists.reduce((i,g)=>`${i} ${g.name}`,"").slice(1))))))};var ha={"write-comment__title":"_write-comment__title_16b6h_1","write-comment__input":"_write-comment__input_16b6h_5"};const ya=()=>{const e=k("write-comment",ha);return t.createElement(t.Fragment,null,t.createElement("div",{className:e("title")},t.createElement("strong",null,"\u542C\u53CB\u8BC4\u8BBA"),t.createElement("span",null,"\uFF08\u5DF2\u6709187\u6761\u8BC4\u8BBA\uFF09")),t.createElement("div",{className:e("input")},t.createElement("span",null,t.createElement(Jt,null),t.createElement("span",{style:{marginLeft:"5px"}},"\u53D1\u8868\u8BC4\u8BBA")),t.createElement("p",null,"@")))},va="_button_1iyu2_1",Ca="_button__left_1iyu2_10",ba="_button__right_1iyu2_24";var re={button:va,button__left:Ca,button__right:ba,"--compose":"_--compose_1iyu2_34","--normal":"_--normal_1iyu2_41"};const Fa=e=>{const n=k("button",re),i=e,{compose:s,children:a,className:o}=i,r=U(i,["compose","children","className"]),l=t.createElement(t.Fragment,null,t.createElement("div",{className:n("left")},t.createElement(xe,null),"\u64AD\u653E\u5168\u90E8"),t.createElement("div",{className:n("right")},t.createElement(ut,null)));return t.createElement("button",C({className:B(re.button,s?re["--compose"]:re["--normal"],o)},r),s?l:a)};var ka={"radio-detail":"_radio-detail_11477_1","radio-detail__name":"_radio-detail__name_11477_8","radio-detail__detail":"_radio-detail__detail_11477_20","radio-detail__item":"_radio-detail__item_11477_25","radio-detail__tag":"_radio-detail__tag_11477_38","radio-detail__tag-wrapper":"_radio-detail__tag-wrapper_11477_49"};const Sa=({music:e})=>{var a;const n=k("radio-detail",ka),s=w(o=>o.djDetail);return t.createElement("div",{className:n()},t.createElement("h2",null,e.name),t.createElement("div",{className:n("name")},t.createElement("strong",null,s==null?void 0:s.name),t.createElement(Fa,null,t.createElement(it,null)," \u8BA2\u9605(",s.subCount,")")),t.createElement("div",{className:n("detail")},t.createElement("div",{className:n("item")},t.createElement("label",null,"\u4E3B\u64AD:"),t.createElement("a",null,(a=s.dj)==null?void 0:a.nickname)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u6765\u6E90:"),t.createElement("a",null,s.original)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u521B\u5EFA\u65F6\u95F4:"),t.createElement("span",null,s.createTime)),t.createElement("div",{className:n("item")},t.createElement("label",null,"\u5DF2\u64AD\u653E:"),t.createElement("span",null,s.playCount,"\u6B21"))),t.createElement("div",{className:n("tag-wrapper")},t.createElement("span",{className:n("tag")},s.category),s.desc))},Da=({visible:e})=>{const n=k("music-detail",Ye),s=w(g=>g.controller.pause),a=T(),o=w(g=>{var p;return!((p=g.currentTrack.song)!=null&&p.flag)}),r=w(g=>{const{current:p,tracks:d,fm:_}=g.currentTrack;if(!(p<0||_.length>0)&&d[p])return i(d[p])}),l=[{icon:we},{icon:Ae},{icon:Yt},{icon:Kt}];function i(g){const{name:p,id:d,dt:_,al:f,ar:m}=g;return{id:d,name:p,duration:_,album:f,artists:m}}return X.exports.createPortal(t.createElement(t.Fragment,null,e&&r&&t.createElement("div",{className:n("shim")},t.createElement(Gt,{onClick:()=>a(Ie(!1))})),r&&t.createElement("div",{className:B(n(),{[Ye["--show"]]:e})},t.createElement("section",{className:n("player")},t.createElement("div",null,t.createElement(Js,{img:r.album.picUrl,pause:s}),t.createElement(Ys,{data:l})),o?t.createElement(Sa,{music:r}):t.createElement(na,{music:r})),t.createElement("div",{className:n("info")},t.createElement(ma,{id:r==null?void 0:r.id,api:o?ts:Gn},t.createElement(ya,null)),!o&&t.createElement(fa,{id:r==null?void 0:r.id})))),document.getElementById("music-detail"))};var et={"music-list":"_music-list_1vua8_1","--show":"_--show_1vua8_15","music-list__header":"_music-list__header_1vua8_18","music-list__subtitle":"_music-list__subtitle_1vua8_28","music-list__subtitle-right":"_music-list__subtitle-right_1vua8_33","music-list__subtitle-all":"_music-list__subtitle-all_1vua8_38","music-list__subtitle-clear":"_music-list__subtitle-clear_1vua8_44","music-list__total":"_music-list__total_1vua8_52"};const Na="_table_1ltg6_1",wa="_table__cell_1ltg6_29";var Ee={table:Na,"--active":"_--active_1ltg6_20","--disable":"_--disable_1ltg6_23",table__cell:wa},xa="static/svg/no-music-ed6bb8c2.svg",Aa={"no-data":"_no-data_2e6x3_1","no-data__wrapper":"_no-data__wrapper_2e6x3_7"};const yt=({title:e,subTitle:n})=>{const s=k("no-data",Aa);return t.createElement("div",{className:s("wrapper")},t.createElement("div",{className:s()},t.createElement("img",{src:xa,alt:"no-music"}),e&&t.createElement("h3",null,e),n&&t.createElement("div",null,n)))},Ba=({columns:e,data:n,disableColumn:s="disable",noHead:a=!1,selectedRow:o,onDoubleClick:r})=>{const l=k("table",Ee),[i,g]=c.exports.useState(-1);function p(d){if(!!r){if(n[d][s]){Z.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<");return}r(d)}}return c.exports.useEffect(()=>{o!==void 0&&g(o)},[o]),t.createElement(t.Fragment,null,t.createElement("table",{className:l()},t.createElement("colgroup",null),!a&&t.createElement("thead",null,t.createElement("tr",null,e.map((d,_)=>t.createElement("th",{key:_},t.createElement("div",{className:l("cell")},d.title))))),t.createElement("tbody",null,n.length>0?n.map((d,_)=>t.createElement("tr",{key:_,className:B({[Ee["--active"]]:i===_,[Ee["--disable"]]:d[s]}),onDoubleClick:()=>p(_)},e.map((f,m)=>{let h;return f.render?h=f.render(d):f.key&&(h=dn(d,f.key),f.format&&(h=f.format(h))),t.createElement("td",{key:m},t.createElement("div",{className:l("cell")},h))}))):null)),n.length>0?null:t.createElement(yt,{subTitle:"\u6682\u65E0\u6570\u636E"}))},La=({visible:e,setVisible:n,target:s})=>{const a=k("music-list",et),o=T(),r=w(p=>p.currentTrack),l=c.exports.useRef(null),i=[{title:"\u97F3\u4E50\u6807\u9898",key:"name"},{title:"\u6B4C\u624B",render(p){return p.ar.map(d=>t.createElement("span",{key:d.id},d.name))}},{title:"\u94FE\u63A5\u5230",key:""},{title:"\u65F6\u957F",key:"dt",format:fe}];function g(p){o(_s(p))}return rt(l,p=>{p.target!==(s==null?void 0:s.querySelector("svg"))&&n(!1)}),X.exports.createPortal(t.createElement("div",{ref:l,className:B(a(),{[et["--show"]]:e})},t.createElement("header",{className:a("header")},t.createElement("h2",null,"\u5F53\u524D\u64AD\u653E"),t.createElement("div",{className:a("subtitle")},t.createElement("div",{className:a("total")},"\u603B",r.tracks.length,"\u9996"),t.createElement("div",{className:a("subtitle-right")},t.createElement("span",{className:a("subtitle-all")},t.createElement(Zt,null),"\u6536\u85CF\u5168\u90E8"),t.createElement("span",{className:a("subtitle-clear")},"\u6E05\u7A7A\u5217\u8868")))),t.createElement("section",{className:a("subtitle-table")},t.createElement(Ba,{noHead:!0,selectedRow:r.current,data:r.tracks,columns:i,onDoubleClick:g}))),document.getElementById("drawer"))},Oa=()=>{const e=k("footer",$),n=c.exports.useRef(null),s=c.exports.useRef(null),a=T(),{push:o}=H(),r=w(L=>L.controller.showDetail),l=w(L=>L.currentTrack.autoPlay||!1),{listButtonRef:i,showList:g,setShowList:p}=Bs(),d=w(L=>L.currentTrack.fm.length),{lyricActive:_,setLyricActive:f}=Ls(),m=w(L=>{const{current:z,tracks:ge,fm:Te}=L.currentTrack;if(!(z<0)){if(!d)return ge[z];if(Te[z])return xn(Te[z])}}),h=w(L=>{const{current:z,tracks:ge}=L.currentTrack;return z+1===ge.length}),D=w(L=>L.currentTrack.song),{PlayIcon:N,pause:E,handlePause:F}=ws(n,m),{currentTime:P,handleTimeUpdate:M,handleProgressClick:V}=xs(n,s,m==null?void 0:m.dt),{playMode:I,handleIconClick:v,currentPlayMode:S}=As(),{volume:x,handleSliderChange:O,handleVolumeChange:Q}=Os(n);function W(){if(d){a(me());return}!m||I!==Y.SOLO&&(I===Y.IN_TURN&&h?a(Ce(0)):a(He({mode:I,next:!0})))}function ne(L){if(!d&&m){a(He({mode:I,next:L}));return}L&&a(me())}function pe(){d&&o(y.fm),a(Ie(!r))}return c.exports.useEffect(()=>{m!=null&&m.id&&a(ue(m.id))},[m==null?void 0:m.id]),t.createElement("footer",{className:e()},(m==null?void 0:m.dt)&&t.createElement("progress",{ref:s,className:e("progress-bar"),value:P,max:m.dt,onClick:V}),t.createElement("div",{className:e("left")},m&&D&&t.createElement(t.Fragment,null,t.createElement("audio",{ref:n,src:D.url,controls:!0,autoPlay:l,loop:I===Y.SOLO,onTimeUpdate:M,onPlay:()=>F(!1),onPause:()=>F(!0),onEnded:W,onVolumeChange:Q}),t.createElement("img",{src:K(m.al.picUrl,100),alt:"music",onClick:pe}),t.createElement("div",{className:e("left-name")},t.createElement("div",null,m.name," -"," ",m.ar.reduce((L,z)=>`${L}/${z.name}`,"").slice(1)),t.createElement("div",null,fe(P)," / ",fe(m.dt))))),t.createElement("div",{className:e("mid")},d?t.createElement(we,null):t.createElement(mt,null),t.createElement(Qt,{className:B($["--medium"],$["--red"],{[$["--disable"]]:d}),onClick:()=>ne(!1)}),t.createElement(N,{className:B($["--big"],$["--red"]),onClick:()=>F(!E)}),t.createElement(Wt,{className:B($["--medium"],$["--red"]),onClick:()=>ne(!0)}),d?t.createElement(Ae,null):t.createElement(Xt,null)),t.createElement("div",{className:e("right")},!d&&t.createElement(en,null),t.createElement(Ve,{title:S.tip},t.createElement(S.icon,{onClick:v})),!d&&m&&t.createElement(_t,{ref:i,onClick:()=>p(!g)}),t.createElement("span",{className:B(e("lyric"),{[$["--active"]]:_}),onClick:()=>f(!_)},"\u8BCD"),m&&t.createElement(Ve,{title:()=>t.createElement("div",{className:e("volume")},t.createElement(tn,{vertical:!0,value:x,onChange:O}))},t.createElement(nn,null))),t.createElement(Da,{visible:r}),t.createElement(La,{visible:g,setVisible:p,target:i.current}))};var Ia="static/svg/not-found-4a7109ca.svg",Ta={"not-found":"_not-found_r5k7l_1"};const Pa=()=>{const e=k("not-found",Ta);return t.createElement("div",{className:e()},t.createElement("img",{src:Ia,alt:"404"}))},Fe=k("main"),Ra=({routes:e})=>{const{pathname:n}=Se(),s=T();function a(){const l=be.getState(),{cacheCurrent:i,current:g}=l.currentTrack;let p=g;i!==void 0&&(p=i),localStorage.setItem("djDetail",R.stringify(C({},l.djDetail))),localStorage.setItem("currentTrack",R.stringify(j(C({},l.currentTrack),{current:p,autoPlay:!1,fm:[]}))),localStorage.setItem("controller",R.stringify(j(C({},l.controller),{pause:!0})))}function o(l,i){if(l.code==="Space"){const g=document.activeElement;(!g||g===document.body)&&(l.stopPropagation(),l.preventDefault(),i==null||i())}}function r(l){o(l,()=>{const i=be.getState();s(ft(!i.controller.pause))})}return c.exports.useEffect(()=>{s(Ie(!1)),$n()},[n]),c.exports.useEffect(()=>(window.addEventListener("beforeunload",a),document.addEventListener("keyup",r),document.addEventListener("keydown",o),()=>{window.removeEventListener("beforeunload",a),document.removeEventListener("keyup",r),document.removeEventListener("keydown",o)}),[]),t.createElement(t.Fragment,null,t.createElement("section",{className:"container"},t.createElement(Cs,null),t.createElement(Oe,{className:Fe()},t.createElement(c.exports.Suspense,{fallback:t.createElement(dt,{className:Fe("loading"),style:{position:"absolute"}})},t.createElement(ot,null,e&&e.map(l=>{const p=l,{component:i}=p,g=U(p,["component"]);return t.createElement(lt,j(C({key:l.path},g),{render:d=>t.createElement(i,{key:d.match.url})}))}),t.createElement(Pa,null))))),t.createElement(Oa,null))};var y=(e=>(e.root="/",e.home="/home",e.fm="/home/fm",e.searchResult="/home/search-result",e.dailyRecommend="/home/daily-recommend",e.findMusic="/home/find-music",e.findMusicMusicList="/home/find-music/music-list",e.findMusicRadioHost="/home/find-music/radio-host",e.findMusicRadioHostPay="/home/find-music/radio-host/pay",e.findMusicRank="/home/find-music/rank",e.findMusicSinger="/home/find-music/singer",e.findMusicNewest="/home/find-music/newest",e.video="/home/video",e.videoMV="/home/video/mv",e.friend="/home/friend",e.iTunes="/home/i-tunes",e.download="/home/download",e.downloadProgram="/home/download/program",e.downloadPendding="/home/download/pendding",e.recent="/home/recent",e.cloudMusic="/home/cloud-music",e.radio="/home/radio",e.collection="/home/collection",e.collectionSinger="/home/collection/singer",e.collectionVideo="/home/collection/video",e.collectionColumn="/home/collection/column",e.setting="/home/setting",e))(y||{});const ke=e=>e?`/${e}`:"",G=(e,n,s="id")=>{const a=`/${e}`;return n===void 0?`${a}/:${s}?`:a+ke(n)},tt=(e,n,s)=>n===void 0?`/${e}/:id?/:type?`:`/${e}${ke(n)}${ke(s)}`,A={list:(e,n)=>tt("home/list",e,n),singer:e=>G("home/singer",e),user:e=>G("home/user",e),findMusicNewest:e=>G("home/find-music/newest",e,"type"),playVideo:e=>G("play-video",e),radioList:(e,n)=>tt("home/radio-list",e,n),excellentList:e=>G("home/find-music/music-list/excellent",e),radioZone:e=>G("home/find-music/radio-host/zone",e,"type")},vt={"find-music":[{label:"\u4E2A\u6027\u63A8\u8350",component:c.exports.lazy(()=>b(()=>import("./index-77172b1b.js"),["static/js/index-77172b1b.js","static/css/index-e82747ee.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-125bac55.js","static/css/index-2692bf2f.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:y.findMusic,exact:!0},{label:"\u6B4C\u5355",component:c.exports.lazy(()=>b(()=>import("./index-c2f29130.js"),["static/js/index-c2f29130.js","static/css/index-ed8dc3ba.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-a61de586.js","static/css/index-e010c0aa.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:y.findMusicMusicList,exact:!0},{label:"\u4E3B\u64AD\u7535\u53F0",component:c.exports.lazy(()=>b(()=>import("./index-330e4de5.js"),["static/js/index-330e4de5.js","static/css/index-d2541e3d.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-125bac55.js","static/css/index-2692bf2f.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:y.findMusicRadioHost,exact:!0},{label:"\u6392\u884C\u699C",component:c.exports.lazy(()=>b(()=>import("./index-e81b102e.js"),["static/js/index-e81b102e.js","static/css/index-89bc3d52.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:y.findMusicRank},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>b(()=>import("./index-6bd6387b.js"),["static/js/index-6bd6387b.js","static/css/index-11f2a020.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-4ca24893.js","static/js/index-fa794ca5.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.findMusicSinger},{label:"\u6700\u65B0\u97F3\u4E50",component:c.exports.lazy(()=>b(()=>import("./index-209d7c1b.js"),["static/js/index-209d7c1b.js","static/css/index-4765b247.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-4ca24893.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"])),path:y.findMusicNewest}],video:[{label:"\u89C6\u9891",component:c.exports.lazy(()=>b(()=>import("./index-07350446.js"),["static/js/index-07350446.js","static/css/index-48ca44ee.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-e0d86d1e.js","static/css/index-1fde7e75.css","static/js/index-f9cb6585.js","static/css/index-76ebda23.css","static/js/index-a61de586.js","static/css/index-e010c0aa.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.video,exact:!0},{label:"MV",component:c.exports.lazy(()=>b(()=>import("./index-2eb2a43c.js"),["static/js/index-2eb2a43c.js","static/css/index-db88c1c7.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-e0d86d1e.js","static/css/index-1fde7e75.css","static/js/index-4ca24893.js","static/js/index-f9cb6585.js","static/css/index-76ebda23.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.videoMV}],friend:[{label:"\u52A8\u6001",component:c.exports.lazy(()=>b(()=>import("./index-4b1b584a.js"),["static/js/index-4b1b584a.js","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.friend}],"i-tunes":[{label:"iTunes\u97F3\u4E50",component:c.exports.lazy(()=>b(()=>import("./index-28c6fa82.js"),["static/js/index-28c6fa82.js","static/css/index-63268595.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.iTunes}],download:[{label:"\u5DF2\u4E0B\u8F7D\u5355\u66F2",component:c.exports.lazy(()=>b(()=>import("./index-20722b93.js"),["static/js/index-20722b93.js","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-ddbad834.js","static/css/index-01c1781a.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.download,exact:!0},{label:"\u5DF2\u4E0B\u8F7D\u8282\u76EE",component:c.exports.lazy(()=>b(()=>import("./index-7bea41c0.js"),["static/js/index-7bea41c0.js","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-ddbad834.js","static/css/index-01c1781a.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.downloadProgram},{label:"\u6B63\u5728\u4E0B\u8F7D",component:c.exports.lazy(()=>b(()=>import("./index-366dd8d4.js"),["static/js/index-366dd8d4.js","static/css/index-1b65357d.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.downloadPendding}],recent:[{label:"\u6700\u8FD1\u64AD\u653E",component:c.exports.lazy(()=>b(()=>import("./index-8f816abd.js"),["static/js/index-8f816abd.js","static/css/index-985a0294.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.recent}],"cloud-music":[{label:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",component:c.exports.lazy(()=>b(()=>import("./index-367ce2b2.js"),["static/js/index-367ce2b2.js","static/css/index-09e80a50.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-4ca24893.js","static/js/index-fa794ca5.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.cloudMusic}],radio:[{label:"\u6211\u7684\u7535\u53F0",component:c.exports.lazy(()=>b(()=>import("./index-f03db6e2.js"),["static/js/index-f03db6e2.js","static/css/index-1be8b182.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-b35f56e3.js","static/css/index-6409d9b6.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.radio}],collection:[{label:"\u4E13\u8F91",component:c.exports.lazy(()=>b(()=>import("./index-aeed3926.js"),["static/js/index-aeed3926.js","static/css/index-19b552b8.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-b35f56e3.js","static/css/index-6409d9b6.css","static/js/index-d989522f.js","static/css/index-e45ef900.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.collection,exact:!0},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>b(()=>import("./index-a14906c3.js"),["static/js/index-a14906c3.js","static/css/index-77191418.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-b35f56e3.js","static/css/index-6409d9b6.css","static/js/index-d989522f.js","static/css/index-e45ef900.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.collectionSinger},{label:"\u89C6\u9891",component:c.exports.lazy(()=>b(()=>import("./index-8e2d9525.js"),["static/js/index-8e2d9525.js","static/css/index-8ad9c84e.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-d989522f.js","static/css/index-e45ef900.css","static/js/index-f9cb6585.js","static/css/index-76ebda23.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.collectionVideo},{label:"\u4E13\u680F",component:c.exports.lazy(()=>b(()=>import("./index-48283fed.js"),["static/js/index-48283fed.js","static/css/index-0ddc6bf5.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-d989522f.js","static/css/index-e45ef900.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.collectionColumn}],setting:[{label:"\u8BBE\u7F6E",component:c.exports.lazy(()=>b(()=>import("./index-e9d3c70f.js"),["static/js/index-e9d3c70f.js","static/css/index-bf4b0459.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"])),path:y.setting}]},Ma=[{path:y.home,exact:!0,component:Ra,routes:[{path:y.fm,component:c.exports.lazy(()=>b(()=>import("./index-454225df.js"),["static/js/index-454225df.js","static/css/index-f1cc5e9d.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:A.list(),component:c.exports.lazy(()=>b(()=>import("./index-40df585e.js"),["static/js/index-40df585e.js","static/css/index-7ac0ab9b.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/react-redux-3330aec9.js","static/js/write-comment-bbe7ae9f.js","static/css/write-comment-245ec406.css","static/js/index-4ca24893.js","static/js/react-router-dom-0278a61d.js"]))},{path:A.singer(),component:c.exports.lazy(()=>b(()=>import("./index-b964f4d6.js"),["static/js/index-b964f4d6.js","static/css/index-f67a68db.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-611c3199.js","static/css/index-11494661.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"]))},{path:y.searchResult,component:c.exports.lazy(()=>b(()=>import("./index-f37b2a24.js"),["static/js/index-f37b2a24.js","static/css/index-0c6b5e41.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-1e9a40e7.js","static/css/index-91bec25c.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:A.user(),component:c.exports.lazy(()=>b(()=>import("./index-bc22bcee.js"),["static/js/index-bc22bcee.js","static/css/index-c753a929.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-1e9a40e7.js","static/css/index-91bec25c.css","static/js/index-611c3199.js","static/css/index-11494661.css","static/js/index-701dddb8.js","static/css/index-69065f68.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:y.dailyRecommend,component:c.exports.lazy(()=>b(()=>import("./index-d65e0046.js"),["static/js/index-d65e0046.js","static/css/index-1e938c76.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-4ca24893.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:A.findMusicNewest(),component:c.exports.lazy(()=>b(()=>import("./index-209d7c1b.js"),["static/js/index-209d7c1b.js","static/css/index-4765b247.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-4ca24893.js","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:A.radioList(),component:c.exports.lazy(()=>b(()=>import("./index-a2a7f224.js"),["static/js/index-a2a7f224.js","static/css/index-b0d5c60f.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/index-fa794ca5.js","static/css/index-65a24dfc.css","static/js/react-redux-3330aec9.js","static/js/react-router-dom-0278a61d.js"]))},{path:A.excellentList(),component:c.exports.lazy(()=>b(()=>import("./index-ddc1bde4.js"),["static/js/index-ddc1bde4.js","static/css/index-50c1e96e.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-a61de586.js","static/css/index-e010c0aa.css","static/js/react-redux-3330aec9.js","static/js/index-fa794ca5.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js"]))},{path:A.radioZone(),component:c.exports.lazy(()=>b(()=>import("./index-d557d3d6.js"),["static/js/index-d557d3d6.js","static/css/index-dcf2003d.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-fa794ca5.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"]))},{path:y.findMusicRadioHostPay,component:c.exports.lazy(()=>b(()=>import("./index-84956d8e.js"),["static/js/index-84956d8e.js","static/css/index-b7759ce6.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/index-fa794ca5.js","static/css/index-65a24dfc.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"]))},...Object.values(vt).flat()]},{path:A.playVideo(),component:c.exports.lazy(()=>b(()=>import("./index-0f041260.js"),["static/js/index-0f041260.js","static/css/index-7240d91a.css","static/js/react-8de69987.js","static/js/vendor-a5ef6589.js","static/css/vendor-6fcfdeec.css","static/js/lodash-70433db2.js","static/js/write-comment-bbe7ae9f.js","static/css/write-comment-245ec406.css","static/js/react-router-dom-0278a61d.js","static/js/react-redux-3330aec9.js"]))}],$a="_header_1mmlg_1",Va="_header__left_1mmlg_6",za="_header__right_1mmlg_21";var nt={header:$a,header__left:Va,"header__left-icon":"_header__left-icon_1mmlg_17",header__right:za,"header__right-menu":"_header__right-menu_1mmlg_29","--active":"_--active_1mmlg_35","header__right-wrapper":"_header__right-wrapper_1mmlg_53","header__right-icons":"_header__right-icons_1mmlg_57"};const ja="_input_bex9z_1",Ua="_input__icon_bex9z_35",qa="_input__close_bex9z_46";var st={input:ja,"--normal":"_--normal_bex9z_19","--transparent":"_--transparent_bex9z_25",input__icon:Ua,input__close:qa};const Ha=c.exports.forwardRef((r,o)=>{var l=r,{type:e="transparent",defaultValue:n="",onInput:s}=l,a=U(l,["type","defaultValue","onInput"]);const i=k("input",st),[g,p]=c.exports.useState(n),d=c.exports.useMemo(()=>!!g,[g]),_=m=>{p(m.currentTarget.value),s==null||s(m)};function f(){p("")}return t.createElement("div",{className:B(st[`--${e}`],i())},t.createElement("input",j(C({},a),{value:g,ref:o,type:"text",onInput:_})),t.createElement("div",{className:i("icon")},t.createElement(sn,null)),d&&t.createElement(Ne,{className:i("close"),onClick:f}))});var at={"search-list":"_search-list_4orp2_1","--show":"_--show_4orp2_15"},Ja={"empty-suggestion__header":"_empty-suggestion__header_1a47l_1","empty-suggestion__header-delete":"_empty-suggestion__header-delete_1a47l_4","empty-suggestion__item":"_empty-suggestion__item_1a47l_17","empty-suggestion__item-top":"_empty-suggestion__item-top_1a47l_33","empty-suggestion__item-right":"_empty-suggestion__item-right_1a47l_54","empty-suggestion__item-bottom":"_empty-suggestion__item-bottom_1a47l_64","empty-suggestion__history":"_empty-suggestion__history_1a47l_78","empty-suggestion__history-item":"_empty-suggestion__history-item_1a47l_82","empty-suggestion__title":"_empty-suggestion__title_1a47l_110"};const Ga=({visible:e,setVisible:n})=>{const s=k("empty-suggestion",Ja),[a,o]=c.exports.useState([]),[r,l]=c.exports.useState([]),{push:i}=H(),g=T(),p=_=>{_.stopPropagation()};function d(_){g(ht(_)),n(!1);const f=Be.stringify({keywords:_});i(`${y.searchResult}?${f}`)}return c.exports.useEffect(()=>{if(!e)return;const _=localStorage.getItem("search-history");_&&l(R.parse(_)),(async()=>{const f=await Wn();o(f.data)})()},[e]),t.createElement(t.Fragment,null,r.length>0&&t.createElement("header",{className:s("header")},t.createElement("h2",null,"\u641C\u7D22\u5386\u53F2 ",t.createElement(Ae,{className:s("header-delete")})),t.createElement("div",{className:s("history")},r.map((_,f)=>t.createElement("div",{key:f,className:s("history-item"),onClick:()=>d(_)},_,t.createElement(Ne,{onClick:p}))))),t.createElement("h3",{className:s("title")},"\u70ED\u641C\u699C"),a.map((_,f)=>t.createElement("div",{key:_.searchWord,className:s("item"),onClick:()=>d(_.searchWord)},t.createElement("p",null,f+1),t.createElement("div",{className:s("item-right")},t.createElement("div",{className:s("item-top")},t.createElement("strong",null,_.searchWord),_.iconUrl?t.createElement("mark",null,"HOT"):null,t.createElement("span",null,_.score)),_.content&&t.createElement("div",{className:s("item-bottom")},_.content)))))};var Ya={"keyword-suggestion":"_keyword-suggestion_1d2pk_1","keyword-suggestion__header":"_keyword-suggestion__header_1d2pk_4","keyword-suggestion__title":"_keyword-suggestion__title_1d2pk_15","keyword-suggestion__item":"_keyword-suggestion__item_1d2pk_23"};const Ka=({setVisible:e})=>{var m;const n=k("keyword-suggestion",Ya),s=w(h=>h.controller.keywords),[a,o]=c.exports.useState({}),{push:r}=H(),l=T(),i={albums:{label:"\u4E13\u8F91",icon:xe},artists:{label:"\u6B4C\u624B",icon:an},playlists:{label:"\u6B4C\u5355",icon:_t},songs:{label:"\u5355\u66F2",icon:oe}};function g(h,D){({artists:()=>r(A.singer(h)),songs:()=>l(ve(h)),albums:()=>r(A.list(h,"album")),playlists:()=>r(A.list(h))})[D](),e(!1)}function p(){e(!1);const h=Be.stringify({keywords:s});r(`${y.searchResult}?${h}`)}function d(h){const D=i[h],N=a[h];return t.createElement(t.Fragment,null,t.createElement("div",{key:D.label,className:n("title")},t.createElement(D.icon,null),D.label),N==null?void 0:N.map(E=>_(E,h)))}function _(h,D){const E={albums:()=>{const F=h;return`${F.name} - ${F.artist.name}`},artists:()=>h.name,playlists:()=>h.name,songs:()=>{var V;const F=h;let P=F.transNames||((V=F.alias)==null?void 0:V.join(" "))||"";P=P?`\uFF08${P}\uFF09`:"";const M=F.artists.reduce((I,v)=>`${I} ${v.name}`,"").slice(1);return`${F.name} ${P}- ${M}`}}[D];return t.createElement("div",{key:h.id,className:n("item"),onClick:()=>g(h.id,D)},E())}async function f(){const h=await Xn(s);o(h.result)}return c.exports.useEffect(()=>{f()},[s]),(m=a.order)!=null&&m.length?t.createElement("div",{className:n()},t.createElement("header",{className:n("header")},t.createElement("span",{onClick:p},"\u641C\u201C",t.createElement("strong",null,s),"\u201D\u76F8\u5173\u7684\u7ED3\u679C >")),a.order.map(d)):t.createElement(yt,{title:"\u6682\u65E0\u6570\u636E"})},Za=({visible:e,setVisible:n,inputRef:s})=>{const a=k("search-list",at),o=c.exports.useRef(null),r=w(l=>l.controller.keywords);return rt(o,l=>{l.target!==s&&n(!1)}),X.exports.createPortal(t.createElement("div",{ref:o,className:B(a(),{[at["--show"]]:e})},r&&r.trim()?t.createElement(Ka,{setVisible:n}):t.createElement(Ga,{visible:e,setVisible:n})),document.getElementById("drawer"))},Qa=()=>{const e=k("header",nt),[n,s]=c.exports.useState(""),[a,o]=c.exports.useState([]),{pathname:r}=Se(),{go:l,push:i}=H(),[g,p]=c.exports.useState(!1),d=w(E=>E.controller.keywords),_=c.exports.useRef(null),f=T(),m=[{icon:ln,event:()=>{i(y.setting)}},{icon:cn},{icon:un},{icon:mn}],h=E=>{if(E.key==="Enter"&&d){p(!1);const F=Be.stringify({keywords:d});i(`${y.searchResult}?${F}`)}},D=pn(E=>{f(ht(E.target.value))},300);c.exports.useEffect(()=>{if(!r)return;const E=r.match(/home\/([\w-\d]+)\b/);E!=null&&E[1]&&o(vt[E[1]]||[]);let F=r.split("/");F.length>4&&(F=F.slice(0,4)),s(F.join("/"))},[r]);function N(E=!1){l(E?1:-1)}return t.createElement("header",{className:e()},t.createElement("div",{className:e("left")},t.createElement(rn,{className:e("left-icon"),onClick:()=>N()}),t.createElement(on,{className:e("left-icon"),onClick:()=>N(!0)})),t.createElement("div",{className:e("right")},t.createElement("ul",{className:e("right-menu")},r.includes("/home")&&a.map(E=>t.createElement("li",{key:E.path,className:B({[nt["--active"]]:E.path===n})},t.createElement(St,{to:E.path,onClick:()=>s(E.path)},E.label)))),t.createElement("div",{className:e("right-wrapper")},t.createElement(Ha,{ref:_,type:"normal",placeholder:"\u641C\u7D22",defaultValue:d,onInput:D,onFocus:()=>p(!0),onKeyUp:h}),t.createElement("div",{className:e("right-icons")},m.map((E,F)=>t.createElement(E.icon,{key:F,onClick:E.event}))))),t.createElement(Za,{visible:g,setVisible:p,inputRef:_.current}))},Wa=()=>t.createElement(_n,{store:be},t.createElement(Dt,null,t.createElement(Qa,null),t.createElement(c.exports.Suspense,{fallback:t.createElement(dt,{className:Fe("loading"),style:{position:"absolute"}})},t.createElement(ot,null,t.createElement(kt,{from:y.root,to:y.findMusic,exact:!0}),Ma.map(e=>t.createElement(lt,{key:e.path,path:e.path},t.createElement(e.component,C({},e))))))));X.exports.render(t.createElement(t.StrictMode,null,t.createElement(Wa,null)),document.getElementById("root"));export{Zr as $,vr as A,Ys as B,ma as C,A as D,Un as E,Yr as F,kr as G,Sr as H,Hs as I,qe as J,rr as K,na as L,so as M,to as N,po as O,no as P,io as Q,uo as R,ls as S,Ba as T,mo as U,fr as V,ya as W,yr as X,lo as Y,Kr as Z,b as _,ye as a,ro as a0,oo as a1,Qr as a2,ao as a3,Wr as a4,y as a5,or as a6,cr as a7,ir as a8,ur as a9,jr as aA,qr as aB,Vr as aC,mr as aa,_r as ab,Er as ac,gr as ad,pr as ae,Cr as af,lr as ag,hr as ah,br as ai,Fr as aj,Xr as ak,Nr as al,eo as am,Dr as an,wr as ao,xr as ap,Ar as aq,Br as ar,yt as as,Ha as at,co as au,Lr as av,Or as aw,Ir as ax,Tr as ay,Ur as az,_e as b,k as c,Pr as d,Jr as e,dr as f,Gn as g,pt as h,Fa as i,ms as j,es as k,Hr as l,Yn as m,me as n,fe as o,$r as p,zr as q,K as r,ft as s,Rr as t,ve as u,Nn as v,Dn as w,Oe as x,Mr as y,Gr as z};
