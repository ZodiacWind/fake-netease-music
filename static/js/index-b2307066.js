var Dt=Object.defineProperty,St=Object.defineProperties;var wt=Object.getOwnPropertyDescriptors;var re=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var $e=(e,t,s)=>t in e?Dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,E=(e,t)=>{for(var s in t||(t={}))ze.call(t,s)&&$e(e,s,t[s]);if(re)for(var s of re(t))Ve.call(t,s)&&$e(e,s,t[s]);return e},V=(e,t)=>St(e,wt(t));var H=(e,t)=>{var s={};for(var o in e)ze.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&re)for(var o of re(e))t.indexOf(o)<0&&Ve.call(e,o)&&(s[o]=e[o]);return s};import{r as c,j as n,a as te,g as l,u as G,h as xe,F as P,k as ct,S as lt,l as ut,n as Nt,o as xt}from"./react-7f918845.js";import{L as kt,B as At}from"./react-router-dom-102d9908.js";import{h as dt,j as $,k as L,m as ke,n as W,q as Y,r as se,t as Bt,C as Ae,u as ce,T as je,v as Lt,D as It,F as Ot,w as Tt,N as Pt,S as _t,H as Be,x as Rt,y as Mt,z as mt,A as $t,B as zt,E as Vt,R as jt,G as qt,I as Ut,L as Ht,J as Le,Q as Jt,K as pt,M as Gt,O as Yt,U as Kt,V as Zt,W as Qt,X as Ie,Y as Wt,Z as Xt,$ as es,a0 as ts,a1 as ss,a2 as ns,a3 as os,a4 as qe,a5 as ht,a6 as rs,a7 as as,a8 as gt,a9 as is,aa as Oe,ab as cs,ac as ls,ad as us,ae as ds,af as _s,ag as ms,ah as ps}from"./vendor-2e679db4.js";import{u as R,a as k,P as hs}from"./react-redux-8df6583b.js";import{a as gs}from"./lodash-44bc1aaf.js";const fs=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}};fs();const ys="modulepreload",Ue={},vs="",F=function(t,s){return!s||s.length===0?t():Promise.all(s.map(o=>{if(o=`${vs}${o}`,o in Ue)return;Ue[o]=!0;const a=o.endsWith(".css"),r=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":ys,a||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),a)return new Promise((u,g)=>{i.addEventListener("load",u),i.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};const Cs="_sidebar_yo7cu_1",bs="_sidebar__header_yo7cu_6",Es="_sidebar__main_yo7cu_23",Fs="_sidebar__item_yo7cu_34",Ds="_sidebar__title_yo7cu_56";var He={sidebar:Cs,sidebar__header:bs,sidebar__main:Es,"sidebar__main-content":"_sidebar__main-content_yo7cu_31",sidebar__item:Fs,"--active":"_--active_yo7cu_43",sidebar__title:Ds,"sidebar__title-left":"_sidebar__title-left_yo7cu_65","sidebar__title-right":"_sidebar__title-right_yo7cu_70"};const Ss="_scrollbar_11l6t_1",ws="_scrollbar__content_11l6t_8";var Ns={scrollbar:Ss,scrollbar__content:ws};const Te={set(e,t,s=864e5){const o=typeof t=="string"?t:$.stringify(t);return localStorage.setItem(e,o),localStorage.setItem(`${e}__expires__`,Date.now()+s+""),t},get(e){const t=Date.now(),s=localStorage.getItem(`${e}__expires__`)||t+1;if(t>=s){this.remove(e);return}return localStorage.getItem(e)},remove(e){localStorage.removeItem(e),localStorage.removeItem(`${e}__expires__`)}};function J(e,t){return e.then(s=>[null,s]).catch(s=>(t&&Object.assign(s,t),[s,void 0]))}const xs=e=>e?e<1e4?""+e:Math.floor(e/1e4)+"\u4E07":0,ks=()=>{},Ce=e=>dt(e).format("mm:ss"),As=e=>{const t=e.split(":"),s=Number(t[0]),o=Number(t[1]),a=s*60+o;return Number.isNaN(a)?0:a*1e3},Q=(e,t=200,s)=>`${e}?param=${t}y${s||t}`,Bs=e=>{const{id:t,name:s,duration:o,album:a,artists:r}=e;return{id:t,name:s,dt:o,al:a,ar:r}},lr=e=>{const{id:t,name:s,duration:o,album:a,artists:r}=e;return{id:t,name:s,dt:o,al:a,ar:r}};function S(e,t){return function(s){const o=e+(s?"__"+s:"");return t?t[o]:o}}function ue(e){return e==null?void 0:e.replace(/^http(?!s)/,t=>`${t}s`)}const Pe=c.exports.forwardRef(({children:e,className:t},s)=>{const o=S("scrollbar",Ns);return n("div",{ref:s,className:L(o(),t),children:n("div",{className:o("content"),children:e})})}),Ls="_login_guh86_1",Is="_login__mask_guh86_16",Os="_login__img_guh86_24",Ts="_login__form_guh86_28",Ps="_login__btn_guh86_51",Rs="_login__register_guh86_65";var Ms={login:Ls,login__mask:Is,login__img:Os,login__form:Ts,"login__form-item":"_login__form-item_guh86_37",login__btn:Ps,login__register:Rs},$s="static/svg/login-5a53f576.svg";const le=(e="\u63A5\u53E3\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E")=>(W.error(e),Promise.reject()),zs="http://47.100.62.108:4000/",be=[],Vs=()=>{be.forEach(e=>{e()}),be.length=0},js=e=>{const t={400:"\u8BF7\u6C42\u9519\u8BEF(400)",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)",403:"\u62D2\u7EDD\u8BBF\u95EE(403)",404:"\u8BF7\u6C42\u51FA\u9519(404)",408:"\u8BF7\u6C42\u8D85\u65F6(408)",500:"\u670D\u52A1\u5668\u9519\u8BEF(500)",501:"\u670D\u52A1\u672A\u5B9E\u73B0(501)",502:"\u7F51\u7EDC\u9519\u8BEF(502)",503:"\u670D\u52A1\u4E0D\u53EF\u7528(503)",504:"\u7F51\u7EDC\u8D85\u65F6(504)",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)",0:`\u8FDE\u63A5\u51FA\u9519(${e})!`};return`${t[e]||t[0]}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},ge=ke.create({baseURL:zs,timeout:1e4,headers:{"Content-Type":"application/json"},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=$.parse(e)),e)]});ge.interceptors.request.use(e=>{e.cancelToken=new ke.CancelToken(s=>{be.push(s)});const t=Te.get("userInfo");if(t){const s=$.parse(t);e.url=e.url+"?cookie="+s.cookie}return e},le);ge.interceptors.response.use(async e=>{const t=e.status;return t<200||t>=300?le(js(t)):e.data.code===200?e.data:le(e.data.message)},e=>ke.isCancel(e)?new Promise(ks):le());const d=(e,t,s)=>ge.get(e,V(E({},s),{params:t})),qs=(e,t,s)=>ge.post(e,t,s),Us=e=>qs("/login/cellphone",e),Hs=e=>d("/user/playlist",{uid:e}),ur=()=>d("/banner"),dr=()=>d("/dj/banner"),_r=e=>d("/personalized",e),mr=e=>d("/personalized/privatecontent/list",e),pr=()=>d("/personalized/mv"),hr=()=>d("/album/newest"),gr=(e=6)=>d("/dj/toplist",{limit:e}),Js=e=>d("/song/url",{id:e}),Gs=e=>d("/lyric",{id:e}),Ys=()=>d("/personal_fm"),Ks=(e,t=0)=>d("/comment/music",{id:e,offset:t}),fr=(e,t=0)=>d("/comment/playlist",{id:e,offset:t}),yr=()=>d("/playlist/hot"),vr=()=>d("/playlist/catlist"),Cr=({offset:e,limit:t,cat:s})=>d("/top/playlist",{cat:s,offset:e,limit:t}),br=()=>d("/dj/catelist"),Er=(e=5)=>d("/dj/personalize/recommend",{limit:e}),Fr=(e=0,t=4)=>d("/dj/paygift",{offset:e,limit:t}),Dr=e=>d("/user/audio",{uid:e}),Sr=e=>d("/dj/recommend/type",{type:e}),wr=()=>d("/toplist"),Zs=e=>d("/playlist/detail",{id:e}),Nr=e=>d("/artist/list",e),xr=e=>d("/top/song",{type:e}),kr=e=>d("/top/album",e),Ar=()=>d("/video/category/list"),Br=(e,t=0)=>d("/video/group",{id:e,offset:t}),Lr=(e,t=6)=>d("/mv/first",{area:e,limit:t}),Ir=(e=6)=>d("/mv/all",{limit:e}),Or=(e=6)=>d("/mv/exclusive/rcmd",{limit:e}),Tr=(e,t=10)=>d("/top/mv",{area:e,limit:t}),Pr=()=>d("/dj/sublist"),Rr=()=>d("/album/sublist"),Mr=()=>d("/artist/sublist"),$r=()=>d("/mv/sublist"),Qs=e=>d("/simi/playlist",{id:e}),Ws=e=>d("/simi/song",{id:e}),Xs=e=>d("/song/detail",{ids:e}),en=()=>d("/search/hot/detail"),zr=({id:e,offset:t,limit:s=20})=>d("/playlist/subscribers",{id:e,offset:t,limit:s}),tn=e=>d("/search/suggest",{keywords:e}),Vr=e=>d("/search",e),jr=e=>d("/search/multimatch",{keywords:e}),qr=e=>d("/artist/detail",{id:e}),Ur=e=>d("/artist/top/song",{id:e}),Hr=e=>d("/artist/album",{id:e}),Jr=e=>d("/artist/desc",{id:e}),sn=e=>d("/album",{id:e}),Gr=e=>d("/artist/mv",{id:e}),Yr=e=>d("/simi/artist",{id:e}),Kr=e=>d("/album/detail/dynamic",{id:e}),Zr=(e,t=0)=>d("/comment/album",{id:e,offset:t}),Qr=e=>d("/user/detail",{uid:e}),Wr=()=>d("/recommend/songs"),Xr=(e,t=0)=>d("/comment/video",{id:e,offset:t}),ea=e=>d("/video/detail",{id:e}),ta=e=>d("/video/url",{id:e}),sa=e=>d("/related/allvideo",{id:e}),na=()=>d("/video/group/list"),oa=(e=0)=>d("/video/timeline/all",{offset:e}),ra=e=>d("/dj/detail",{rid:e}),aa=e=>d("/dj/program",{rid:e}),ia=(e,t)=>d("/dj/subscriber",{id:e,time:t}),nn=e=>d("/comment/dj",{id:e}),ca=e=>d("/mv/url",{id:e}),la=e=>d("/mv/detail",{mvid:e}),ua=e=>d("/mv/detail/info",{mvid:e}),da=(e,t=0)=>d("/comment/mv",{id:e,offset:t}),_a=(e,t)=>d("/user/cloud",{offset:e,limit:t}),ma=()=>d("/playlist/highquality/tags"),pa=(e,t=1,s)=>d("/top/playlist/highquality",{cat:e,limit:t,before:s}),ha=(e,t,s)=>d("/dj/radio/hot",{cateId:e,offset:t,limit:s});var ft="static/svg/avatar-86c9b0fc.svg";const yt=e=>"userInfo"+e?`/${e}`:"",de=Y(yt("set"),async({phone:e,password:t},{rejectWithValue:s})=>{const[o,a]=await J(Us({phone:e,password:t}));if(o||!a)return s(null);const u=a,{code:r}=u,i=H(u,["code"]);return r===200?i:s(null)}),{reducer:on,actions:rn}=se({name:yt(),initialState:{cookie:"",profile:{avatarUrl:ft,nickname:"\u672A\u767B\u5F55",userId:0,description:""}},reducers:{setUserInfoFromCache(e,t){return E(E({},e),t.payload)}},extraReducers(e){e.addCase(de.fulfilled,(t,s)=>E(E({},t),s.payload)),e.addCase(de.rejected,t=>(W.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),t))}}),{setUserInfoFromCache:an}=rn,vt=e=>"userPlaylist"+e?`/${e}`:"",cn={playlist:[]},_e=Y(vt("set"),async(e,{rejectWithValue:t})=>{const[s,o]=await J(Hs(e));if(s||!o)return t(null);const i=o,{code:a}=i,r=H(i,["code"]);return a===200?r:t(null)}),{reducer:ln}=se({name:vt(),initialState:cn,reducers:{},extraReducers(e){e.addCase(_e.fulfilled,(t,s)=>E(E({},t),s.payload)),e.addCase(_e.rejected,t=>(W.error("\u83B7\u53D6\u6B4C\u5355\u5217\u8868\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),t))}});var Z=(e=>(e[e.IN_TURN=0]="IN_TURN",e[e.LOOP=1]="LOOP",e[e.SOLO=2]="SOLO",e[e.RANDOM=3]="RANDOM",e))(Z||{}),un=(e=>(e[e.SONG=1]="SONG",e[e.SINGER=100]="SINGER",e[e.ALBUM=10]="ALBUM",e[e.VIDEO=1014]="VIDEO",e[e.PLAYLIST=1e3]="PLAYLIST",e[e.LYRIC=1006]="LYRIC",e[e.RADIO=1009]="RADIO",e[e.USER=1002]="USER",e))(un||{});const ne=e=>`currentTrack/${e}`,Je=localStorage.getItem("currentTrack"),dn=Je?$.parse(Je):{current:-1,tracks:[],fm:[],autoPlay:!0},me=Y(ne("setSong"),async(e,{rejectWithValue:t})=>{const[s,o]=await J(Js(e));if(s||!o)return t(null);const{code:a,data:r}=o;return a===200?r.length===0||!r[0].url?(W.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<"),t(null)):r[0]:t(null)}),Ee=Y(ne("setFM"),async(e,{rejectWithValue:t})=>{const[s,o]=await J(Ys());if(s||!o)return t(null);const{code:a,data:r}=o;return a===200&&r.length?{init:e,data:r}:t(null)}),pe=Y(ne("nextFM"),async(e,{getState:t,dispatch:s,rejectWithValue:o})=>{const a=t(),{currentTrack:r}=a,{fm:i,current:u}=r,g=E({},r),h=i.length;if(h===u+1){const[p]=await J(s(Ee(!1)));if(p)return o(null)}return g.current++,g.current%=h,g}),Fe=Y(ne("insertSong"),async(e,{rejectWithValue:t,dispatch:s})=>{const[o,a]=await J(Promise.all([Xs(e),s(me(e))]));return o||!(a!=null&&a[0])?t(null):a[0]}),Ge=Y(ne("fetchAndSetCurrentTrack"),async(e,{rejectWithValue:t,dispatch:s})=>{let o,a;typeof e=="number"?o=e:(o=e.id,a=e.isAlbum);let r;if(a){const[i,u]=await J(sn(o));if(i||!u)return t(null);r=u.songs}else{const[i,u]=await J(Zs(o));if(i||!u)return t(null);r=u.playlist.tracks}s(pn({current:0,tracks:r,fm:[]}))}),{reducer:_n,actions:mn}=se({name:"currentTrack",initialState:dn,reducers:{setAutoPlay(e,t){const s=E({},e);return s.autoPlay=t.payload,s},setCurrentTrack(e,t){const u=e,{cacheCurrent:s}=u,o=H(u,["cacheCurrent"]),{current:a,tracks:r,fm:i}=t.payload;return i.length=0,V(E({},o),{current:a,tracks:r,fm:i,autoPlay:!0})},changeSong(e,t){const{tracks:s,current:o}=e,a=h=>Math.floor((h-1)*Math.random()),r=[],i=h=>{const{mode:p,next:_}=t.payload,y=s.length;let m;return p===Z.RANDOM?m=a(y):(m=_?h+1:h-1,m<0&&(m+=y),m%=y),r.includes(m)||r.push(m),s[m].disable&&r.length<s.length&&(m=i(m)),m},u=i(o),g=E({},e);return g.current=u,g.autoPlay=!0,g},changeCurrent(e,t){const s=E({},e);return s.current=t.payload,s.autoPlay=!0,s}},extraReducers(e){const t=s=>s;e.addCase(me.fulfilled,(s,o)=>V(E({},s),{song:o.payload})),e.addCase(me.rejected,s=>E({},s)),e.addCase(Ee.fulfilled,(s,o)=>{const a=E({},s),{init:r,data:i}=o.payload;return a.fm=i,r&&(a.cacheCurrent=a.current),a.current=0,a.autoPlay=!0,a}),e.addCase(Ee.rejected,t),e.addCase(pe.fulfilled,s=>{const o=E({},s);return o.current++,o}),e.addCase(pe.rejected,t),e.addCase(Fe.fulfilled,(s,o)=>{const a=E({},s);a.fm=[],a.tracks=[...a.tracks];let r=!1;return o.payload.songs.forEach(i=>{a.tracks.find(u=>i.id===u.id)||(a.tracks.push(i),r=!0)}),r&&(a.current=a.tracks.length-1),a.autoPlay=!0,a}),e.addCase(Fe.rejected,t),e.addCase(Ge.fulfilled,s=>{const o=E({},s);return o.autoPlay=!0,o}),e.addCase(Ge.rejected,t)}}),{setCurrentTrack:pn,changeSong:Ye,changeCurrent:hn}=mn,Ke=localStorage.getItem("controller"),gn=Ke?$.parse(Ke):{playMode:Z.IN_TURN,pause:!0,currentTime:0,showDetail:!1,keywords:""},{reducer:fn,actions:yn}=se({name:"controller",initialState:gn,reducers:{setPlayMode(e,t){const s=E({},e);return s.playMode=t.payload,s},setPause(e,t){const s=E({},e);return s.pause=t.payload,s},setCurrentTime(e,t){const s=E({},e);return s.currentTime=t.payload,s},setShowDetail(e,t){const s=E({},e);return s.showDetail=t.payload,s},setKeywords(e,t){const s=E({},e);return s.keywords=t.payload,s},setController(e,t){return E(E({},e),t.payload)}}}),{setPlayMode:vn,setPause:Ct,setCurrentTime:De,setShowDetail:Re,setKeywords:bt,setController:ga}=yn,Ze=localStorage.getItem("currentTrack"),Cn=Ze?$.parse(Ze):{},{reducer:bn,actions:En}=se({name:"djDetail",initialState:Cn,reducers:{setDJDetail(e,t){return t.payload}}}),{setDJDetail:fa}=En,Se=Bt({reducer:{user:on,userPlaylist:ln,currentTrack:_n,controller:fn,djDetail:bn}}),Fn=({setShowLogin:e})=>{const t=S("login",Ms),s=document.getElementById("portal"),[o,a]=c.exports.useState(""),[r,i]=c.exports.useState(""),u=R(),g=p=>{p.stopPropagation(),e(!1)},h=async p=>{if(p.preventDefault(),!o||!r)return;const _=await u(de({phone:o,password:r}));if(de.fulfilled.match(_)){Te.set("userInfo",_.payload);const{userId:y}=_.payload.profile;u(_e(y)),e(!1),W.success("\u767B\u5F55\u6210\u529F\uFF5E")}};return te.exports.createPortal(n("div",{className:t("mask"),children:l("form",{className:t(),children:[n(Ae,{onClick:g}),n("img",{className:t("img"),src:$s,alt:"login"}),l("div",{className:t("form"),children:[n("div",{className:t("form-item"),children:n("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",value:o,onChange:p=>a(p.target.value)})}),n("div",{className:t("form-item"),children:n("input",{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",value:r,onChange:p=>i(p.target.value)})})]}),n("button",{type:"submit",className:t("btn"),onClick:h,children:"\u767B\u5F55"})]})}),s)},Dn=()=>{const e=S("sidebar",He),[t,s]=c.exports.useState(),{push:o}=G(),{pathname:a}=xe(),[r,i]=c.exports.useState(!1),{profile:u,cookie:g}=k(b=>b.user),h=k(b=>b.userPlaylist.playlist),p=R(),_=[{menus:[{name:"\u53D1\u73B0\u97F3\u4E50",icon:ce,path:C.findMusic},{name:"\u79C1\u4EBAFM",icon:je,path:C.fm},{name:"\u89C6\u9891",icon:Lt,path:C.video,loginShow:!0},{name:"\u670B\u53CB",icon:je,path:C.friend}]},{title:"\u6211\u7684\u97F3\u4E50",menus:[{name:"iTunes\u97F3\u4E50",icon:ce,path:C.iTunes},{name:"\u4E0B\u8F7D\u7BA1\u7406",icon:It,path:C.download},{name:"\u6700\u8FD1\u64AD\u653E",icon:Ot,path:C.recent},{name:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",icon:Tt,path:C.cloudMusic,loginShow:!0},{name:"\u6211\u7684\u7535\u53F0",icon:Pt,path:C.radio,loginShow:!0},{name:"\u6211\u7684\u6536\u85CF",icon:_t,path:C.collection,loginShow:!0}]},{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[{name:"\u6211\u559C\u6B22\u7684\u97F3\u4E50",icon:Be,path:B.list("")}]}],[y,m]=c.exports.useReducer(N,_),v=({menu:b,index:w})=>{const A=z(t,w);return l("div",{className:L(e("item"),{[He["--active"]]:A}),onClick:()=>x({menu:b,index:w}),children:[n(b.icon,{}),n("a",{children:b.name})]},b.path)};function N(b,w){return[...b.slice(0,2),...w]}function x({menu:b,index:w}){s(w),o(b.path)}function f(){i(!0)}function D(){const b=Te.get("userInfo");if(!b)return;const w=$.parse(b);p(an(w));const{userId:A}=w.profile;p(_e(A))}function M(){for(let b=0,w=y.length;b<w;b++){const{menus:A}=y[b];for(let O=0,X=A.length;O<X;O++){const ee=A[O];if(a.includes(ee.path))return[b,O]}}}function z(b,w){if(!b||!w||b.length!==b.length)return!1;for(let A=0,O=b.length;A<O;A++)if(b[A]!==w[A])return!1;return!0}function q(b,w){if(!!b.title)return n("div",{className:e("title"),children:w<2?b.title:l(P,{children:[l("div",{className:e("title-left"),children:[n(Mt,{}),n("strong",{children:b.title})]}),b.title==="\u521B\u5EFA\u7684\u6B4C\u5355"&&n(mt,{className:e("title-right")})]})})}function T(){g?o({pathname:B.user(u.userId),state:!0}):i(!0)}return c.exports.useEffect(()=>{(async()=>{const b=M();s(b)})()},[a]),c.exports.useEffect(()=>{D()},[]),c.exports.useEffect(()=>{const b=[{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[]},{title:"\u6536\u85CF\u7684\u6B4C\u5355",menus:[]}];!h||h.length===0||(h.forEach(w=>{const{name:A,id:O,userId:X}=w,ee=B.list(O),oe={name:A,path:ee,icon:ce},fe=X===u.userId?0:1;b[fe].menus.push(oe)}),m(b))},[h]),l("aside",{className:e(),children:[l("header",{className:e("header"),children:[n("img",{src:ue(Q(u.avatarUrl,100)),alt:"icon",onClick:T}),n("strong",{onClick:f,children:u.nickname}),n(Rt,{onClick:f})]}),n(Pe,{className:e("main"),children:y.map((b,w)=>l("div",{children:[q(b,w),b.menus.map((A,O)=>g||!A.loginShow?n(v,{menu:A,index:[w,O]},O):null)]},w))}),r&&n(Fn,{setShowLogin:i})]})},Sn="_footer_oumu4_1",wn="_footer__left_oumu4_30",Nn="_footer__right_oumu4_58",xn="_footer__lyric_oumu4_62",kn="_footer__mid_oumu4_72",An="_footer__volume_oumu4_103";var j={footer:Sn,"footer__progress-bar":"_footer__progress-bar_oumu4_14",footer__left:wn,"footer__left-name":"_footer__left-name_oumu4_42",footer__right:Nn,footer__lyric:xn,"--active":"_--active_oumu4_69",footer__mid:kn,"--big":"_--big_oumu4_87","--medium":"_--medium_oumu4_90","--red":"_--red_oumu4_93","--disable":"_--disable_oumu4_96",footer__volume:An};const Bn=(e,t)=>{const s=k(i=>i.controller.pause),o=R(),a=c.exports.useMemo(()=>s?$t:zt,[s]);function r(i){!t||o(Ct(i))}return c.exports.useEffect(()=>{!(e!=null&&e.current)||(s?e.current.pause():e.current.play())},[s]),{PlayIcon:a,pause:s,handlePause:r}},Ln=(e,t,s)=>{const o=k(u=>u.controller.currentTime),a=R();return{currentTime:o,handleTimeUpdate:()=>{!(e!=null&&e.current)||a(De(e.current.currentTime*1e3))},handleProgressClick:u=>{if(!(t!=null&&t.current)||!(e!=null&&e.current)||!s)return;const{pageX:g}=u,{left:h,width:p}=t.current.getBoundingClientRect(),_=(g-h)/p*s/1e3;e.current.currentTime=_,a(De(_))}}},In=()=>{const e=k(r=>r.controller.playMode),t=R(),s=[{key:"inTurn",tip:"\u987A\u5E8F\u64AD\u653E",icon:Vt},{key:"loop",tip:"\u5FAA\u73AF\u64AD\u653E",icon:jt},{key:"solo",tip:"\u5355\u66F2\u5FAA\u73AF",icon:qt},{key:"random",tip:"\u968F\u673A\u64AD\u653E",icon:Ut}],o=c.exports.useMemo(()=>s[e],[e]);return{playMode:e,handleIconClick:()=>{const r=e===3?0:e+1;t(vn(r))},currentPlayMode:o}},On=()=>{const e=c.exports.useRef(null),[t,s]=c.exports.useState(!1);return{listButtonRef:e,showList:t,setShowList:s}},Tn=()=>{const[e,t]=c.exports.useState(!1);return{lyricActive:e,setLyricActive:t}},Pn=e=>{const[t,s]=c.exports.useState(100);return{volume:t,setVolume:s,handleVolumeChange:r=>{s(r.currentTarget.volume*100)},handleSliderChange:r=>{!(e!=null&&e.current)||(e.current.volume=r/100)}}},Rn="_fold_7eol0_1";var Qe={"music-detail":"_music-detail_7eol0_1",fold:Rn,"music-detail__shim":"_music-detail__shim_7eol0_14","--show":"_--show_7eol0_31","music-detail__player":"_music-detail__player_7eol0_34","music-detail__info":"_music-detail__info_7eol0_41","music-detail__comment":"_music-detail__comment_7eol0_46"};const Mn="_cover_j60n2_1",$n="_cover__inner_j60n2_11",zn="_rotate_j60n2_1";var We={cover:Mn,cover__inner:$n,"--animate":"_--animate_j60n2_17",rotate:zn};const Vn="_img_pj7a2_1",jn="_img__play_pj7a2_11",qn="_img__loading_pj7a2_31",Un="_img__count_pj7a2_39";var ae={img:Vn,img__play:jn,"--center":"_--center_pj7a2_18","--bottom":"_--bottom_pj7a2_23","--show":"_--show_pj7a2_28",img__loading:qn,img__count:Un};const Hn="_icon_fxwxv_1",Jn="_icon__play_fxwxv_11",Gn="_icon__pause_fxwxv_19";var Xe={icon:Hn,icon__play:Jn,icon__pause:Gn,"--small":"_--small_fxwxv_23","--medium":"_--medium_fxwxv_28","--big":"_--big_fxwxv_33","--large":"_--large_fxwxv_38","--giant":"_--giant_fxwxv_43"};const Yn=e=>{const t=S("icon",Xe),i=e,{type:s="play",size:o,className:a}=i,r=H(i,["type","size","className"]);return n("span",V(E({className:L(Xe[`--${o}`],a,t()),tabIndex:-1},r),{children:s==="play"?n("span",{className:t("play")}):n("span",{className:t("pause"),children:"| |"})}))},he=({alt:e="",banLoading:t=!1,style:s,className:o,src:a,icon:r=!1,count:i,onClick:u,onIconClick:g})=>{const h=S("img",ae),p=c.exports.useRef(null),[_,y]=c.exports.useState(!1),[m,v]=c.exports.useState(!0),[N,x]=c.exports.useState(!1),f=c.exports.useMemo(()=>{const z={size:"small",placement:"center",hoverDisplay:!1};return r===!1?!1:r===!0?z:E(E({},z),r)},[r]),D=new IntersectionObserver(z=>{z.forEach(q=>{var T;q.isIntersecting&&p&&((T=p.current)==null?void 0:T.style)&&y(!0)})});function M(){v(!1)}return c.exports.useEffect(()=>{if(!!p.current)return D.observe(p.current),()=>{!p.current||(D.unobserve(p.current),D.disconnect())}},[]),l("div",{ref:p,className:L(h(),o),style:s,children:[_&&n("img",{src:ue(a),alt:e,onLoad:M,onMouseMove:()=>x(!0),onMouseLeave:()=>x(!1),onClick:u}),!t&&m&&n(Ht,{className:h("loading")}),!m&&f&&n(Yn,{size:f.size,className:L(h("play"),ae[`--${f.size}`],ae[`--${f.placement}`],{[ae["--show"]]:!f.hoverDisplay||N}),onMouseMove:()=>x(!0),onClick:g}),i&&l("div",{className:h("count"),children:[n(Le,{}),i]})]})},Kn=({img:e,pause:t})=>{const s=S("cover",We);return n(P,{children:n("div",{className:s(),children:n(he,{className:L(s("inner"),{[We["--animate"]]:!t}),src:Q(e,300)})})})};var Zn={"button-group":"_button-group_ervze_1","button-group__item":"_button-group__item_ervze_6"};const Qn=({data:e})=>{const t=S("button-group",Zn);return n("ul",{className:t(),children:e.map((s,o)=>n("li",{className:t("item"),onClick:s.event,children:n(s.icon,{})},o))})},Wn="_lyric_19q8r_1",Xn="_lyric__quality_19q8r_19",eo="_lyric__info_19q8r_30",to="_lyric__wrapper_19q8r_46",so="_lyric__question_19q8r_69",no="_lyric__anchor_19q8r_81",oo="_lyric__container_19q8r_84";var et={lyric:Wn,"lyric__music-name":"_lyric__music-name_19q8r_12",lyric__quality:Xn,lyric__info:eo,lyric__wrapper:to,"--selected":"_--selected_19q8r_65",lyric__question:so,lyric__anchor:no,lyric__container:oo};const ro=({music:e})=>{const t=S("lyric",et),[s,o]=c.exports.useState([]),a=k(_=>_.controller.currentTime),r=c.exports.useRef(null),[i,u]=c.exports.useState(0),{push:g}=G();function h(_){const y=[];return _.split(`
`).forEach(v=>{v.replace(/\[(.*?)\](.*)(\[.*?\])?/,(N,x,f)=>{const D=[As(x)];return!f||!f.trim()||y.push({timestamp:D,value:f}),""})}),y}function p(){var N,x;if(!(r!=null&&r.current))return;const _=s.length;if(i===_-1)return;const y=r.current;let m=0;for(let f=i;f<_;f++)if(!!((x=(N=s[f])==null?void 0:N.timestamp)!=null&&x[0])&&a<=s[f].timestamp[0]){u(f-1),m=f-1;break}const v=44*m*window.innerWidth/1e3;m!==i&&y.scrollTo({top:v,behavior:"smooth"})}return c.exports.useEffect(()=>{var _;!(e!=null&&e.id)||((_=r.current)==null||_.scrollTo({top:0}),u(0),Gs(e.id).then(y=>{const{lrc:m,nolyric:v}=y;o(v?[]:h(m.lyric))}))},[e==null?void 0:e.id]),c.exports.useEffect(()=>{s.length&&p()},[a,s]),l("div",{className:t(),children:[l("h2",{children:[n("span",{className:t("music-name"),children:e==null?void 0:e.name}),n("span",{className:t("quality"),children:"\u6807\u51C6\u97F3\u8D28"})]}),l("div",{className:t("info"),children:[l("p",{children:[n("span",{children:"\u4E13\u8F91\uFF1A"}),n("a",{onClick:()=>g(B.list(e.album.id,"album")),children:e==null?void 0:e.album.name})]}),l("p",{children:[n("span",{children:"\u6B4C\u624B\uFF1A"}),e==null?void 0:e.artists.map(_=>n("a",{className:t("anchor"),onClick:()=>g(B.singer(_.id)),children:_.name},_.name))]})]}),n("div",{className:t("container"),children:s.length>0?n(Pe,{ref:r,className:t("wrapper"),children:s.map((_,y)=>n("p",{className:L({[et["--selected"]]:y===i}),children:_.value},y))}):n("span",{children:"\u7EAF\u97F3\u4E50\uFF0C\u8BF7\u60A8\u6B23\u8D4F"})}),n(Jt,{className:t("question")})]})},ao="_comments_1stot_1",io="_comments__left_1stot_9",co="_comments__img_1stot_12",lo="_comments__right_1stot_18",uo="_comments__info_1stot_34",_o="_comments__icons_1stot_39",mo="_comments__icon_1stot_39";var tt={comments:ao,comments__left:io,comments__img:co,comments__right:lo,"--mentioned":"_--mentioned_1stot_21",comments__info:uo,comments__icons:_o,comments__icon:mo};const st=({comment:e})=>{var r;const t=S("comments",tt),{push:s}=G(),o=[{icon:pt,value:e.likedCount},{icon:Gt},{icon:Yt}];function a(){s(B.user(e.user.userId))}return l("div",{className:t(),children:[n("div",{className:t("left"),children:n(he,{className:t("img"),src:Q((e==null?void 0:e.user.avatarUrl)||ft,30),onClick:a})}),l("div",{className:t("right"),children:[l("p",{children:[l("a",{onClick:a,children:[e.user.nickname,"\uFF1A"]}),e.content]}),((r=e.beReplied)==null?void 0:r.length)>0&&n("p",{className:tt["--mentioned"],children:e.beReplied.map(i=>l("span",{children:[l("a",{onClick:()=>s(B.user(i.user.userId)),children:["@",i.user.nickname,"\uFF1A"]}),i.content]},i.beRepliedCommentId))}),l("div",{className:t("info"),children:[n("span",{children:dt(e.time).format("YYYY\u5E74M\u6708D\u65E5 HH:mm")}),n("div",{className:t("icons"),children:o.map((i,u)=>l("div",{className:t("icon"),children:[n(i.icon,{}),i.value&&i.value>0?n("strong",{children:i.value}):null]},u))})]})]})]})};var po={"comment-group__title":"_comment-group__title_1v435_1","comment-group__footer":"_comment-group__footer_1v435_5","comment-group__empty":"_comment-group__empty_1v435_11"};const ho=({id:e,functionChildren:t,api:s})=>{const o=S("comment-group",po),[a,r]=c.exports.useState([]),[i,u]=c.exports.useState([]),[g,h]=c.exports.useState(0),[p,_]=c.exports.useState(1);async function y(m,v=1,N=20){if(!m)return;const x=(v-1)*N,f=await s(m,x);r(f.comments),f.hotComments&&u(f.hotComments),h(f.total)}return c.exports.useEffect(()=>{e&&y(e)},[e]),n("div",{className:o(),children:g>0?l(P,{children:[t==null?void 0:t(g),i.length>0&&l(P,{children:[n("h2",{className:o("title"),children:"\u7CBE\u5F69\u8BC4\u8BBA"}),i.map(m=>n(st,{comment:m},m.commentId))]}),a.length>0&&l(P,{children:[l("h2",{className:o("title"),children:["\u6700\u65B0\u8BC4\u8BBA\uFF08",g,"\uFF09"]}),a.map(m=>n(st,{comment:m},m.commentId))]}),g>20&&n("footer",{className:o("footer"),children:n(Kt,{total:g,showSizeChanger:!1,current:p,onChange:(m,v)=>{_(m),y(e,m,v)}})})]}):n("div",{className:o("empty"),children:"\u8FD8\u6CA1\u6709\u8BC4\u8BBA\uFF0C\u5FEB\u6765\u62A2\u6C99\u53D1\uFF5E"})})},go="_recommend_1byjg_1",fo="_recommend__title_1byjg_5",yo="_recommend__item_1byjg_12",vo="_recommend__img_1byjg_29";var Co={recommend:go,recommend__title:fo,recommend__item:yo,"recommend__item-info":"_recommend__item-info_1byjg_20",recommend__img:vo};const bo=({id:e})=>{const t=S("recommend",Co),[s,o]=c.exports.useState([]),[a,r]=c.exports.useState([]);return c.exports.useEffect(()=>{(async()=>{const i=await Qs(e);o(i.playlists)})(),(async()=>{const i=await Ws(e);r(i.songs)})()},[e]),l("div",{className:t(),children:[n("h2",{className:t("title"),children:"\u5305\u542B\u8FD9\u9996\u6B4C\u7684\u6B4C\u5355"}),s.map(i=>l("div",{className:t("item"),children:[n(he,{className:t("img"),src:Q(i.coverImgUrl,100)}),l("div",{className:t("item-info"),children:[n("div",{children:i.name}),n("div",{children:xs(i.playCount)})]})]},i.id)),n("h2",{className:t("title"),children:"\u76F8\u4F3C\u6B4C\u66F2"}),a.map(i=>l("div",{className:t("item"),children:[n(he,{className:t("img"),src:Q(i.album.picUrl,100),icon:!0}),l("div",{className:t("item-info"),children:[n("div",{children:i.name}),n("div",{children:i.artists.reduce((u,g)=>`${u} ${g.name}`,"").slice(1)})]})]},i.id))]})};var Eo={"write-comment__title":"_write-comment__title_16b6h_1","write-comment__input":"_write-comment__input_16b6h_5"};const Fo=({count:e})=>{const t=S("write-comment",Eo);return l(P,{children:[l("div",{className:t("title"),children:[n("strong",{children:"\u542C\u53CB\u8BC4\u8BBA"}),l("span",{children:["\uFF08\u5DF2\u6709",e,"\u6761\u8BC4\u8BBA\uFF09"]})]}),l("div",{className:t("input"),children:[l("span",{children:[n(Zt,{}),n("span",{style:{marginLeft:"5px"},children:"\u53D1\u8868\u8BC4\u8BBA"})]}),n("p",{children:"@"})]})]})},Do="_button_1iyu2_1",So="_button__left_1iyu2_10",wo="_button__right_1iyu2_24";var ie={button:Do,button__left:So,button__right:wo,"--compose":"_--compose_1iyu2_34","--normal":"_--normal_1iyu2_41"};const No=e=>{const t=S("button",ie),u=e,{compose:s,children:o,className:a}=u,r=H(u,["compose","children","className"]),i=l(P,{children:[l("div",{className:t("left"),children:[n(Le,{}),"\u64AD\u653E\u5168\u90E8"]}),n("div",{className:t("right"),children:n(mt,{})})]});return n("button",V(E({className:L(ie.button,s?ie["--compose"]:ie["--normal"],a)},r),{children:s?i:o}))};var xo={"radio-detail":"_radio-detail_11477_1","radio-detail__name":"_radio-detail__name_11477_8","radio-detail__detail":"_radio-detail__detail_11477_20","radio-detail__item":"_radio-detail__item_11477_25","radio-detail__tag":"_radio-detail__tag_11477_38","radio-detail__tag-wrapper":"_radio-detail__tag-wrapper_11477_49"};const ko=({music:e})=>{var o;const t=S("radio-detail",xo),s=k(a=>a.djDetail);return l("div",{className:t(),children:[n("h2",{children:e.name}),l("div",{className:t("name"),children:[n("strong",{children:s==null?void 0:s.name}),l(No,{children:[n(_t,{})," \u8BA2\u9605(",s.subCount,")"]})]}),l("div",{className:t("detail"),children:[l("div",{className:t("item"),children:[n("label",{children:"\u4E3B\u64AD:"}),n("a",{children:(o=s.dj)==null?void 0:o.nickname})]}),l("div",{className:t("item"),children:[n("label",{children:"\u6765\u6E90:"}),n("a",{children:s.original})]}),l("div",{className:t("item"),children:[n("label",{children:"\u521B\u5EFA\u65F6\u95F4:"}),n("span",{children:s.createTime})]}),l("div",{className:t("item"),children:[n("label",{children:"\u5DF2\u64AD\u653E:"}),l("span",{children:[s.playCount,"\u6B21"]})]})]}),l("div",{className:t("tag-wrapper"),children:[n("span",{className:t("tag"),children:s.category}),s.desc]})]})},Ao=({visible:e})=>{const t=S("music-detail",Qe),s=k(g=>g.controller.pause),o=R(),a=k(g=>{var h;return!((h=g.currentTrack.song)!=null&&h.flag)}),r=k(g=>{const{current:h,tracks:p,fm:_}=g.currentTrack;if(!(h<0||_.length>0)&&p[h])return u(p[h])}),i=[{icon:Be},{icon:Ie},{icon:Wt},{icon:Xt}];function u(g){const{name:h,id:p,dt:_,al:y,ar:m}=g;return{id:p,name:h,duration:_,album:y,artists:m}}return te.exports.createPortal(l(P,{children:[e&&r&&n("div",{className:t("shim"),children:n(Qt,{onClick:()=>o(Re(!1))})}),r&&l("div",{className:L(t(),{[Qe["--show"]]:e}),children:[l("section",{className:t("player"),children:[l("div",{children:[n(Kn,{img:r.album.picUrl,pause:s}),n(Qn,{data:i})]}),a?n(ko,{music:r}):n(ro,{music:r})]}),l("div",{className:t("info"),children:[n(ho,{id:r==null?void 0:r.id,api:a?nn:Ks,functionChildren:g=>n(Fo,{count:g})}),!a&&n(bo,{id:r==null?void 0:r.id})]})]})]}),document.getElementById("music-detail"))};var nt={"music-list":"_music-list_qtnd1_1","--show":"_--show_qtnd1_15","music-list__header":"_music-list__header_qtnd1_18","music-list__subtitle":"_music-list__subtitle_qtnd1_28","music-list__subtitle-right":"_music-list__subtitle-right_qtnd1_33","music-list__subtitle-all":"_music-list__subtitle-all_qtnd1_38","music-list__subtitle-clear":"_music-list__subtitle-clear_qtnd1_44","music-list__total":"_music-list__total_qtnd1_52"};const Bo="_table_1ltg6_1",Lo="_table__cell_1ltg6_29";var ve={table:Bo,"--active":"_--active_1ltg6_20","--disable":"_--disable_1ltg6_23",table__cell:Lo},Io="static/svg/no-music-ed6bb8c2.svg",Oo={"no-data":"_no-data_2e6x3_1","no-data__wrapper":"_no-data__wrapper_2e6x3_7"};const Et=({title:e,subTitle:t})=>{const s=S("no-data",Oo);return n("div",{className:s("wrapper"),children:l("div",{className:s(),children:[n("img",{src:Io,alt:"no-music"}),e&&n("h3",{children:e}),t&&n("div",{children:t})]})})},To=({columns:e,data:t,disableColumn:s="disable",noHead:o=!1,selectedRow:a,onDoubleClick:r})=>{const i=S("table",ve),[u,g]=c.exports.useState(-1);function h(p){if(!!r){if(t[p][s]){W.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<");return}r(p)}}return c.exports.useEffect(()=>{a!==void 0&&g(a)},[a]),l(P,{children:[l("table",{className:i(),children:[n("colgroup",{}),!o&&n("thead",{children:n("tr",{children:e.map((p,_)=>n("th",{children:n("div",{className:i("cell"),children:p.title})},_))})}),n("tbody",{children:t.length>0?t.map((p,_)=>n("tr",{className:L({[ve["--active"]]:u===_,[ve["--disable"]]:p[s]}),onDoubleClick:()=>h(_),children:e.map((y,m)=>{let v;return y.render?v=y.render(p):y.key&&(v=gs(p,y.key),y.format&&(v=y.format(v))),n("td",{children:n("div",{className:i("cell"),children:v})},m)})},_)):null})]}),t.length>0?null:n(Et,{subTitle:"\u6682\u65E0\u6570\u636E"})]})},Po=({visible:e,setVisible:t,target:s})=>{const o=S("music-list",nt),a=R(),r=k(h=>h.currentTrack),i=c.exports.useRef(null),u=[{title:"\u97F3\u4E50\u6807\u9898",key:"name"},{title:"\u6B4C\u624B",render(h){return h.ar.map(p=>n("span",{children:p.name},p.id))}},{title:"\u94FE\u63A5\u5230",key:""},{title:"\u65F6\u957F",key:"dt",format:Ce}];function g(h){a(hn(h))}return ct(i,h=>{h.target!==(s==null?void 0:s.querySelector("svg"))&&t(!1)}),te.exports.createPortal(l("div",{ref:i,className:L(o(),{[nt["--show"]]:e}),children:[l("header",{className:o("header"),children:[n("h2",{children:"\u5F53\u524D\u64AD\u653E"}),l("div",{className:o("subtitle"),children:[l("div",{className:o("total"),children:["\u603B",r.tracks.length,"\u9996"]}),l("div",{className:o("subtitle-right"),children:[l("span",{className:o("subtitle-all"),children:[n(es,{}),"\u6536\u85CF\u5168\u90E8"]}),n("span",{className:o("subtitle-clear"),children:"\u6E05\u7A7A\u5217\u8868"})]})]})]}),n("section",{className:o("subtitle-table"),children:n(To,{noHead:!0,selectedRow:r.current,data:r.tracks,columns:u,onDoubleClick:g})})]}),document.getElementById("drawer"))},Ro=()=>{const e=S("footer",j),t=c.exports.useRef(null),s=c.exports.useRef(null),o=R(),{push:a}=G(),r=k(I=>I.controller.showDetail),i=k(I=>I.currentTrack.autoPlay||!1),{listButtonRef:u,showList:g,setShowList:h}=On(),p=k(I=>I.currentTrack.fm.length),{lyricActive:_,setLyricActive:y}=Tn(),m=k(I=>{const{current:U,tracks:ye,fm:Me}=I.currentTrack;if(!(U<0)){if(!p)return ye[U];if(Me[U])return Bs(Me[U])}}),v=k(I=>{const{current:U,tracks:ye}=I.currentTrack;return U+1===ye.length}),N=k(I=>I.currentTrack.song),{PlayIcon:x,pause:f,handlePause:D}=Bn(t,m),{currentTime:M,handleTimeUpdate:z,handleProgressClick:q}=Ln(t,s,m==null?void 0:m.dt),{playMode:T,handleIconClick:b,currentPlayMode:w}=In(),{volume:A,handleSliderChange:O,handleVolumeChange:X}=Pn(t);function ee(){if(p){o(pe());return}!m||T!==Z.SOLO&&(T===Z.IN_TURN&&v?o(De(0)):o(Ye({mode:T,next:!0})))}function oe(I){if(!p&&m){o(Ye({mode:T,next:I}));return}I&&o(pe())}function fe(){p&&a(C.fm),o(Re(!r))}return c.exports.useEffect(()=>{m!=null&&m.id&&o(me(m.id))},[m==null?void 0:m.id]),l("footer",{className:e(),children:[(m==null?void 0:m.dt)&&n("progress",{ref:s,className:e("progress-bar"),value:M,max:m.dt,onClick:q}),n("div",{className:e("left"),children:m&&N&&l(P,{children:[n("audio",{ref:t,src:ue(N.url),controls:!0,autoPlay:i,loop:T===Z.SOLO,onTimeUpdate:z,onPlay:()=>D(!1),onPause:()=>D(!0),onEnded:ee,onVolumeChange:X}),n("img",{src:ue(Q(m.al.picUrl,100)),alt:"music",onClick:fe}),l("div",{className:e("left-name"),children:[l("div",{children:[m.name," -"," ",m.ar.reduce((I,U)=>`${I}/${U.name}`,"").slice(1)]}),l("div",{children:[Ce(M)," / ",Ce(m.dt)]})]})]})}),l("div",{className:e("mid"),children:[p?n(Be,{}):n(pt,{}),n(ts,{className:L(j["--medium"],j["--red"],{[j["--disable"]]:p}),onClick:()=>oe(!1)}),n(x,{className:L(j["--big"],j["--red"]),onClick:()=>D(!f)}),n(ss,{className:L(j["--medium"],j["--red"]),onClick:()=>oe(!0)}),p?n(Ie,{}):n(ns,{})]}),l("div",{className:e("right"),children:[!p&&n(os,{}),n(qe,{title:w.tip,children:n(w.icon,{onClick:b})}),!p&&m&&n(ht,{ref:u,onClick:()=>h(!g)}),n("span",{className:L(e("lyric"),{[j["--active"]]:_}),onClick:()=>y(!_),children:"\u8BCD"}),m&&n(qe,{title:()=>n("div",{className:e("volume"),children:n(rs,{vertical:!0,value:A,onChange:O})}),children:n(as,{})})]}),n(Ao,{visible:r}),n(Po,{visible:g,setVisible:h,target:u.current})]})};var Mo="static/svg/not-found-4a7109ca.svg",$o={"not-found":"_not-found_r5k7l_1"};const zo=()=>{const e=S("not-found",$o);return n("div",{className:e(),children:n("img",{src:Mo,alt:"404"})})},we=S("main"),Vo=({routes:e})=>{const{pathname:t}=xe(),s=R();function o(){const i=Se.getState(),{cacheCurrent:u,current:g}=i.currentTrack;let h=g;u!==void 0&&(h=u),localStorage.setItem("djDetail",$.stringify(E({},i.djDetail))),localStorage.setItem("currentTrack",$.stringify(V(E({},i.currentTrack),{current:h,autoPlay:!1,fm:[]}))),localStorage.setItem("controller",$.stringify(V(E({},i.controller),{pause:!0})))}function a(i,u){if(i.code==="Space"){const g=document.activeElement;(!g||g===document.body)&&(i.stopPropagation(),i.preventDefault(),u==null||u())}}function r(i){a(i,()=>{const u=Se.getState();s(Ct(!u.controller.pause))})}return c.exports.useEffect(()=>{s(Re(!1)),Vs()},[t]),c.exports.useEffect(()=>(window.addEventListener("beforeunload",o),document.addEventListener("keyup",r),document.addEventListener("keydown",a),()=>{window.removeEventListener("beforeunload",o),document.removeEventListener("keyup",r),document.removeEventListener("keydown",a)}),[]),l(P,{children:[l("section",{className:"container",children:[n(Dn,{}),n(Pe,{className:we(),children:n(c.exports.Suspense,{fallback:n(gt,{className:we("loading"),style:{position:"absolute"}}),children:l(lt,{children:[e&&e.map(i=>{const h=i,{component:u}=h,g=H(h,["component"]);return n(ut,V(E({},g),{render:p=>n(u,{},p.match.url)}),i.path)}),n(zo,{})]})})})]}),n(Ro,{})]})};var C=(e=>(e.root="/",e.home="/home",e.fm="/home/fm",e.searchResult="/home/search-result",e.dailyRecommend="/home/daily-recommend",e.findMusic="/home/find-music",e.findMusicMusicList="/home/find-music/music-list",e.findMusicRadioHost="/home/find-music/radio-host",e.findMusicRadioHostPay="/home/find-music/radio-host/pay",e.findMusicRank="/home/find-music/rank",e.findMusicSinger="/home/find-music/singer",e.findMusicNewest="/home/find-music/newest",e.video="/home/video",e.videoMV="/home/video/mv",e.friend="/home/friend",e.iTunes="/home/i-tunes",e.download="/home/download",e.downloadProgram="/home/download/program",e.downloadPendding="/home/download/pendding",e.recent="/home/recent",e.cloudMusic="/home/cloud-music",e.radio="/home/radio",e.collection="/home/collection",e.collectionSinger="/home/collection/singer",e.collectionVideo="/home/collection/video",e.collectionColumn="/home/collection/column",e.setting="/home/setting",e))(C||{});const Ne=e=>e?`/${e}`:"",K=(e,t,s="id")=>{const o=`/${e}`;return t===void 0?`${o}/:${s}?`:o+Ne(t)},ot=(e,t,s)=>t===void 0?`/${e}/:id?/:type?`:`/${e}${Ne(t)}${Ne(s)}`,B={list:(e,t)=>ot("home/list",e,t),singer:e=>K("home/singer",e),user:e=>K("home/user",e),findMusicNewest:e=>K("home/find-music/newest",e,"type"),playVideo:e=>K("play-video",e),radioList:(e,t)=>ot("home/radio-list",e,t),excellentList:e=>K("home/find-music/music-list/excellent",e),radioZone:e=>K("home/find-music/radio-host/zone",e,"type")},Ft={"find-music":[{label:"\u4E2A\u6027\u63A8\u8350",component:c.exports.lazy(()=>F(()=>import("./index-6558ab5a.js"),["static/js/index-6558ab5a.js","static/css/index-e82747ee.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-8c1c5bc4.js","static/css/index-2692bf2f.css","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"])),path:C.findMusic,exact:!0},{label:"\u6B4C\u5355",component:c.exports.lazy(()=>F(()=>import("./index-e6b4f9a6.js"),["static/js/index-e6b4f9a6.js","static/css/index-ed8dc3ba.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-f819dae0.js","static/css/index-e010c0aa.css","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"])),path:C.findMusicMusicList,exact:!0},{label:"\u4E3B\u64AD\u7535\u53F0",component:c.exports.lazy(()=>F(()=>import("./index-719aeeff.js"),["static/js/index-719aeeff.js","static/css/index-d2541e3d.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-8c1c5bc4.js","static/css/index-2692bf2f.css","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"])),path:C.findMusicRadioHost,exact:!0},{label:"\u6392\u884C\u699C",component:c.exports.lazy(()=>F(()=>import("./index-6e98ec9d.js"),["static/js/index-6e98ec9d.js","static/css/index-89bc3d52.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"])),path:C.findMusicRank},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>F(()=>import("./index-796f409e.js"),["static/js/index-796f409e.js","static/css/index-11f2a020.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-79a50130.js","static/js/index-6dc6c590.js","static/css/index-65a24dfc.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.findMusicSinger},{label:"\u6700\u65B0\u97F3\u4E50",component:c.exports.lazy(()=>F(()=>import("./index-124fa5ff.js"),["static/js/index-124fa5ff.js","static/css/index-4765b247.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-79a50130.js","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"])),path:C.findMusicNewest}],video:[{label:"\u89C6\u9891",component:c.exports.lazy(()=>F(()=>import("./index-f280c2a8.js"),["static/js/index-f280c2a8.js","static/css/index-48ca44ee.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-f75fb157.js","static/css/index-1fde7e75.css","static/js/index-7ba1d90d.js","static/css/index-76ebda23.css","static/js/index-f819dae0.js","static/css/index-e010c0aa.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.video,exact:!0},{label:"MV",component:c.exports.lazy(()=>F(()=>import("./index-bf20087a.js"),["static/js/index-bf20087a.js","static/css/index-db88c1c7.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-f75fb157.js","static/css/index-1fde7e75.css","static/js/index-79a50130.js","static/js/index-7ba1d90d.js","static/css/index-76ebda23.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.videoMV}],friend:[{label:"\u52A8\u6001",component:c.exports.lazy(()=>F(()=>import("./index-e585cc1b.js"),["static/js/index-e585cc1b.js","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.friend}],"i-tunes":[{label:"iTunes\u97F3\u4E50",component:c.exports.lazy(()=>F(()=>import("./index-2391a95c.js"),["static/js/index-2391a95c.js","static/css/index-63268595.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.iTunes}],download:[{label:"\u5DF2\u4E0B\u8F7D\u5355\u66F2",component:c.exports.lazy(()=>F(()=>import("./index-a3c0f02f.js"),["static/js/index-a3c0f02f.js","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-fee72d3b.js","static/css/index-01c1781a.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.download,exact:!0},{label:"\u5DF2\u4E0B\u8F7D\u8282\u76EE",component:c.exports.lazy(()=>F(()=>import("./index-3268fca3.js"),["static/js/index-3268fca3.js","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-fee72d3b.js","static/css/index-01c1781a.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.downloadProgram},{label:"\u6B63\u5728\u4E0B\u8F7D",component:c.exports.lazy(()=>F(()=>import("./index-9b77dfa7.js"),["static/js/index-9b77dfa7.js","static/css/index-1b65357d.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.downloadPendding}],recent:[{label:"\u6700\u8FD1\u64AD\u653E",component:c.exports.lazy(()=>F(()=>import("./index-351df990.js"),["static/js/index-351df990.js","static/css/index-985a0294.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.recent}],"cloud-music":[{label:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",component:c.exports.lazy(()=>F(()=>import("./index-bf67dc61.js"),["static/js/index-bf67dc61.js","static/css/index-09e80a50.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-79a50130.js","static/js/index-6dc6c590.js","static/css/index-65a24dfc.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.cloudMusic}],radio:[{label:"\u6211\u7684\u7535\u53F0",component:c.exports.lazy(()=>F(()=>import("./index-4a30449c.js"),["static/js/index-4a30449c.js","static/css/index-1be8b182.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-222d8141.js","static/css/index-6409d9b6.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.radio}],collection:[{label:"\u4E13\u8F91",component:c.exports.lazy(()=>F(()=>import("./index-6a9656af.js"),["static/js/index-6a9656af.js","static/css/index-19b552b8.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-222d8141.js","static/css/index-6409d9b6.css","static/js/index-7d1a23b4.js","static/css/index-e45ef900.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.collection,exact:!0},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>F(()=>import("./index-b802b685.js"),["static/js/index-b802b685.js","static/css/index-77191418.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-222d8141.js","static/css/index-6409d9b6.css","static/js/index-7d1a23b4.js","static/css/index-e45ef900.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.collectionSinger},{label:"\u89C6\u9891",component:c.exports.lazy(()=>F(()=>import("./index-78003427.js"),["static/js/index-78003427.js","static/css/index-8ad9c84e.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-7d1a23b4.js","static/css/index-e45ef900.css","static/js/index-7ba1d90d.js","static/css/index-76ebda23.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.collectionVideo},{label:"\u4E13\u680F",component:c.exports.lazy(()=>F(()=>import("./index-34219958.js"),["static/js/index-34219958.js","static/css/index-0ddc6bf5.css","static/js/index-7d1a23b4.js","static/css/index-e45ef900.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.collectionColumn}],setting:[{label:"\u8BBE\u7F6E",component:c.exports.lazy(()=>F(()=>import("./index-5b8f2166.js"),["static/js/index-5b8f2166.js","static/css/index-bf4b0459.css","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/react-7f918845.js","static/js/lodash-44bc1aaf.js","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"])),path:C.setting}]},jo=[{path:C.home,exact:!0,component:Vo,routes:[{path:C.fm,component:c.exports.lazy(()=>F(()=>import("./index-5e5138c1.js"),["static/js/index-5e5138c1.js","static/css/index-f1cc5e9d.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"]))},{path:B.list(),component:c.exports.lazy(()=>F(()=>import("./index-a430b63d.js"),["static/js/index-a430b63d.js","static/css/index-7ac0ab9b.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/react-redux-8df6583b.js","static/js/write-comment-7cb6ba4c.js","static/css/write-comment-245ec406.css","static/js/index-79a50130.js","static/js/react-router-dom-102d9908.js"]))},{path:B.singer(),component:c.exports.lazy(()=>F(()=>import("./index-e9f09b73.js"),["static/js/index-e9f09b73.js","static/css/index-f67a68db.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-d0cbb1b1.js","static/css/index-11494661.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"]))},{path:C.searchResult,component:c.exports.lazy(()=>F(()=>import("./index-7df36039.js"),["static/js/index-7df36039.js","static/css/index-0c6b5e41.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-7ffab79e.js","static/css/index-91bec25c.css","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"]))},{path:B.user(),component:c.exports.lazy(()=>F(()=>import("./index-44b0cd00.js"),["static/js/index-44b0cd00.js","static/css/index-c753a929.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-7ffab79e.js","static/css/index-91bec25c.css","static/js/index-d0cbb1b1.js","static/css/index-11494661.css","static/js/index-3b7958a7.js","static/css/index-69065f68.css","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"]))},{path:C.dailyRecommend,component:c.exports.lazy(()=>F(()=>import("./index-9a306f26.js"),["static/js/index-9a306f26.js","static/css/index-1e938c76.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-79a50130.js","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"]))},{path:B.findMusicNewest(),component:c.exports.lazy(()=>F(()=>import("./index-124fa5ff.js"),["static/js/index-124fa5ff.js","static/css/index-4765b247.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-79a50130.js","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"]))},{path:B.radioList(),component:c.exports.lazy(()=>F(()=>import("./index-1b98e5da.js"),["static/js/index-1b98e5da.js","static/css/index-b0d5c60f.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/collector.module-b0079d28.js","static/css/collector.module-7b8bb6c7.css","static/js/index-6dc6c590.js","static/css/index-65a24dfc.css","static/js/react-redux-8df6583b.js","static/js/react-router-dom-102d9908.js"]))},{path:B.excellentList(),component:c.exports.lazy(()=>F(()=>import("./index-76379939.js"),["static/js/index-76379939.js","static/css/index-50c1e96e.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-f819dae0.js","static/css/index-e010c0aa.css","static/js/react-redux-8df6583b.js","static/js/index-6dc6c590.js","static/css/index-65a24dfc.css","static/js/react-router-dom-102d9908.js"]))},{path:B.radioZone(),component:c.exports.lazy(()=>F(()=>import("./index-49b80c5f.js"),["static/js/index-49b80c5f.js","static/css/index-dcf2003d.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-6dc6c590.js","static/css/index-65a24dfc.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"]))},{path:C.findMusicRadioHostPay,component:c.exports.lazy(()=>F(()=>import("./index-486623b6.js"),["static/js/index-486623b6.js","static/css/index-b7759ce6.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/index-6dc6c590.js","static/css/index-65a24dfc.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"]))},...Object.values(Ft).flat()]},{path:B.playVideo(),component:c.exports.lazy(()=>F(()=>import("./index-12f7f92c.js"),["static/js/index-12f7f92c.js","static/css/index-7240d91a.css","static/js/react-7f918845.js","static/js/vendor-2e679db4.js","static/css/vendor-62aed74a.css","static/js/lodash-44bc1aaf.js","static/js/write-comment-7cb6ba4c.js","static/css/write-comment-245ec406.css","static/js/react-router-dom-102d9908.js","static/js/react-redux-8df6583b.js"]))}],qo="_header_1mmlg_1",Uo="_header__left_1mmlg_6",Ho="_header__right_1mmlg_21";var rt={header:qo,header__left:Uo,"header__left-icon":"_header__left-icon_1mmlg_17",header__right:Ho,"header__right-menu":"_header__right-menu_1mmlg_29","--active":"_--active_1mmlg_35","header__right-wrapper":"_header__right-wrapper_1mmlg_53","header__right-icons":"_header__right-icons_1mmlg_57"};const Jo="_input_bex9z_1",Go="_input__icon_bex9z_35",Yo="_input__close_bex9z_46";var at={input:Jo,"--normal":"_--normal_bex9z_19","--transparent":"_--transparent_bex9z_25",input__icon:Go,input__close:Yo};const Ko=c.exports.forwardRef((r,a)=>{var i=r,{type:e="transparent",value:t="",setValue:s}=i,o=H(i,["type","value","setValue"]);const u=S("input",at),g=c.exports.useMemo(()=>!!t,[t]),h=_=>{s==null||s(_.currentTarget.value)};function p(){s==null||s("")}return l("div",{className:L(at[`--${e}`],u()),children:[n("input",V(E({},o),{value:t,ref:a,type:"text",onInput:h})),n("div",{className:u("icon"),children:n(is,{})}),g&&n(Ae,{className:u("close"),onClick:p})]})});var it={"search-list":"_search-list_13cuv_1","--show":"_--show_13cuv_15"},Zo={"empty-suggestion__header":"_empty-suggestion__header_1a47l_1","empty-suggestion__header-delete":"_empty-suggestion__header-delete_1a47l_4","empty-suggestion__item":"_empty-suggestion__item_1a47l_17","empty-suggestion__item-top":"_empty-suggestion__item-top_1a47l_33","empty-suggestion__item-right":"_empty-suggestion__item-right_1a47l_54","empty-suggestion__item-bottom":"_empty-suggestion__item-bottom_1a47l_64","empty-suggestion__history":"_empty-suggestion__history_1a47l_78","empty-suggestion__history-item":"_empty-suggestion__history-item_1a47l_82","empty-suggestion__title":"_empty-suggestion__title_1a47l_110"};const Qo=({visible:e,setVisible:t})=>{const s=S("empty-suggestion",Zo),[o,a]=c.exports.useState([]),[r,i]=c.exports.useState([]),{push:u}=G(),g=R(),h=_=>{_.stopPropagation()};function p(_){g(bt(_)),t(!1);const y=Oe.stringify({keywords:_});u(`${C.searchResult}?${y}`)}return c.exports.useEffect(()=>{if(!e)return;const _=localStorage.getItem("search-history");_&&i($.parse(_)),(async()=>{const y=await en();a(y.data)})()},[e]),l(P,{children:[r.length>0&&l("header",{className:s("header"),children:[l("h2",{children:["\u641C\u7D22\u5386\u53F2 ",n(Ie,{className:s("header-delete")})]}),n("div",{className:s("history"),children:r.map((_,y)=>l("div",{className:s("history-item"),onClick:()=>p(_),children:[_,n(Ae,{onClick:h})]},y))})]}),n("h3",{className:s("title"),children:"\u70ED\u641C\u699C"}),o.map((_,y)=>l("div",{className:s("item"),onClick:()=>p(_.searchWord),children:[n("p",{children:y+1}),l("div",{className:s("item-right"),children:[l("div",{className:s("item-top"),children:[n("strong",{children:_.searchWord}),_.iconUrl?n("mark",{children:"HOT"}):null,n("span",{children:_.score})]}),_.content&&n("div",{className:s("item-bottom"),children:_.content})]})]},_.searchWord))]})};var Wo={"keyword-suggestion":"_keyword-suggestion_1d2pk_1","keyword-suggestion__header":"_keyword-suggestion__header_1d2pk_4","keyword-suggestion__title":"_keyword-suggestion__title_1d2pk_15","keyword-suggestion__item":"_keyword-suggestion__item_1d2pk_23"};const Xo=({setVisible:e})=>{var m;const t=S("keyword-suggestion",Wo),s=k(v=>v.controller.keywords),[o,a]=c.exports.useState({}),{push:r}=G(),i=R(),u={albums:{label:"\u4E13\u8F91",icon:Le},artists:{label:"\u6B4C\u624B",icon:cs},playlists:{label:"\u6B4C\u5355",icon:ht},songs:{label:"\u5355\u66F2",icon:ce}};function g(v,N){({artists:()=>r(B.singer(v)),songs:()=>i(Fe(v)),albums:()=>r(B.list(v,"album")),playlists:()=>r(B.list(v))})[N](),e(!1)}function h(){e(!1);const v=Oe.stringify({keywords:s});r(`${C.searchResult}?${v}`)}function p(v){const N=u[v],x=o[v];return l("div",{children:[l("div",{className:t("title"),children:[n(N.icon,{}),N.label]}),x==null?void 0:x.map(f=>_(f,v))]},N.label)}function _(v,N){const f={albums:()=>{const D=v;return`${D.name} - ${D.artist.name}`},artists:()=>v.name,playlists:()=>v.name,songs:()=>{var q;const D=v;let M=D.transNames||((q=D.alias)==null?void 0:q.join(" "))||"";M=M?`\uFF08${M}\uFF09`:"";const z=D.artists.reduce((T,b)=>`${T} ${b.name}`,"").slice(1);return`${D.name} ${M}- ${z}`}}[N];return n("div",{className:t("item"),onClick:()=>g(v.id,N),children:f()},v.id)}async function y(){const v=await tn(s);a(v.result)}return Nt(y,300,[s]),(m=o.order)!=null&&m.length?l("div",{className:t(),children:[n("header",{className:t("header"),children:l("span",{onClick:h,children:["\u641C\u201C",n("strong",{children:s}),"\u201D\u76F8\u5173\u7684\u7ED3\u679C >"]})}),o.order.map(p)]}):n(Et,{title:"\u6682\u65E0\u6570\u636E"})},er=({visible:e,setVisible:t,inputRef:s})=>{const o=S("search-list",it),a=c.exports.useRef(null),r=k(i=>i.controller.keywords);return ct(a,i=>{i.target!==s&&t(!1)}),te.exports.createPortal(n("div",{ref:a,className:L(o(),{[it["--show"]]:e}),children:e?r&&r.trim()?n(Xo,{setVisible:t}):n(Qo,{visible:e,setVisible:t}):null}),document.getElementById("drawer"))},tr=()=>{const e=S("header",rt),[t,s]=c.exports.useState(""),[o,a]=c.exports.useState([]),{pathname:r}=xe(),{go:i,push:u}=G(),[g,h]=c.exports.useState(!1),p=k(f=>f.controller.keywords),_=c.exports.useRef(null),y=R(),m=[{icon:ds,event:()=>{u(C.setting)}},{icon:_s},{icon:ms},{icon:ps}],v=f=>{if(f.key==="Enter"&&p){h(!1);const D=Oe.stringify({keywords:p});u(`${C.searchResult}?${D}`)}};function N(f){y(bt(f))}function x(f=!1){i(f?1:-1)}return c.exports.useEffect(()=>{if(!r)return;const f=r.match(/home\/([\w-\d]+)\b/);f!=null&&f[1]&&a(Ft[f[1]]||[]);let D=r.split("/");D.length>4&&(D=D.slice(0,4)),s(D.join("/"))},[r]),l("header",{className:e(),children:[l("div",{"data-tauri-drag-region":!0,className:e("left"),children:[n(ls,{className:e("left-icon"),onClick:()=>x()}),n(us,{className:e("left-icon"),onClick:()=>x(!0)})]}),l("div",{"data-tauri-drag-region":!0,className:e("right"),children:[n("ul",{className:e("right-menu"),children:r.includes("/home")&&o.map(f=>n("li",{className:L({[rt["--active"]]:f.path===t}),children:n(kt,{to:f.path,onClick:()=>s(f.path),children:f.label})},f.path))}),l("div",{className:e("right-wrapper"),children:[n(Ko,{ref:_,type:"normal",placeholder:"\u641C\u7D22",value:p,setValue:N,onFocus:()=>h(!0),onKeyUp:v}),n("div",{className:e("right-icons"),children:m.map((f,D)=>n(f.icon,{onClick:f.event},D))})]})]}),n(er,{visible:g,setVisible:h,inputRef:_.current})]})},sr=()=>n(hs,{store:Se,children:l(At,{children:[n(tr,{}),n(c.exports.Suspense,{fallback:n(gt,{className:we("loading"),style:{position:"absolute"}}),children:l(lt,{children:[n(xt,{from:C.root,to:C.findMusic,exact:!0}),jo.map(e=>n(ut,{path:e.path,children:n(e.component,E({},e))},e.path))]})})]})});te.exports.render(n(c.exports.StrictMode,{children:n(sr,{})}),document.getElementById("root"));export{Xr as $,Qr as A,Qn as B,ho as C,B as D,Dr as E,Hs as F,Wr as G,xr as H,Yn as I,kr as J,Ge as K,ro as L,lr as M,ia as N,ra as O,fa as P,aa as Q,ma as R,un as S,To as T,pa as U,ha as V,Fo as W,br as X,Fr as Y,da as Z,F as _,Ee as a,ea as a0,la as a1,ua as a2,ta as a3,ca as a4,sa as a5,C as a6,ur as a7,_r as a8,mr as a9,Gr as aA,Jr as aB,Yr as aC,Ur as aD,pr as aa,hr as ab,gr as ac,Cr as ad,vr as ae,yr as af,Sr as ag,dr as ah,Er as ai,wr as aj,Nr as ak,na as al,Br as am,oa as an,Ar as ao,Lr as ap,Ir as aq,Or as ar,Tr as as,Et as at,Ko as au,_a as av,Pr as aw,Rr as ax,Mr as ay,$r as az,he as b,S as c,zr as d,Zr as e,fr as f,Ks as g,ft as h,No as i,pn as j,sn as k,Kr as l,Zs as m,pe as n,Ce as o,qr as p,Hr as q,Q as r,Ct as s,ue as t,Vr as u,Fe as v,xs as w,ks as x,Pe as y,jr as z};
